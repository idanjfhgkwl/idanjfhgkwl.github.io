<!doctype html>
<html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta><title>Category: study - 제목</title><link rel="manifest" href="/manifest.json"><meta name="application-name" content="제목"><meta name="msapplication-TileImage" content="/img/favicon.svg"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="제목"><meta name="apple-mobile-web-app-status-bar-style" content="default"><meta description="설명"><meta property="og:type" content="blog"><meta property="og:title" content="제목"><meta property="og:url" content="https://github.com/idanjfhgkwl/idanjfhgkwl.github.io"><meta property="og:site_name" content="제목"><meta property="og:description" content="설명"><meta property="og:locale" content="en_US"><meta property="og:image" content="https://github.com/img/og_image.png"><meta property="article:author" content="JustY"><meta property="twitter:card" content="summary"><meta property="twitter:image" content="/img/og_image.png"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://github.com/idanjfhgkwl/idanjfhgkwl.github.io"},"headline":"제목","image":["https://github.com/img/og_image.png"],"author":{"@type":"Person","name":"JustY"},"description":"설명"}</script><link rel="icon" href="/img/favicon.svg"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.12.0/css/all.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-light.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link rel="stylesheet" href="/css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><!--!--><!--!--><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/css/justifiedGallery.min.css"><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script><!--!--><!--!--><meta name="generator" content="Hexo 5.2.0"></head><body class="is-2-column"><nav class="navbar navbar-main"><div class="container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="/img/logo.svg" alt="제목" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">Home</a><a class="navbar-item" href="/archives">Archives</a><a class="navbar-item" href="/categories">Categories</a><a class="navbar-item" href="/tags">Tags</a><a class="navbar-item" href="/about">About</a></div><div class="navbar-end"><a class="navbar-item" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/ppoffice/hexo-theme-icarus"><i class="fab fa-github"></i></a><a class="navbar-item search" title="Search" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-8-widescreen"><div class="card"><div class="card-content"><nav class="breadcrumb" aria-label="breadcrumbs"><ul><li><a href="/categories">Categories</a></li><li class="is-active"><a href="#" aria-current="page">study</a></li></ul></nav></div></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2020-11-05T06:48:07.094Z" title="2020-11-05T06:48:07.094Z">2020-11-05</time></span><span class="level-item">Updated&nbsp;<time dateTime="2020-11-05T06:51:32.096Z" title="2020-11-05T06:51:32.096Z">2020-11-05</time></span><span class="level-item"><a class="link-muted" href="/categories/study/">study</a></span><span class="level-item">9 minutes read (About 1295 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2020/11/05/study/seaborn_with_matplotlib/">Seaborn with Matplotlib</a></h1><div class="content"><h1 id="seaborn-matplotlib"><a href="#seaborn-matplotlib" class="headerlink" title="seaborn + matplotlib"></a>seaborn + matplotlib</h1><p>출처: <a href="images/seaborn_with_matplotlib/https://jehyunlee.github.io/2020/09/30/Python-DS-34-seaborn_matplotlib/">Pega Devlog</a></p>
<ul>
<li><p>seaborn은 matplotlib을 쉽고 아름답게 쓰고자 만들어졌다.</p>
<ul>
<li>따라서 seaborn의 결과물은 당연히 matplotlib의 결과물이다.</li>
<li>그러나 간혹 seaborn이 그린 그림의 폰트, 색상에 접근이 되지 않아서 난처하다.</li>
<li>seaborn의 구조를 잘 이해하지 못하면 해결도 어렵다.</li>
</ul>
</li>
<li><p>v0.11 기준으로 seaborn에는 다음과 같은 함수들이 있다.</p>
<p><img src="https://user-images.githubusercontent.com/72365720/98201051-34f2eb00-1f72-11eb-8e45-aafa0f39653b.png" alt="seaborn functions"></p>
</li>
</ul>
<ul>
<li>matplotlib의 출력물은 <code>figure</code>와 <code>axes(축)</code>만을 반환한다.<ul>
<li>seaborn의 명령어 중 <code>axes</code>를 반환하는 것들은 matplotlib와 섞어 쓰기 좋다.</li>
<li>먼저 matplotlib의 객체 지향 <code>object oriented</code> interface를 사용해서 그림의 틀을 만든 뒤, 특정 <code>axes</code>에 seaborn을 삽입하면 된다.</li>
<li>결론적으로, 하고 싶은 것이 다 된다.</li>
</ul>
</li>
</ul>
<h2 id="Load-data"><a href="#Load-data" class="headerlink" title="Load data"></a>Load data</h2><ul>
<li>예제로 사용할 펭귄 데이터를 불러온다. (이 데이터는 seaborn에 내장되어 있다.)</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> seaborn <span class="keyword">as</span> sns</span><br><span class="line"></span><br><span class="line"><span class="comment"># Pandas에서 나오는 경고문 무시</span></span><br><span class="line"><span class="keyword">import</span> warnings</span><br><span class="line">warnings.filterwarnings(<span class="string">&#x27;ignore&#x27;</span>)</span><br><span class="line"></span><br><span class="line">penguins = sns.load_dataset(<span class="string">&quot;penguins&quot;</span>)</span><br><span class="line">penguins.head()</span><br></pre></td></tr></table></figure>




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

<pre><code>.dataframe tbody tr th &#123;
    vertical-align: top;
&#125;

.dataframe thead th &#123;
    text-align: right;
&#125;</code></pre>
<p></style></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>species</th>
      <th>island</th>
      <th>bill_length_mm</th>
      <th>bill_depth_mm</th>
      <th>flipper_length_mm</th>
      <th>body_mass_g</th>
      <th>sex</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Adelie</td>
      <td>Torgersen</td>
      <td>39.1</td>
      <td>18.7</td>
      <td>181.0</td>
      <td>3750.0</td>
      <td>Male</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Adelie</td>
      <td>Torgersen</td>
      <td>39.5</td>
      <td>17.4</td>
      <td>186.0</td>
      <td>3800.0</td>
      <td>Female</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Adelie</td>
      <td>Torgersen</td>
      <td>40.3</td>
      <td>18.0</td>
      <td>195.0</td>
      <td>3250.0</td>
      <td>Female</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Adelie</td>
      <td>Torgersen</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Adelie</td>
      <td>Torgersen</td>
      <td>36.7</td>
      <td>19.3</td>
      <td>193.0</td>
      <td>3450.0</td>
      <td>Female</td>
    </tr>
  </tbody>
</table>
</div>



<h2 id="figure-and-axes"><a href="#figure-and-axes" class="headerlink" title="figure and axes"></a>figure and axes</h2><ul>
<li>matplotlib으로 도화지(figure)를 깔고, 축공간(axes)을 만든다.</li>
<li>1 * 2 축공간을 구성한다.</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">fig, axes = plt.subplots(ncols = <span class="number">2</span>, figsize = (<span class="number">8</span>, <span class="number">4</span>))</span><br><span class="line">fig.tight_layout()</span><br></pre></td></tr></table></figure>


<p><img src="images/seaborn_with_matplotlib/output_10_0.png" alt="png"></p>
<h2 id="plot-with-matplotlib"><a href="#plot-with-matplotlib" class="headerlink" title="plot with matplotlib"></a>plot with matplotlib</h2><ul>
<li>matplotlib 기능을 이용해서 산점도를 그린다.<ul>
<li>x축은 부리 길이(bill length)</li>
<li>y축은 부리 위 아래 두께(bill depth)</li>
<li>색상은 종(species)으로 한다. (Adelie, Chinstrap, Gentoo가 있다.)</li>
</ul>
</li>
<li>두 축공간 중 왼쪽에만 그린다.</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">fig, axes = plt.subplots(ncols = <span class="number">2</span>, figsize = (<span class="number">8</span>, <span class="number">4</span>))</span><br><span class="line"></span><br><span class="line">species_u = penguins[<span class="string">&quot;species&quot;</span>].unique()</span><br><span class="line"></span><br><span class="line"><span class="comment"># plot 0: matplotlib</span></span><br><span class="line"><span class="keyword">for</span> i, s <span class="keyword">in</span> <span class="built_in">enumerate</span>(species_u):</span><br><span class="line">    axes[<span class="number">0</span>].scatter(penguins[<span class="string">&quot;bill_length_mm&quot;</span>].loc[penguins[<span class="string">&quot;species&quot;</span>] == s],</span><br><span class="line">                    penguins[<span class="string">&quot;bill_depth_mm&quot;</span>].loc[penguins[<span class="string">&quot;species&quot;</span>] == s],</span><br><span class="line">                    c = <span class="string">f&quot;C<span class="subst">&#123;i&#125;</span>&quot;</span>, label = s, alpha = <span class="number">0.3</span></span><br><span class="line">                    )</span><br><span class="line">axes[<span class="number">0</span>].legend(species_u, title = <span class="string">&quot;species&quot;</span>)</span><br><span class="line">axes[<span class="number">0</span>].set_xlabel(<span class="string">&quot;Bill Length (mm)&quot;</span>)</span><br><span class="line">axes[<span class="number">0</span>].set_ylabel(<span class="string">&quot;Bill Depth (mm)&quot;</span>)</span><br><span class="line"></span><br><span class="line">fig.tight_layout()</span><br></pre></td></tr></table></figure>


<p><img src="images/seaborn_with_matplotlib/output_13_0.png" alt="png"></p>
<h2 id="plot-with-seaborn"><a href="#plot-with-seaborn" class="headerlink" title="plot with seaborn"></a>plot with seaborn</h2><blockquote>
<p><a target="_blank" rel="noopener" href="https://seaborn.pydata.org/generated/seaborn.scatterplot.html"><em>seaborn.scatterplot</em></a></p>
</blockquote>
<ul>
<li>이번엔 같은 plot을 seaborn으로 그려보자.</li>
<li>위 코드에 아래 세 줄만 추가한다.</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">fig, axes = plt.subplots(ncols = <span class="number">2</span>, figsize = (<span class="number">8</span>, <span class="number">4</span>))</span><br><span class="line"></span><br><span class="line">species_u = penguins[<span class="string">&quot;species&quot;</span>].unique()</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i, s <span class="keyword">in</span> <span class="built_in">enumerate</span>(species_u):</span><br><span class="line">    axes[<span class="number">0</span>].scatter(penguins[<span class="string">&quot;bill_length_mm&quot;</span>].loc[penguins[<span class="string">&quot;species&quot;</span>] == s],</span><br><span class="line">                    penguins[<span class="string">&quot;bill_depth_mm&quot;</span>].loc[penguins[<span class="string">&quot;species&quot;</span>] == s],</span><br><span class="line">                    c = <span class="string">f&quot;C<span class="subst">&#123;i&#125;</span>&quot;</span>, label = s, alpha = <span class="number">0.3</span></span><br><span class="line">                    )</span><br><span class="line">axes[<span class="number">0</span>].legend(species_u, title = <span class="string">&quot;species&quot;</span>)</span><br><span class="line">axes[<span class="number">0</span>].set_xlabel(<span class="string">&quot;Bill Length (mm)&quot;</span>)</span><br><span class="line">axes[<span class="number">0</span>].set_ylabel(<span class="string">&quot;Bill Depth (mm)&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># plot 1: seaborn</span></span><br><span class="line">sns.scatterplot(<span class="string">&quot;bill_length_mm&quot;</span>, <span class="string">&quot;bill_depth_mm&quot;</span>, hue=<span class="string">&quot;species&quot;</span>, data=penguins, alpha=<span class="number">0.3</span>, ax=axes[<span class="number">1</span>])</span><br><span class="line">axes[<span class="number">1</span>].set_xlabel(<span class="string">&quot;Bill Length (mm)&quot;</span>)</span><br><span class="line">axes[<span class="number">1</span>].set_ylabel(<span class="string">&quot;Bill Depth (mm)&quot;</span>)</span><br><span class="line"></span><br><span class="line">fig.tight_layout()</span><br></pre></td></tr></table></figure>


<p><img src="images/seaborn_with_matplotlib/output_16_0.png" alt="png"></p>
<ul>
<li>단 3줄로 거의 동일한 그림이 나왔다.<ul>
<li>scatter plot의 점 크기가 살짝 작다.</li>
<li>label의 투명도가 살짝 다르다.</li>
</ul>
</li>
<li>seaborn 명령어 scatterplot() 를 그대로 사용했다.</li>
<li>x축과 y축 label도 바꾸었다.<ul>
<li><code>ax = axes[1]</code> 인자에서 볼 수 있듯, 존재하는 <code>axes</code>에 그림만 얹었다.</li>
<li>matplotlib 틀 + seaborn 그림 이므로, matplotlib 명령이 모두 통한다.</li>
</ul>
</li>
</ul>
<h2 id="matplotlib-seaborn-amp-seaborn-matplotlib"><a href="#matplotlib-seaborn-amp-seaborn-matplotlib" class="headerlink" title="matplotlib + seaborn &amp; seaborn + matplotlib"></a>matplotlib + seaborn &amp; seaborn + matplotlib</h2><ul>
<li>matplotlib와 seaborn이 자유롭게 섞일 수 있다.<ul>
<li>matplotlib 산점도 위에 seaborn 추세선을 얹을 수 있다.</li>
<li>seaborn 산점도 위에 matplotlib 중심점을 얹을 수 있다.</li>
</ul>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">fig, axes = plt.subplots(ncols = <span class="number">2</span>, figsize = (<span class="number">8</span>, <span class="number">4</span>))</span><br><span class="line"></span><br><span class="line">species_u = penguins[<span class="string">&quot;species&quot;</span>].unique()</span><br><span class="line"></span><br><span class="line"><span class="comment"># plot 0: matplotlib + seaborn</span></span><br><span class="line"><span class="keyword">for</span> i, s <span class="keyword">in</span> <span class="built_in">enumerate</span>(species_u):</span><br><span class="line">    <span class="comment"># matplotlib 산점도</span></span><br><span class="line">    axes[<span class="number">0</span>].scatter(penguins[<span class="string">&quot;bill_length_mm&quot;</span>].loc[penguins[<span class="string">&quot;species&quot;</span>] == s],</span><br><span class="line">                    penguins[<span class="string">&quot;bill_depth_mm&quot;</span>].loc[penguins[<span class="string">&quot;species&quot;</span>] == s],</span><br><span class="line">                    c = <span class="string">f&quot;C<span class="subst">&#123;i&#125;</span>&quot;</span>, label = s, alpha = <span class="number">0.3</span></span><br><span class="line">                    )</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># seaborn 추세선</span></span><br><span class="line">    sns.regplot(<span class="string">&quot;bill_length_mm&quot;</span>, <span class="string">&quot;bill_depth_mm&quot;</span>, data = penguins.loc[penguins[<span class="string">&quot;species&quot;</span>] == s],</span><br><span class="line">                scatter = <span class="literal">False</span>, ax = axes[<span class="number">0</span>])</span><br><span class="line"></span><br><span class="line">axes[<span class="number">0</span>].legend(species_u, title = <span class="string">&quot;species&quot;</span>)</span><br><span class="line">axes[<span class="number">0</span>].set_xlabel(<span class="string">&quot;Bill Length (mm)&quot;</span>)</span><br><span class="line">axes[<span class="number">0</span>].set_ylabel(<span class="string">&quot;Bill Depth (mm)&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># plot 1: seaborn + matplotlib</span></span><br><span class="line"><span class="comment"># seaborn 산점도</span></span><br><span class="line">sns.scatterplot(<span class="string">&quot;bill_length_mm&quot;</span>, <span class="string">&quot;bill_depth_mm&quot;</span>, hue = <span class="string">&quot;species&quot;</span>, data = penguins, alpha = <span class="number">0.3</span>, ax = axes[<span class="number">1</span>])</span><br><span class="line">axes[<span class="number">1</span>].set_xlabel(<span class="string">&quot;Bill Length (mm)&quot;</span>)</span><br><span class="line">axes[<span class="number">1</span>].set_ylabel(<span class="string">&quot;Bill Depth (mm)&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># matplotlib 중심점</span></span><br><span class="line"><span class="keyword">for</span> i, s <span class="keyword">in</span> <span class="built_in">enumerate</span>(species_u):</span><br><span class="line">  axes[<span class="number">1</span>].scatter(penguins[<span class="string">&quot;bill_length_mm&quot;</span>].loc[penguins[<span class="string">&quot;species&quot;</span>] == s].mean(),</span><br><span class="line">                  penguins[<span class="string">&quot;bill_depth_mm&quot;</span>].loc[penguins[<span class="string">&quot;species&quot;</span>] == s].mean(),</span><br><span class="line">                  c = <span class="string">f&quot;C<span class="subst">&#123;i&#125;</span>&quot;</span>, alpha = <span class="number">1</span>, marker = <span class="string">&quot;x&quot;</span>, s = <span class="number">100</span></span><br><span class="line">                  )</span><br><span class="line"></span><br><span class="line">fig.tight_layout()</span><br></pre></td></tr></table></figure>


<p><img src="images/seaborn_with_matplotlib/output_20_0.png" alt="png"></p>
<h2 id="seaborn-seaborn-matplotlib"><a href="#seaborn-seaborn-matplotlib" class="headerlink" title="seaborn + seaborn + matplotlib"></a>seaborn + seaborn + matplotlib</h2><ul>
<li>안 될 이유가 없다.</li>
<li>seaborn <code>scatterplot</code> + seaborn <code>kdeplot</code> + matplotlib <code>text</code> 이다.</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">fig, ax = plt.subplots(figsize = (<span class="number">6</span>, <span class="number">5</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment"># plot 0: scatter plot</span></span><br><span class="line">sns.scatterplot(<span class="string">&quot;bill_length_mm&quot;</span>, <span class="string">&quot;bill_depth_mm&quot;</span>, color = <span class="string">&quot;k&quot;</span>, data = penguins, alpha = <span class="number">0.3</span>, ax = ax, legend = <span class="literal">False</span>)</span><br><span class="line"></span><br><span class="line">ax.set_xlabel(<span class="string">&quot;Bill Length (mm)&quot;</span>)</span><br><span class="line">ax.set_ylabel(<span class="string">&quot;Bill Depth (mm)&quot;</span>)</span><br><span class="line"></span><br><span class="line">fig.tight_layout()</span><br></pre></td></tr></table></figure>


<p><img src="images/seaborn_with_matplotlib/output_23_0.png" alt="png"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">fig, ax = plt.subplots(figsize = (<span class="number">6</span>, <span class="number">5</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment"># plot 0: scatter plot</span></span><br><span class="line">sns.scatterplot(<span class="string">&quot;bill_length_mm&quot;</span>, <span class="string">&quot;bill_depth_mm&quot;</span>, color = <span class="string">&quot;k&quot;</span>, data = penguins, alpha = <span class="number">0.3</span>, ax = ax, legend = <span class="literal">False</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># plot 1: kde plot</span></span><br><span class="line">sns.kdeplot(<span class="string">&quot;bill_length_mm&quot;</span>, <span class="string">&quot;bill_depth_mm&quot;</span>, hue = <span class="string">&quot;species&quot;</span>, data = penguins, alpha = <span class="number">0.5</span>, ax = ax, legend = <span class="literal">False</span>)</span><br><span class="line"></span><br><span class="line">ax.set_xlabel(<span class="string">&quot;Bill Length (mm)&quot;</span>)</span><br><span class="line">ax.set_ylabel(<span class="string">&quot;Bill Depth (mm)&quot;</span>)</span><br><span class="line"></span><br><span class="line">fig.tight_layout()</span><br></pre></td></tr></table></figure>


<p><img src="images/seaborn_with_matplotlib/output_24_0.png" alt="png"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">fig, ax = plt.subplots(figsize = (<span class="number">6</span>, <span class="number">5</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment"># plot 0: scatter plot</span></span><br><span class="line">sns.scatterplot(<span class="string">&quot;bill_length_mm&quot;</span>, <span class="string">&quot;bill_depth_mm&quot;</span>, color = <span class="string">&quot;k&quot;</span>, data = penguins, alpha = <span class="number">0.3</span>, ax = ax, legend = <span class="literal">False</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># plot 1: kde plot</span></span><br><span class="line">sns.kdeplot(<span class="string">&quot;bill_length_mm&quot;</span>, <span class="string">&quot;bill_depth_mm&quot;</span>, hue = <span class="string">&quot;species&quot;</span>, data = penguins, alpha = <span class="number">0.5</span>, ax = ax, legend = <span class="literal">False</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># text:</span></span><br><span class="line">species_u = penguins[<span class="string">&quot;species&quot;</span>].unique()</span><br><span class="line"><span class="keyword">for</span> i, s <span class="keyword">in</span> <span class="built_in">enumerate</span>(species_u):</span><br><span class="line">    ax.text(penguins[<span class="string">&quot;bill_length_mm&quot;</span>].loc[penguins[<span class="string">&quot;species&quot;</span>] == s].mean(),</span><br><span class="line">            penguins[<span class="string">&quot;bill_depth_mm&quot;</span>].loc[penguins[<span class="string">&quot;species&quot;</span>] == s].mean(),</span><br><span class="line">            s = s, fontdict = &#123;<span class="string">&quot;fontsize&quot;</span>: <span class="number">14</span>, <span class="string">&quot;fontweight&quot;</span>: <span class="string">&quot;bold&quot;</span>, <span class="string">&quot;color&quot;</span>: <span class="string">&quot;k&quot;</span>&#125;</span><br><span class="line">            )</span><br><span class="line"></span><br><span class="line">ax.set_xlabel(<span class="string">&quot;Bill Length (mm)&quot;</span>)</span><br><span class="line">ax.set_ylabel(<span class="string">&quot;Bill Depth (mm)&quot;</span>)</span><br><span class="line"></span><br><span class="line">fig.tight_layout()</span><br></pre></td></tr></table></figure>


<p><img src="images/seaborn_with_matplotlib/output_25_0.png" alt="png"></p>
<h2 id="결론"><a href="#결론" class="headerlink" title="결론"></a>결론</h2><ul>
<li>seaborn을 matplotlib와 마음껏 섞어쓰자.</li>
<li>단, <strong>axes</strong>를 반환하는 명령어에 한해서다.</li>
<li>이런 명령어를 <strong>axes-lebel function</strong>이라고 한다.</li>
</ul>
<h1 id="seaborn-matplotlib을-이용한-jointplot-보완"><a href="#seaborn-matplotlib을-이용한-jointplot-보완" class="headerlink" title="seaborn + matplotlib을 이용한 jointplot 보완"></a>seaborn + matplotlib을 이용한 jointplot 보완</h1></div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2020-11-05T06:47:33.422Z" title="2020-11-05T06:47:33.422Z">2020-11-05</time></span><span class="level-item">Updated&nbsp;<time dateTime="2020-11-05T06:56:13.992Z" title="2020-11-05T06:56:13.992Z">2020-11-05</time></span><span class="level-item"><a class="link-muted" href="/categories/study/">study</a></span><span class="level-item">26 minutes read (About 3941 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2020/11/05/study/kaggle_home_credit_default_risk/">캐글 Home Credit Default Risk 분석</a></h1><div class="content"><h1 id="사전-준비"><a href="#사전-준비" class="headerlink" title="사전 준비"></a>사전 준비</h1><h2 id="Kaggle-데이터-불러오기"><a href="#Kaggle-데이터-불러오기" class="headerlink" title="Kaggle 데이터 불러오기"></a>Kaggle 데이터 불러오기</h2><h3 id="Kaggle-API-설치"><a href="#Kaggle-API-설치" class="headerlink" title="Kaggle API 설치"></a>Kaggle API 설치</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">!pip install kaggle</span><br></pre></td></tr></table></figure>

<pre><code>Requirement already satisfied: kaggle in /usr/local/lib/python3.6/dist-packages (1.5.9)
Requirement already satisfied: certifi in /usr/local/lib/python3.6/dist-packages (from kaggle) (2020.6.20)
Requirement already satisfied: urllib3 in /usr/local/lib/python3.6/dist-packages (from kaggle) (1.24.3)
Requirement already satisfied: six&gt;=1.10 in /usr/local/lib/python3.6/dist-packages (from kaggle) (1.15.0)
Requirement already satisfied: tqdm in /usr/local/lib/python3.6/dist-packages (from kaggle) (4.41.1)
Requirement already satisfied: python-dateutil in /usr/local/lib/python3.6/dist-packages (from kaggle) (2.8.1)
Requirement already satisfied: requests in /usr/local/lib/python3.6/dist-packages (from kaggle) (2.23.0)
Requirement already satisfied: python-slugify in /usr/local/lib/python3.6/dist-packages (from kaggle) (4.0.1)
Requirement already satisfied: slugify in /usr/local/lib/python3.6/dist-packages (from kaggle) (0.0.1)
Requirement already satisfied: chardet&lt;4,&gt;=3.0.2 in /usr/local/lib/python3.6/dist-packages (from requests-&gt;kaggle) (3.0.4)
Requirement already satisfied: idna&lt;3,&gt;=2.5 in /usr/local/lib/python3.6/dist-packages (from requests-&gt;kaggle) (2.10)
Requirement already satisfied: text-unidecode&gt;=1.3 in /usr/local/lib/python3.6/dist-packages (from python-slugify-&gt;kaggle) (1.3)</code></pre>
<h3 id="Kaggle-Token-다운로드"><a href="#Kaggle-Token-다운로드" class="headerlink" title="Kaggle Token 다운로드"></a>Kaggle Token 다운로드</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> google.colab <span class="keyword">import</span> files</span><br><span class="line">uploaded = files.upload()</span><br><span class="line"><span class="keyword">for</span> fn <span class="keyword">in</span> uploaded.keys():</span><br><span class="line">  print(<span class="string">&#x27;uploaded file &quot;&#123;name&#125;&quot; with length &#123;length&#125; bytes&#x27;</span>.<span class="built_in">format</span>(</span><br><span class="line">      name=fn, length=<span class="built_in">len</span>(uploaded[fn])))</span><br><span class="line">  </span><br><span class="line"><span class="comment"># kaggle.json을 아래 폴더로 옮긴 뒤, file을 사용할 수 있도록 권한을 부여한다. </span></span><br><span class="line">!mkdir -p ~/.kaggle/ &amp;&amp; mv kaggle.json ~/.kaggle/ &amp;&amp; chmod <span class="number">600</span> ~/.kaggle/kaggle.json</span><br></pre></td></tr></table></figure>



<p><input type="file" id="files-34d8464b-1b48-4807-ae60-e27fa8b1336a" name="files[]" multiple disabled
   style="border:none" /><br><output id="result-34d8464b-1b48-4807-ae60-e27fa8b1336a"><br> Upload widget is only available when the cell has been executed in the<br> current browser session. Please rerun this cell to enable.<br> </output><br> <script src="/nbextensions/google.colab/files.js"></script> </p>
<pre><code>Saving kaggle.json to kaggle.json
uploaded file &quot;kaggle.json&quot; with length 63 bytes</code></pre>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ls <span class="number">-1</span>ha ~/.kaggle/kaggle.json</span><br></pre></td></tr></table></figure>

<pre><code>/root/.kaggle/kaggle.json</code></pre>
<h3 id="구글-드라이브-연동"><a href="#구글-드라이브-연동" class="headerlink" title="구글 드라이브 연동"></a>구글 드라이브 연동</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> google.colab <span class="keyword">import</span> drive <span class="comment"># 패키지 불러오기 </span></span><br><span class="line"><span class="keyword">from</span> os.path <span class="keyword">import</span> join  </span><br><span class="line"></span><br><span class="line"><span class="comment"># 구글 드라이브 마운트</span></span><br><span class="line">ROOT = <span class="string">&quot;/content/drive&quot;</span>     <span class="comment"># 드라이브 기본 경로</span></span><br><span class="line">print(ROOT)                 <span class="comment"># print content of ROOT (Optional)</span></span><br><span class="line">drive.mount(ROOT)           <span class="comment"># 드라이브 기본 경로 </span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 프로젝트 파일 생성 및 다운받을 경로 이동</span></span><br><span class="line">MY_GOOGLE_DRIVE_PATH = <span class="string">&#x27;My Drive/Colab Notebooks/python_basic/kaggle_home-credit-default-risk/data&#x27;</span></span><br><span class="line">PROJECT_PATH = join(ROOT, MY_GOOGLE_DRIVE_PATH)</span><br><span class="line">print(PROJECT_PATH)</span><br></pre></td></tr></table></figure>

<pre><code>/content/drive
Mounted at /content/drive
/content/drive/My Drive/Colab Notebooks/python_basic/kaggle_home-credit-default-risk/data</code></pre>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">%cd <span class="string">&quot;&#123;PROJECT_PATH&#125;&quot;</span></span><br></pre></td></tr></table></figure>

<pre><code>/content/drive/My Drive/Colab Notebooks/python_basic/kaggle_home-credit-default-risk/data</code></pre>
<h3 id="Kaggle-Competitions-list-불러오기"><a href="#Kaggle-Competitions-list-불러오기" class="headerlink" title="Kaggle Competitions list 불러오기"></a>Kaggle Competitions list 불러오기</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">!kaggle competitions <span class="built_in">list</span></span><br></pre></td></tr></table></figure>

<pre><code>Warning: Looks like you&#39;re using an outdated API Version, please consider updating (server 1.5.9 / client 1.5.4)
ref                                            deadline             category            reward  teamCount  userHasEntered  
---------------------------------------------  -------------------  ---------------  ---------  ---------  --------------  
contradictory-my-dear-watson                   2030-07-01 23:59:00  Getting Started     Prizes        134           False  
gan-getting-started                            2030-07-01 23:59:00  Getting Started     Prizes        161           False  
tpu-getting-started                            2030-06-03 23:59:00  Getting Started  Knowledge        292           False  
digit-recognizer                               2030-01-01 00:00:00  Getting Started  Knowledge       2248           False  
titanic                                        2030-01-01 00:00:00  Getting Started  Knowledge      17266            True  
house-prices-advanced-regression-techniques    2030-01-01 00:00:00  Getting Started  Knowledge       4327            True  
connectx                                       2030-01-01 00:00:00  Getting Started  Knowledge        366           False  
nlp-getting-started                            2030-01-01 00:00:00  Getting Started  Knowledge       1130           False  
rock-paper-scissors                            2021-02-01 23:59:00  Playground          Prizes        232           False  
riiid-test-answer-prediction                   2021-01-07 23:59:00  Featured          $100,000       1491           False  
nfl-big-data-bowl-2021                         2021-01-05 23:59:00  Analytics         $100,000          0           False  
competitive-data-science-predict-future-sales  2020-12-31 23:59:00  Playground           Kudos       9393           False  
halite-iv-playground-edition                   2020-12-31 23:59:00  Playground       Knowledge         44           False  
predict-volcanic-eruptions-ingv-oe             2020-12-28 23:59:00  Playground            Swag        198           False  
hashcode-drone-delivery                        2020-12-14 23:59:00  Playground       Knowledge         80           False  
cdp-unlocking-climate-solutions                2020-12-02 23:59:00  Analytics          $91,000          0           False  
lish-moa                                       2020-11-30 23:59:00  Research           $30,000       3454           False  
google-football                                2020-11-30 23:59:00  Featured            $6,000        925           False  
conways-reverse-game-of-life-2020              2020-11-30 23:59:00  Playground            Swag        133           False  
lyft-motion-prediction-autonomous-vehicles     2020-11-25 23:59:00  Featured           $30,000        788           False  </code></pre>
<h3 id="Home-Credit-Default-Risk-데이터셋-불러오기"><a href="#Home-Credit-Default-Risk-데이터셋-불러오기" class="headerlink" title="Home Credit Default Risk 데이터셋 불러오기"></a>Home Credit Default Risk 데이터셋 불러오기</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">!kaggle competitions download -c home-credit-default-risk</span><br></pre></td></tr></table></figure>

<pre><code>Warning: Looks like you&#39;re using an outdated API Version, please consider updating (server 1.5.9 / client 1.5.4)
Downloading installments_payments.csv.zip to /content/drive/My Drive/Colab Notebooks/python_basic/kaggle_home-credit-default-risk/data
 98% 266M/271M [00:02&lt;00:00, 123MB/s]
100% 271M/271M [00:02&lt;00:00, 104MB/s]
Downloading previous_application.csv.zip to /content/drive/My Drive/Colab Notebooks/python_basic/kaggle_home-credit-default-risk/data
 98% 75.0M/76.3M [00:00&lt;00:00, 81.3MB/s]
100% 76.3M/76.3M [00:00&lt;00:00, 89.9MB/s]
Downloading application_test.csv.zip to /content/drive/My Drive/Colab Notebooks/python_basic/kaggle_home-credit-default-risk/data
100% 5.81M/5.81M [00:00&lt;00:00, 60.2MB/s]

Downloading bureau.csv.zip to /content/drive/My Drive/Colab Notebooks/python_basic/kaggle_home-credit-default-risk/data
 71% 26.0M/36.8M [00:00&lt;00:00, 49.6MB/s]
100% 36.8M/36.8M [00:00&lt;00:00, 74.7MB/s]
Downloading sample_submission.csv to /content/drive/My Drive/Colab Notebooks/python_basic/kaggle_home-credit-default-risk/data
  0% 0.00/524k [00:00&lt;?, ?B/s]
100% 524k/524k [00:00&lt;00:00, 34.4MB/s]
Downloading POS_CASH_balance.csv.zip to /content/drive/My Drive/Colab Notebooks/python_basic/kaggle_home-credit-default-risk/data
 99% 107M/109M [00:01&lt;00:00, 95.7MB/s] 
100% 109M/109M [00:01&lt;00:00, 90.6MB/s]
Downloading credit_card_balance.csv.zip to /content/drive/My Drive/Colab Notebooks/python_basic/kaggle_home-credit-default-risk/data
 89% 86.0M/96.7M [00:01&lt;00:00, 71.8MB/s]
100% 96.7M/96.7M [00:01&lt;00:00, 76.9MB/s]
Downloading HomeCredit_columns_description.csv to /content/drive/My Drive/Colab Notebooks/python_basic/kaggle_home-credit-default-risk/data
  0% 0.00/36.5k [00:00&lt;?, ?B/s]
100% 36.5k/36.5k [00:00&lt;00:00, 4.81MB/s]
Downloading application_train.csv.zip to /content/drive/My Drive/Colab Notebooks/python_basic/kaggle_home-credit-default-risk/data
 83% 30.0M/36.1M [00:00&lt;00:00, 37.6MB/s]
100% 36.1M/36.1M [00:00&lt;00:00, 52.1MB/s]
Downloading bureau_balance.csv.zip to /content/drive/My Drive/Colab Notebooks/python_basic/kaggle_home-credit-default-risk/data
 99% 56.0M/56.8M [00:01&lt;00:00, 27.5MB/s]
100% 56.8M/56.8M [00:01&lt;00:00, 47.0MB/s]</code></pre>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">!ls</span><br></pre></td></tr></table></figure>

<pre><code>application_test.csv.zip     HomeCredit_columns_description.csv
application_train.csv.zip    installments_payments.csv.zip
bureau_balance.csv.zip         POS_CASH_balance.csv.zip
bureau.csv.zip             previous_application.csv.zip
credit_card_balance.csv.zip  sample_submission.csv</code></pre>
<ul>
<li>zip 파일 압축 풀기 <a target="_blank" rel="noopener" href="https://medium.com/hyunjulie/%EC%BA%90%EA%B8%80%EA%B3%BC-%EA%B5%AC%EA%B8%80-colab-%EC%97%B0%EA%B2%B0%ED%95%B4%EC%A3%BC%EA%B8%B0-6a274f6de81d">참고</a></li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">!unzip application_test.csv.<span class="built_in">zip</span></span><br><span class="line">!unzip application_train.csv.<span class="built_in">zip</span></span><br><span class="line">!unzip bureau_balance.csv.<span class="built_in">zip</span></span><br><span class="line">!unzip bureau.csv.<span class="built_in">zip</span></span><br><span class="line">!unzip credit_card_balance.csv.<span class="built_in">zip</span></span><br><span class="line">!unzip installments_payments.csv.<span class="built_in">zip</span></span><br><span class="line">!unzip POS_CASH_balance.csv.<span class="built_in">zip</span></span><br><span class="line">!unzip previous_application.csv.<span class="built_in">zip</span></span><br></pre></td></tr></table></figure>

<pre><code>Archive:  application_test.csv.zip
  inflating: application_test.csv    
Archive:  application_train.csv.zip
  inflating: application_train.csv   
Archive:  bureau_balance.csv.zip
  inflating: bureau_balance.csv      
Archive:  bureau.csv.zip
  inflating: bureau.csv              
Archive:  credit_card_balance.csv.zip
  inflating: credit_card_balance.csv  
Archive:  installments_payments.csv.zip
  inflating: installments_payments.csv  
Archive:  POS_CASH_balance.csv.zip
  inflating: POS_CASH_balance.csv    
Archive:  previous_application.csv.zip
  inflating: previous_application.csv  </code></pre>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">!ls</span><br></pre></td></tr></table></figure>

<pre><code>application_test.csv       credit_card_balance.csv.zip
application_test.csv.zip   HomeCredit_columns_description.csv
application_train.csv       installments_payments.csv
application_train.csv.zip  installments_payments.csv.zip
bureau_balance.csv       POS_CASH_balance.csv
bureau_balance.csv.zip       POS_CASH_balance.csv.zip
bureau.csv           previous_application.csv
bureau.csv.zip           previous_application.csv.zip
credit_card_balance.csv    sample_submission.csv</code></pre>
<ul>
<li>압축파일 삭제하기 <a target="_blank" rel="noopener" href="https://shiritori.tistory.com/m/11">참고</a></li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">!rm application_test.csv.<span class="built_in">zip</span></span><br><span class="line">!rm application_train.csv.<span class="built_in">zip</span></span><br><span class="line">!rm bureau_balance.csv.<span class="built_in">zip</span></span><br><span class="line">!rm bureau.csv.<span class="built_in">zip</span></span><br><span class="line">!rm credit_card_balance.csv.<span class="built_in">zip</span></span><br><span class="line">!rm installments_payments.csv.<span class="built_in">zip</span></span><br><span class="line">!rm POS_CASH_balance.csv.<span class="built_in">zip</span></span><br><span class="line">!rm previous_application.csv.<span class="built_in">zip</span></span><br></pre></td></tr></table></figure>


<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">!ls</span><br></pre></td></tr></table></figure>

<pre><code>application_test.csv     HomeCredit_columns_description.csv
application_train.csv     installments_payments.csv
bureau_balance.csv     POS_CASH_balance.csv
bureau.csv         previous_application.csv
credit_card_balance.csv  sample_submission.csv</code></pre>
<h1 id="Introduction-Manual-Feature-Engineering"><a href="#Introduction-Manual-Feature-Engineering" class="headerlink" title="Introduction: Manual Feature Engineering"></a>Introduction: Manual Feature Engineering</h1><ul>
<li><p><strong>bureau.csv</strong>: ‘Home Credit’에 제출된 고객(Client)의 다른 금융기관에서의 과거의 대출 기록. (각각의 대출 기록은 각각의 열로 정리되어 있다.)</p>
</li>
<li><p><strong>bureau_balance.csv</strong>: 과거 대출들의 월별 데이터. (각 월별 데이터는 각각의 열로 정리되어 있다.)</p>
</li>
<li><p>Manual(수동화된) Feature Engineering은 지루한 과정일 수 있다. 이것은 많은 사람들이 자동화된 Feature Engineering 기능을 활용하는 주된 이유이다.</p>
</li>
<li><p>대출 및 채무 불이행의 주된 원인에 대한 지식을 갖추는데는 한계가 있기 때문에, 최종 학습용 데이터프레임에서 가능한 많은 정보들을 얻는 데 주안점을 두었다.</p>
</li>
<li><p>이 커널은 어떤 Feature가 중요한 지를 결정하는 것에 있어서, 사람보다 모델이 고르도록 하는 접근방식을 취한다. 기본적으로 이러한 접근방식에서는 최대한 많은 Feature를 만들고, 모델은 이러한 Feature를 전부 활용한다.</p>
</li>
<li><p>수작업(Manual) Feature Engineering의 각 과정은 많은 양의 Pandas 코드와 약간의 인내심, 특히 데이터 처리에 있어서 많은 인내심을 필요로 한다. Feature Engineering은 여전히 전처리 작업을 필요로 한다.</p>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 데이터 처리</span></span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line"><span class="comment"># 시각화</span></span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> seaborn <span class="keyword">as</span> sns</span><br><span class="line"></span><br><span class="line"><span class="comment"># Pandas에서 나오는 경고문 무시</span></span><br><span class="line"><span class="keyword">import</span> warnings</span><br><span class="line">warnings.filterwarnings(<span class="string">&#x27;ignore&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 원본</span></span><br><span class="line"><span class="comment"># plt.style.use(&#x27;fivethirtyeight&#x27;)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># matplotlib 의 기본 scheme 말고 seaborn scheme 을 세팅하고,</span></span><br><span class="line"><span class="comment"># 일일이 graph 의 font size 를 지정할 필요 없이 seaborn 의 font_scale 을 사용하면 편하다.</span></span><br><span class="line">plt.style.use(<span class="string">&#x27;seaborn&#x27;</span>)</span><br><span class="line">sns.<span class="built_in">set</span>(font_scale = <span class="number">2.1</span>)</span><br></pre></td></tr></table></figure>

<h2 id="예시-고객의-이전-대출-수량-파악"><a href="#예시-고객의-이전-대출-수량-파악" class="headerlink" title="예시: 고객의 이전 대출 수량 파악"></a>예시: 고객의 이전 대출 수량 파악</h2><p><strong>Counts of a client’s previous loans</strong><br>먼저 고객의 과거 타 금융기관에서의 대출 수량을 간단히 파악하고자 한다. 이 과정은 이 커널에서 반복적으로 사용되는 아래의 pandas 명령어를 포함한다.</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.groupby.html">groupby</a>: Column값에 따라 데이터프레임을 그룹화. 이 과정에서는 <code>SK_ID_CURR</code> Column의 값에 따라 고객별로 데이터프레임을 그룹화</li>
<li><a href="/images/kaggle_home_credit_default_risk/https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.agg.html">agg</a>: 그룹화된 데이터의 평균 등을 계산. ‘grouped_df.mean()’을 통해 직접 평균을 계산하거나, agg 명령어와 리스트를 활용하여 평균, 최대값, 최소값, 합계 등을 계산 (grouped_df.agg([mean, max, min, sum])).</li>
<li><a target="_blank" rel="noopener" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.merge.html">merge</a>: 집계된(aggregated) 값을 해당 고객과 매칭. SK_ID_CURR Column을 활용하여 집계된 값을 원본 트레이닝 데이터로 병합하고, 해당값이 없을 경우에는 NaN값을 입력.</li>
</ul>
<p>또한 rename 명령어를 통해 Column을 딕셔너리(dict)를 활용하여 변경한다. 이러한 방식은 생성된 변수를 계속해서 추적하는 데 유용하다.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># bureau 파일 읽기</span></span><br><span class="line">bureau = pd.read_csv(<span class="string">&#x27;bureau.csv&#x27;</span>)</span><br><span class="line">bureau.head()</span><br></pre></td></tr></table></figure>




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

<pre><code>.dataframe tbody tr th &#123;
    vertical-align: top;
&#125;

.dataframe thead th &#123;
    text-align: right;
&#125;</code></pre>
<p></style></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>SK_ID_CURR</th>
      <th>SK_ID_BUREAU</th>
      <th>CREDIT_ACTIVE</th>
      <th>CREDIT_CURRENCY</th>
      <th>DAYS_CREDIT</th>
      <th>CREDIT_DAY_OVERDUE</th>
      <th>DAYS_CREDIT_ENDDATE</th>
      <th>DAYS_ENDDATE_FACT</th>
      <th>AMT_CREDIT_MAX_OVERDUE</th>
      <th>CNT_CREDIT_PROLONG</th>
      <th>AMT_CREDIT_SUM</th>
      <th>AMT_CREDIT_SUM_DEBT</th>
      <th>AMT_CREDIT_SUM_LIMIT</th>
      <th>AMT_CREDIT_SUM_OVERDUE</th>
      <th>CREDIT_TYPE</th>
      <th>DAYS_CREDIT_UPDATE</th>
      <th>AMT_ANNUITY</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>215354</td>
      <td>5714462</td>
      <td>Closed</td>
      <td>currency 1</td>
      <td>-497</td>
      <td>0</td>
      <td>-153.0</td>
      <td>-153.0</td>
      <td>NaN</td>
      <td>0</td>
      <td>91323.0</td>
      <td>0.0</td>
      <td>NaN</td>
      <td>0.0</td>
      <td>Consumer credit</td>
      <td>-131</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>1</th>
      <td>215354</td>
      <td>5714463</td>
      <td>Active</td>
      <td>currency 1</td>
      <td>-208</td>
      <td>0</td>
      <td>1075.0</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>0</td>
      <td>225000.0</td>
      <td>171342.0</td>
      <td>NaN</td>
      <td>0.0</td>
      <td>Credit card</td>
      <td>-20</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>2</th>
      <td>215354</td>
      <td>5714464</td>
      <td>Active</td>
      <td>currency 1</td>
      <td>-203</td>
      <td>0</td>
      <td>528.0</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>0</td>
      <td>464323.5</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>0.0</td>
      <td>Consumer credit</td>
      <td>-16</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>3</th>
      <td>215354</td>
      <td>5714465</td>
      <td>Active</td>
      <td>currency 1</td>
      <td>-203</td>
      <td>0</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>0</td>
      <td>90000.0</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>0.0</td>
      <td>Credit card</td>
      <td>-16</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>4</th>
      <td>215354</td>
      <td>5714466</td>
      <td>Active</td>
      <td>currency 1</td>
      <td>-629</td>
      <td>0</td>
      <td>1197.0</td>
      <td>NaN</td>
      <td>77674.5</td>
      <td>0</td>
      <td>2700000.0</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>0.0</td>
      <td>Consumer credit</td>
      <td>-21</td>
      <td>NaN</td>
    </tr>
  </tbody>
</table>
</div>



<ul>
<li>고객 아이디(SK_ID_CURR)를 기준으로 groupby 실행한다.</li>
<li>이전 대출 횟수를 파악하고, Column 이름을 변경한다.</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">previous_loan_counts = bureau.groupby(<span class="string">&#x27;SK_ID_CURR&#x27;</span>, as_index = <span class="literal">False</span>)[<span class="string">&#x27;SK_ID_BUREAU&#x27;</span>].count().rename(columns = &#123;<span class="string">&#x27;SK_ID_BUREAU&#x27;</span>: <span class="string">&#x27;previous_loan_counts&#x27;</span>&#125;)</span><br><span class="line">previous_loan_counts.head()</span><br></pre></td></tr></table></figure>




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

<pre><code>.dataframe tbody tr th &#123;
    vertical-align: top;
&#125;

.dataframe thead th &#123;
    text-align: right;
&#125;</code></pre>
<p></style></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>SK_ID_CURR</th>
      <th>previous_loan_counts</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>100001</td>
      <td>7</td>
    </tr>
    <tr>
      <th>1</th>
      <td>100002</td>
      <td>8</td>
    </tr>
    <tr>
      <th>2</th>
      <td>100003</td>
      <td>4</td>
    </tr>
    <tr>
      <th>3</th>
      <td>100004</td>
      <td>2</td>
    </tr>
    <tr>
      <th>4</th>
      <td>100005</td>
      <td>3</td>
    </tr>
  </tbody>
</table>
</div>



<ul>
<li>훈련용 데이터프레임과 병합(Join)한다.</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">train = pd.read_csv(<span class="string">&#x27;application_train.csv&#x27;</span>)</span><br><span class="line">train = train.merge(previous_loan_counts, on = <span class="string">&#x27;SK_ID_CURR&#x27;</span>, how = <span class="string">&#x27;left&#x27;</span>)</span><br></pre></td></tr></table></figure>

<ul>
<li>NaN 값에 0 을 대입한다.</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">train[<span class="string">&#x27;previous_loan_counts&#x27;</span>] = train[<span class="string">&#x27;previous_loan_counts&#x27;</span>].fillna(<span class="number">0</span>)</span><br><span class="line">train.head()</span><br></pre></td></tr></table></figure>




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

<pre><code>.dataframe tbody tr th &#123;
    vertical-align: top;
&#125;

.dataframe thead th &#123;
    text-align: right;
&#125;</code></pre>
<p></style></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>SK_ID_CURR</th>
      <th>TARGET</th>
      <th>NAME_CONTRACT_TYPE</th>
      <th>CODE_GENDER</th>
      <th>FLAG_OWN_CAR</th>
      <th>FLAG_OWN_REALTY</th>
      <th>CNT_CHILDREN</th>
      <th>AMT_INCOME_TOTAL</th>
      <th>AMT_CREDIT</th>
      <th>AMT_ANNUITY</th>
      <th>AMT_GOODS_PRICE</th>
      <th>NAME_TYPE_SUITE</th>
      <th>NAME_INCOME_TYPE</th>
      <th>NAME_EDUCATION_TYPE</th>
      <th>NAME_FAMILY_STATUS</th>
      <th>NAME_HOUSING_TYPE</th>
      <th>REGION_POPULATION_RELATIVE</th>
      <th>DAYS_BIRTH</th>
      <th>DAYS_EMPLOYED</th>
      <th>DAYS_REGISTRATION</th>
      <th>DAYS_ID_PUBLISH</th>
      <th>OWN_CAR_AGE</th>
      <th>FLAG_MOBIL</th>
      <th>FLAG_EMP_PHONE</th>
      <th>FLAG_WORK_PHONE</th>
      <th>FLAG_CONT_MOBILE</th>
      <th>FLAG_PHONE</th>
      <th>FLAG_EMAIL</th>
      <th>OCCUPATION_TYPE</th>
      <th>CNT_FAM_MEMBERS</th>
      <th>REGION_RATING_CLIENT</th>
      <th>REGION_RATING_CLIENT_W_CITY</th>
      <th>WEEKDAY_APPR_PROCESS_START</th>
      <th>HOUR_APPR_PROCESS_START</th>
      <th>REG_REGION_NOT_LIVE_REGION</th>
      <th>REG_REGION_NOT_WORK_REGION</th>
      <th>LIVE_REGION_NOT_WORK_REGION</th>
      <th>REG_CITY_NOT_LIVE_CITY</th>
      <th>REG_CITY_NOT_WORK_CITY</th>
      <th>LIVE_CITY_NOT_WORK_CITY</th>
      <th>...</th>
      <th>LIVINGAREA_MEDI</th>
      <th>NONLIVINGAPARTMENTS_MEDI</th>
      <th>NONLIVINGAREA_MEDI</th>
      <th>FONDKAPREMONT_MODE</th>
      <th>HOUSETYPE_MODE</th>
      <th>TOTALAREA_MODE</th>
      <th>WALLSMATERIAL_MODE</th>
      <th>EMERGENCYSTATE_MODE</th>
      <th>OBS_30_CNT_SOCIAL_CIRCLE</th>
      <th>DEF_30_CNT_SOCIAL_CIRCLE</th>
      <th>OBS_60_CNT_SOCIAL_CIRCLE</th>
      <th>DEF_60_CNT_SOCIAL_CIRCLE</th>
      <th>DAYS_LAST_PHONE_CHANGE</th>
      <th>FLAG_DOCUMENT_2</th>
      <th>FLAG_DOCUMENT_3</th>
      <th>FLAG_DOCUMENT_4</th>
      <th>FLAG_DOCUMENT_5</th>
      <th>FLAG_DOCUMENT_6</th>
      <th>FLAG_DOCUMENT_7</th>
      <th>FLAG_DOCUMENT_8</th>
      <th>FLAG_DOCUMENT_9</th>
      <th>FLAG_DOCUMENT_10</th>
      <th>FLAG_DOCUMENT_11</th>
      <th>FLAG_DOCUMENT_12</th>
      <th>FLAG_DOCUMENT_13</th>
      <th>FLAG_DOCUMENT_14</th>
      <th>FLAG_DOCUMENT_15</th>
      <th>FLAG_DOCUMENT_16</th>
      <th>FLAG_DOCUMENT_17</th>
      <th>FLAG_DOCUMENT_18</th>
      <th>FLAG_DOCUMENT_19</th>
      <th>FLAG_DOCUMENT_20</th>
      <th>FLAG_DOCUMENT_21</th>
      <th>AMT_REQ_CREDIT_BUREAU_HOUR</th>
      <th>AMT_REQ_CREDIT_BUREAU_DAY</th>
      <th>AMT_REQ_CREDIT_BUREAU_WEEK</th>
      <th>AMT_REQ_CREDIT_BUREAU_MON</th>
      <th>AMT_REQ_CREDIT_BUREAU_QRT</th>
      <th>AMT_REQ_CREDIT_BUREAU_YEAR</th>
      <th>previous_loan_counts</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>100002</td>
      <td>1</td>
      <td>Cash loans</td>
      <td>M</td>
      <td>N</td>
      <td>Y</td>
      <td>0</td>
      <td>202500.0</td>
      <td>406597.5</td>
      <td>24700.5</td>
      <td>351000.0</td>
      <td>Unaccompanied</td>
      <td>Working</td>
      <td>Secondary / secondary special</td>
      <td>Single / not married</td>
      <td>House / apartment</td>
      <td>0.018801</td>
      <td>-9461</td>
      <td>-637</td>
      <td>-3648.0</td>
      <td>-2120</td>
      <td>NaN</td>
      <td>1</td>
      <td>1</td>
      <td>0</td>
      <td>1</td>
      <td>1</td>
      <td>0</td>
      <td>Laborers</td>
      <td>1.0</td>
      <td>2</td>
      <td>2</td>
      <td>WEDNESDAY</td>
      <td>10</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>...</td>
      <td>0.0193</td>
      <td>0.0000</td>
      <td>0.00</td>
      <td>reg oper account</td>
      <td>block of flats</td>
      <td>0.0149</td>
      <td>Stone, brick</td>
      <td>No</td>
      <td>2.0</td>
      <td>2.0</td>
      <td>2.0</td>
      <td>2.0</td>
      <td>-1134.0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>1.0</td>
      <td>8.0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>100003</td>
      <td>0</td>
      <td>Cash loans</td>
      <td>F</td>
      <td>N</td>
      <td>N</td>
      <td>0</td>
      <td>270000.0</td>
      <td>1293502.5</td>
      <td>35698.5</td>
      <td>1129500.0</td>
      <td>Family</td>
      <td>State servant</td>
      <td>Higher education</td>
      <td>Married</td>
      <td>House / apartment</td>
      <td>0.003541</td>
      <td>-16765</td>
      <td>-1188</td>
      <td>-1186.0</td>
      <td>-291</td>
      <td>NaN</td>
      <td>1</td>
      <td>1</td>
      <td>0</td>
      <td>1</td>
      <td>1</td>
      <td>0</td>
      <td>Core staff</td>
      <td>2.0</td>
      <td>1</td>
      <td>1</td>
      <td>MONDAY</td>
      <td>11</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>...</td>
      <td>0.0558</td>
      <td>0.0039</td>
      <td>0.01</td>
      <td>reg oper account</td>
      <td>block of flats</td>
      <td>0.0714</td>
      <td>Block</td>
      <td>No</td>
      <td>1.0</td>
      <td>0.0</td>
      <td>1.0</td>
      <td>0.0</td>
      <td>-828.0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>4.0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>100004</td>
      <td>0</td>
      <td>Revolving loans</td>
      <td>M</td>
      <td>Y</td>
      <td>Y</td>
      <td>0</td>
      <td>67500.0</td>
      <td>135000.0</td>
      <td>6750.0</td>
      <td>135000.0</td>
      <td>Unaccompanied</td>
      <td>Working</td>
      <td>Secondary / secondary special</td>
      <td>Single / not married</td>
      <td>House / apartment</td>
      <td>0.010032</td>
      <td>-19046</td>
      <td>-225</td>
      <td>-4260.0</td>
      <td>-2531</td>
      <td>26.0</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>0</td>
      <td>Laborers</td>
      <td>1.0</td>
      <td>2</td>
      <td>2</td>
      <td>MONDAY</td>
      <td>9</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>...</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>-815.0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>2.0</td>
    </tr>
    <tr>
      <th>3</th>
      <td>100006</td>
      <td>0</td>
      <td>Cash loans</td>
      <td>F</td>
      <td>N</td>
      <td>Y</td>
      <td>0</td>
      <td>135000.0</td>
      <td>312682.5</td>
      <td>29686.5</td>
      <td>297000.0</td>
      <td>Unaccompanied</td>
      <td>Working</td>
      <td>Secondary / secondary special</td>
      <td>Civil marriage</td>
      <td>House / apartment</td>
      <td>0.008019</td>
      <td>-19005</td>
      <td>-3039</td>
      <td>-9833.0</td>
      <td>-2437</td>
      <td>NaN</td>
      <td>1</td>
      <td>1</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>Laborers</td>
      <td>2.0</td>
      <td>2</td>
      <td>2</td>
      <td>WEDNESDAY</td>
      <td>17</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>...</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>2.0</td>
      <td>0.0</td>
      <td>2.0</td>
      <td>0.0</td>
      <td>-617.0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>4</th>
      <td>100007</td>
      <td>0</td>
      <td>Cash loans</td>
      <td>M</td>
      <td>N</td>
      <td>Y</td>
      <td>0</td>
      <td>121500.0</td>
      <td>513000.0</td>
      <td>21865.5</td>
      <td>513000.0</td>
      <td>Unaccompanied</td>
      <td>Working</td>
      <td>Secondary / secondary special</td>
      <td>Single / not married</td>
      <td>House / apartment</td>
      <td>0.028663</td>
      <td>-19932</td>
      <td>-3038</td>
      <td>-4311.0</td>
      <td>-3458</td>
      <td>NaN</td>
      <td>1</td>
      <td>1</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>Core staff</td>
      <td>1.0</td>
      <td>2</td>
      <td>2</td>
      <td>THURSDAY</td>
      <td>11</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>1</td>
      <td>...</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>-1106.0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>1.0</td>
    </tr>
  </tbody>
</table>
<p>5 rows × 123 columns</p>
</div>



<ul>
<li>맨 오른쪽 컬럼에 새롭게 만들어진 previous_loan_counts 컬럼을 확일할 수 있다.</li>
</ul>
<h2 id="R-Value-를-활용한-변수-유용성-평가"><a href="#R-Value-를-활용한-변수-유용성-평가" class="headerlink" title="R Value 를 활용한 변수 유용성 평가"></a>R Value 를 활용한 변수 유용성 평가</h2><p><strong>Assessing Usefulness of New Variable with r value</strong>  </p>
<ul>
<li>새롭게 생성된 Column의 변수가 유용한 지 판단하기 위해서, 우선 목표값(target)과 해당 변수간의 <a target="_blank" rel="noopener" href="https://ko.wikipedia.org/wiki/%ED%94%BC%EC%96%B4%EC%8A%A8_%EC%83%81%EA%B4%80_%EA%B3%84%EC%88%98">피어슨 상관계수</a>를 계산하고자 한다.</li>
<li>두 변수 사이의 선형관계(linear relationship)는 -1(완벽하게 음의 선형관계)에서부터 +1(완벽히 양의 선형관계) 사이의 값으로 표현된다.</li>
<li>R Value가 변수의 유용성을 평가하기 위한 최선을 방식은 아니지만, 머신러닝 모델을 발전시키는 데 효과가 있을 지에 대한 대략적인 정보를 줄 수는 있다.</li>
<li>목표값에 대한 r-value가 커질수록, 해당 변수가 목표값에 영향을 끼칠 가능성이 높아진다. 그러므로 목표값에 대해 가장 큰 r-value의 절대값을 가지는 변수를 찾고자 한다.</li>
<li>또한 커널밀도추정그래프를 활용하여 목표값과의 상관관계를 시각적으로 살펴볼 것이다.</li>
</ul>
<h3 id="커널밀도추정그래프"><a href="#커널밀도추정그래프" class="headerlink" title="커널밀도추정그래프"></a>커널밀도추정그래프</h3><p><strong>Kernal Density Estimate Plots</strong>  </p>
<ul>
<li>커널밀도추정그래프는 단일 변수의 분포를 보여준다. 히스토그램을 부드럽게 한 것으로 생각해보면 될 것이다.</li>
<li>범주형 변수의 값 차이에 따른 분포의 차이를 보기 위해, 카테고리에 따라 색을 다르게 칠하도록 하겠다. 예를 들어, target 값이 0인지 1인지에 따라 색을 다르게 칠한 previous_loan_count의 커널밀도추정그래프를 그릴 수 있다.</li>
<li>이러한 그래프는 대출을 상환한 그룹(target == 0)과 그렇지 못한 그룹(target == 1)의 분포에 있어 차이점을 보여줄 것이다.</li>
<li>이는 변수들이 머신러닝 모델과 관련성을 가지는 지를 보여줄 수 있는 지표로 활용될 수 있다.</li>
<li>원본 소스코드에 있던 df.ix 는 더 이상 지원하지 않아서 대신 df.loc를 사용한다.</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 변수의 분포에 대한 그래프 target값에 따라 색을 달리하여 작성한다.</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">kde_target</span>(<span class="params">var_name, df</span>):</span></span><br><span class="line">    <span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">    Args</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    input:</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    var_name = str, 변수가 되는 Column</span></span><br><span class="line"><span class="string">    df: DataFrame, 대상 데이터 프레임</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    return: None</span></span><br><span class="line"><span class="string">    &#x27;&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># 새롭게 생성된 변수와 target간의 상관계수를 계산한다.</span></span><br><span class="line">    corr = df[<span class="string">&#x27;TARGET&#x27;</span>].corr(df[var_name])</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 대출을 상환한 그룹(0)과 그렇지 않은 그룹(1)의 중간값(media)을 계산한다.</span></span><br><span class="line">    avg_repaid = df.loc[df[<span class="string">&#x27;TARGET&#x27;</span>] == <span class="number">0</span>, var_name].median()</span><br><span class="line">    avg_not_repaid = df.loc[df[<span class="string">&#x27;TARGET&#x27;</span>] == <span class="number">1</span>, var_name].median()</span><br><span class="line"></span><br><span class="line">    plt.figure(figsize = (<span class="number">12</span>, <span class="number">6</span>))</span><br><span class="line"></span><br><span class="line">    <span class="comment"># target값에 따라 색을 달리하여 그래프 작성</span></span><br><span class="line">    sns.kdeplot(df.loc[df[<span class="string">&#x27;TARGET&#x27;</span>] == <span class="number">0</span>, var_name], label = <span class="string">&#x27;TARGET == 0&#x27;</span>)</span><br><span class="line">    sns.kdeplot(df.loc[df[<span class="string">&#x27;TARGET&#x27;</span>] == <span class="number">1</span>, var_name], label = <span class="string">&#x27;TARGET == 1&#x27;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 그래프 라벨링</span></span><br><span class="line">    plt.xlabel(var_name);</span><br><span class="line">    plt.ylabel(<span class="string">&#x27;Density&#x27;</span>);</span><br><span class="line">    plt.title(<span class="string">&#x27;%s Distribution&#x27;</span> % var_name)</span><br><span class="line">    plt.legend();</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 상관계수 출력</span></span><br><span class="line">    print(<span class="string">&#x27;The correlation between %s and the TARGET is %0.4f&#x27;</span> % (var_name, corr))</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># 중간값 출력</span></span><br><span class="line">    print(<span class="string">&#x27;Median value for loan that was not repaid = %0.4f&#x27;</span> % avg_not_repaid)</span><br><span class="line">    print(<span class="string">&#x27;Median value for loan that was repaid =     %0.4f&#x27;</span> % avg_repaid)</span><br></pre></td></tr></table></figure>

<ul>
<li>Random Forest 및 Gradient Boosting Machine에 의해 가장 중요한 변수로 판명된 EXT_SOURCE_3를 활용하여 테스트하도록 하겠다.</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kde_target(<span class="string">&#x27;EXT_SOURCE_3&#x27;</span>, train)</span><br></pre></td></tr></table></figure>

<pre><code>The correlation between EXT_SOURCE_3 and the TARGET is -0.1789
Median value for loan that was not repaid = 0.3791
Median value for loan that was repaid =     0.5460</code></pre>
<p><img src="/images/kaggle_home_credit_default_risk/output_42_1.png" alt="png"></p>
<ul>
<li>새로운 변수 previous_loan_counts를 살펴보겠다.</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kde_target(<span class="string">&#x27;previous_loan_counts&#x27;</span>, train)</span><br></pre></td></tr></table></figure>

<pre><code>The correlation between previous_loan_counts and the TARGET is -0.0100
Median value for loan that was not repaid = 3.0000
Median value for loan that was repaid =     4.0000</code></pre>
<p><img src="/images/kaggle_home_credit_default_risk/output_44_1.png" alt="png"></p>
<ul>
<li>이 그래프를 보면 상관계수가 너무 작고, target값에 따른 분포의 차이도 거의 없는 걸 확인할 수 있다. 이를 통해, 새롭게 생성된 변수(previous_loan_counts Distribution)가 중요하지 않음을 알 수 있다.</li>
<li>이제 bureau 데이터프레임으로부터 몇 개의 변수를 새롭게 생성해보도록 하겠다. bureau 데이터프레임의 모든 수치형 변수로부터 평균, 최소, 최대값을 가져올 예정이다.</li>
</ul>
<h2 id="수치-데이터의-대표값을-계산"><a href="#수치-데이터의-대표값을-계산" class="headerlink" title="수치 데이터의 대표값을 계산"></a>수치 데이터의 대표값을 계산</h2><p><strong>Aggregating Numeric Columns</strong>  </p>
<ul>
<li>여기서 ‘대표값을 계산한다’는 것은 agg를 활용하여 데이터프레임의 평균, 최대값, 최소값, 합계 등을 구하는 것으로 정의한다.</li>
<li>bureau 데이터 프레임 안의 수치형 변수를 활용하기 위해, 모든 수치 데이터 Column의 대표값을 계산할 것이다.</li>
<li>이를 위해 고객 ID별로 그룹화를 수행하고, 그룹화된 데이터프레임의 대표값들을 agg를 </li>
</ul>
<h1 id="Putting-the-Functions-Together"><a href="#Putting-the-Functions-Together" class="headerlink" title="Putting the Functions Together"></a>Putting the Functions Together</h1><h1 id="Feature-Engineering-Outcomes"><a href="#Feature-Engineering-Outcomes" class="headerlink" title="Feature Engineering Outcomes"></a>Feature Engineering Outcomes</h1><h1 id="Modeling"><a href="#Modeling" class="headerlink" title="Modeling"></a>Modeling</h1><h1 id="Results"><a href="#Results" class="headerlink" title="Results"></a>Results</h1></div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2020-11-05T01:13:10.547Z" title="2020-11-05T01:13:10.547Z">2020-11-05</time></span><span class="level-item">Updated&nbsp;<time dateTime="2020-11-05T01:25:54.172Z" title="2020-11-05T01:25:54.172Z">2020-11-05</time></span><span class="level-item"><a class="link-muted" href="/categories/study/">study</a></span><span class="level-item">an hour read (About 10971 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2020/11/05/study/kaggle_titanic/">캐글 타이타닉 분석</a></h1><div class="content"><h1 id="사전-준비"><a href="#사전-준비" class="headerlink" title="사전 준비"></a>사전 준비</h1><h2 id="Kaggle-데이터-불러오기"><a href="#Kaggle-데이터-불러오기" class="headerlink" title="Kaggle 데이터 불러오기"></a>Kaggle 데이터 불러오기</h2><h3 id="Kaggle-API-설치"><a href="#Kaggle-API-설치" class="headerlink" title="Kaggle API 설치"></a>Kaggle API 설치</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">!pip install kaggle</span><br></pre></td></tr></table></figure>

<pre><code>Requirement already satisfied: kaggle in /usr/local/lib/python3.6/dist-packages (1.5.9)
Requirement already satisfied: slugify in /usr/local/lib/python3.6/dist-packages (from kaggle) (0.0.1)
Requirement already satisfied: urllib3 in /usr/local/lib/python3.6/dist-packages (from kaggle) (1.24.3)
Requirement already satisfied: python-slugify in /usr/local/lib/python3.6/dist-packages (from kaggle) (4.0.1)
Requirement already satisfied: python-dateutil in /usr/local/lib/python3.6/dist-packages (from kaggle) (2.8.1)
Requirement already satisfied: tqdm in /usr/local/lib/python3.6/dist-packages (from kaggle) (4.41.1)
Requirement already satisfied: certifi in /usr/local/lib/python3.6/dist-packages (from kaggle) (2020.6.20)
Requirement already satisfied: requests in /usr/local/lib/python3.6/dist-packages (from kaggle) (2.23.0)
Requirement already satisfied: six&gt;=1.10 in /usr/local/lib/python3.6/dist-packages (from kaggle) (1.15.0)
Requirement already satisfied: text-unidecode&gt;=1.3 in /usr/local/lib/python3.6/dist-packages (from python-slugify-&gt;kaggle) (1.3)
Requirement already satisfied: chardet&lt;4,&gt;=3.0.2 in /usr/local/lib/python3.6/dist-packages (from requests-&gt;kaggle) (3.0.4)
Requirement already satisfied: idna&lt;3,&gt;=2.5 in /usr/local/lib/python3.6/dist-packages (from requests-&gt;kaggle) (2.10)</code></pre>
<h3 id="Kaggle-Token-다운로드"><a href="#Kaggle-Token-다운로드" class="headerlink" title="Kaggle Token 다운로드"></a>Kaggle Token 다운로드</h3><ul>
<li>아래 코드는 Kaggle API 토큰을 업로드 하는 코드이다.</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> google.colab <span class="keyword">import</span> files</span><br><span class="line">uploaded = files.upload()</span><br><span class="line"><span class="keyword">for</span> fn <span class="keyword">in</span> uploaded.keys():</span><br><span class="line">  print(<span class="string">&#x27;uploaded file &quot;&#123;name&#125;&quot; with length &#123;length&#125; bytes&#x27;</span>.<span class="built_in">format</span>(</span><br><span class="line">      name=fn, length=<span class="built_in">len</span>(uploaded[fn])))</span><br><span class="line">  </span><br><span class="line"><span class="comment"># kaggle.json을 아래 폴더로 옮긴 뒤, file을 사용할 수 있도록 권한을 부여한다. </span></span><br><span class="line">!mkdir -p ~/.kaggle/ &amp;&amp; mv kaggle.json ~/.kaggle/ &amp;&amp; chmod <span class="number">600</span> ~/.kaggle/kaggle.json</span><br></pre></td></tr></table></figure>



<p><input type="file" id="files-dc9ba129-e04f-4e54-91b7-356b0932add7" name="files[]" multiple disabled
   style="border:none" /><br><output id="result-dc9ba129-e04f-4e54-91b7-356b0932add7"><br> Upload widget is only available when the cell has been executed in the<br> current browser session. Please rerun this cell to enable.<br> </output><br> <script src="/nbextensions/google.colab/files.js"></script> </p>
<pre><code>Saving kaggle.json to kaggle.json
uploaded file &quot;kaggle.json&quot; with length 63 bytes</code></pre>
<ul>
<li>실제로 kaggle.json 파일이 업로드 되었는지 확인</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ls <span class="number">-1</span>ha ~/.kaggle/kaggle.json</span><br></pre></td></tr></table></figure>

<pre><code>/root/.kaggle/kaggle.json</code></pre>
<h3 id="구글-드라이브-연동"><a href="#구글-드라이브-연동" class="headerlink" title="구글 드라이브 연동"></a>구글 드라이브 연동</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> google.colab <span class="keyword">import</span> drive <span class="comment"># 패키지 불러오기 </span></span><br><span class="line"><span class="keyword">from</span> os.path <span class="keyword">import</span> join  </span><br><span class="line"></span><br><span class="line"><span class="comment"># 구글 드라이브 마운트</span></span><br><span class="line">ROOT = <span class="string">&quot;/content/drive&quot;</span>     <span class="comment"># 드라이브 기본 경로</span></span><br><span class="line">print(ROOT)                 <span class="comment"># print content of ROOT (Optional)</span></span><br><span class="line">drive.mount(ROOT)           <span class="comment"># 드라이브 기본 경로 </span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 프로젝트 파일 생성 및 다운받을 경로 이동</span></span><br><span class="line">MY_GOOGLE_DRIVE_PATH = <span class="string">&#x27;My Drive/Colab Notebooks/python_basic/kaggle_titanic/data&#x27;</span></span><br><span class="line">PROJECT_PATH = join(ROOT, MY_GOOGLE_DRIVE_PATH)</span><br><span class="line">print(PROJECT_PATH)</span><br></pre></td></tr></table></figure>

<pre><code>/content/drive
Mounted at /content/drive
/content/drive/My Drive/Colab Notebooks/python_basic/kaggle_titanic/data</code></pre>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">%cd <span class="string">&quot;&#123;PROJECT_PATH&#125;&quot;</span></span><br></pre></td></tr></table></figure>

<pre><code>/content/drive/My Drive/Colab Notebooks/python_basic/kaggle_titanic/data</code></pre>
<h3 id="kaggle-competition-list-불러오기"><a href="#kaggle-competition-list-불러오기" class="headerlink" title="kaggle competition list 불러오기"></a>kaggle competition list 불러오기</h3><ul>
<li>캐글 대회 목록 불러오기</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">!kaggle competitions <span class="built_in">list</span></span><br></pre></td></tr></table></figure>

<pre><code>Warning: Looks like you&#39;re using an outdated API Version, please consider updating (server 1.5.9 / client 1.5.4)
ref                                            deadline             category            reward  teamCount  userHasEntered  
---------------------------------------------  -------------------  ---------------  ---------  ---------  --------------  
contradictory-my-dear-watson                   2030-07-01 23:59:00  Getting Started     Prizes        134           False  
gan-getting-started                            2030-07-01 23:59:00  Getting Started     Prizes        161           False  
tpu-getting-started                            2030-06-03 23:59:00  Getting Started  Knowledge        292           False  
digit-recognizer                               2030-01-01 00:00:00  Getting Started  Knowledge       2248           False  
titanic                                        2030-01-01 00:00:00  Getting Started  Knowledge      17260            True  
house-prices-advanced-regression-techniques    2030-01-01 00:00:00  Getting Started  Knowledge       4325            True  
connectx                                       2030-01-01 00:00:00  Getting Started  Knowledge        366           False  
nlp-getting-started                            2030-01-01 00:00:00  Getting Started  Knowledge       1130           False  
rock-paper-scissors                            2021-02-01 23:59:00  Playground          Prizes        226           False  
riiid-test-answer-prediction                   2021-01-07 23:59:00  Featured          $100,000       1491           False  
nfl-big-data-bowl-2021                         2021-01-05 23:59:00  Analytics         $100,000          0           False  
competitive-data-science-predict-future-sales  2020-12-31 23:59:00  Playground           Kudos       9392           False  
halite-iv-playground-edition                   2020-12-31 23:59:00  Playground       Knowledge         44           False  
predict-volcanic-eruptions-ingv-oe             2020-12-28 23:59:00  Playground            Swag        198           False  
hashcode-drone-delivery                        2020-12-14 23:59:00  Playground       Knowledge         80           False  
cdp-unlocking-climate-solutions                2020-12-02 23:59:00  Analytics          $91,000          0           False  
lish-moa                                       2020-11-30 23:59:00  Research           $30,000       3454           False  
google-football                                2020-11-30 23:59:00  Featured            $6,000        925           False  
conways-reverse-game-of-life-2020              2020-11-30 23:59:00  Playground            Swag        132           False  
lyft-motion-prediction-autonomous-vehicles     2020-11-25 23:59:00  Featured           $30,000        788           False  </code></pre>
<h3 id="Titanic-Machine-Learning-from-Disaster-데이터셋-불러오기"><a href="#Titanic-Machine-Learning-from-Disaster-데이터셋-불러오기" class="headerlink" title="Titanic: Machine Learning from Disaster 데이터셋 불러오기"></a>Titanic: Machine Learning from Disaster 데이터셋 불러오기</h3><ul>
<li>타이타닉 대회 데이터를 가져오는 코드이다.</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">!kaggle competitions download -c titanic</span><br></pre></td></tr></table></figure>

<pre><code>Warning: Looks like you&#39;re using an outdated API Version, please consider updating (server 1.5.9 / client 1.5.4)
Downloading train.csv to /content/drive/My Drive/Colab Notebooks/python_basic/kaggle_titanic/data
  0% 0.00/59.8k [00:00&lt;?, ?B/s]
100% 59.8k/59.8k [00:00&lt;00:00, 7.40MB/s]
Downloading gender_submission.csv to /content/drive/My Drive/Colab Notebooks/python_basic/kaggle_titanic/data
  0% 0.00/3.18k [00:00&lt;?, ?B/s]
100% 3.18k/3.18k [00:00&lt;00:00, 439kB/s]
Downloading test.csv to /content/drive/My Drive/Colab Notebooks/python_basic/kaggle_titanic/data
  0% 0.00/28.0k [00:00&lt;?, ?B/s]
100% 28.0k/28.0k [00:00&lt;00:00, 3.95MB/s]</code></pre>
<ul>
<li>리눅스 명령어 ls는 경로(폴더) 내 모든 데이터 파일을 보여준다.</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">!ls</span><br></pre></td></tr></table></figure>

<pre><code>gender_submission.csv  test.csv  train.csv</code></pre>
<h2 id="캐글-데이터-수집-및-EDA"><a href="#캐글-데이터-수집-및-EDA" class="headerlink" title="캐글 데이터 수집 및 EDA"></a>캐글 데이터 수집 및 EDA</h2><p>우선 데이터를 수집하기에 앞서서 EDA에 관한 필수 패키지를 설치하자.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd <span class="comment"># 데이터 가공, 변환(dplyr)</span></span><br><span class="line"><span class="keyword">import</span> pandas_profiling <span class="comment"># 보고서 기능 # 아나콘다 할 때... 실습</span></span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np <span class="comment"># 수치 연산 &amp; 배열, 행렬</span></span><br><span class="line"><span class="keyword">import</span> matplotlib <span class="keyword">as</span> mpl <span class="comment"># 시각화</span></span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt <span class="comment"># 시각화</span></span><br><span class="line"><span class="keyword">import</span> seaborn <span class="keyword">as</span> sns <span class="comment"># 시각화</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> IPython.core.display <span class="keyword">import</span> display, HTML</span><br></pre></td></tr></table></figure>

<h3 id="데이터-수집"><a href="#데이터-수집" class="headerlink" title="데이터 수집"></a>데이터 수집</h3><p>여기에서는 우선 <code>test.csv</code> &amp; <code>train.csv</code> 파일을 받도록 한다. </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 경로 변경 (프로젝트 파일 생성 및 다운받을 경로 이동)</span></span><br><span class="line">MY_GOOGLE_DRIVE_PATH = <span class="string">&#x27;My Drive/Colab Notebooks/python_basic/kaggle_titanic&#x27;</span></span><br><span class="line">PROJECT_PATH = join(ROOT, MY_GOOGLE_DRIVE_PATH)</span><br><span class="line">print(PROJECT_PATH)</span><br></pre></td></tr></table></figure>

<pre><code>/content/drive/My Drive/Colab Notebooks/python_basic/kaggle_titanic</code></pre>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">%cd <span class="string">&quot;&#123;PROJECT_PATH&#125;&quot;</span></span><br></pre></td></tr></table></figure>

<pre><code>/content/drive/My Drive/Colab Notebooks/python_basic/kaggle_titanic</code></pre>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">!ls</span><br></pre></td></tr></table></figure>

<pre><code>data  source</code></pre>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">df_train = pd.read_csv(<span class="string">&#x27;data/train.csv&#x27;</span>)</span><br><span class="line">df_test = pd.read_csv(<span class="string">&#x27;data/test.csv&#x27;</span>)</span><br><span class="line">print(<span class="string">&quot;data import is done&quot;</span>)</span><br></pre></td></tr></table></figure>

<pre><code>data import is done</code></pre>
<h3 id="데이터-확인"><a href="#데이터-확인" class="headerlink" title="데이터 확인"></a>데이터 확인</h3><ul>
<li><code>Kaggle</code> 데이터를 불러오면 우선 확인해야 하는 것은 데이터셋의 크기다. <ul>
<li>변수의 갯수</li>
<li>수치형 변수 &amp; 범주형 변수의 개수 등을 파악해야 한다.</li>
</ul>
</li>
<li>Point 1 - <code>train</code>데이터에서 굳이 훈련데이터와 테스트 데이터를 구분할 필요는 없다. <ul>
<li>보통 <code>Kaggle</code>에서는 테스트 데이터를 주기적으로 업데이트 해준다.</li>
</ul>
</li>
<li>Point 2 - 보통 <code>test</code> 데이터의 변수의 개수가 하나 더 작다. </li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df_train.shape, df_test.shape</span><br></pre></td></tr></table></figure>




<pre><code>((891, 12), (418, 11))</code></pre>
<ul>
<li>그 후 <code>train</code>데이터의 <code>상위 5개</code>의 데이터만 확인한다. </li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">display(df_train.head())</span><br></pre></td></tr></table></figure>


<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

<pre><code>.dataframe tbody tr th &#123;
    vertical-align: top;
&#125;

.dataframe thead th &#123;
    text-align: right;
&#125;</code></pre>
<p></style></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>PassengerId</th>
      <th>Survived</th>
      <th>Pclass</th>
      <th>Name</th>
      <th>Sex</th>
      <th>Age</th>
      <th>SibSp</th>
      <th>Parch</th>
      <th>Ticket</th>
      <th>Fare</th>
      <th>Cabin</th>
      <th>Embarked</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1</td>
      <td>0</td>
      <td>3</td>
      <td>Braund, Mr. Owen Harris</td>
      <td>male</td>
      <td>22.0</td>
      <td>1</td>
      <td>0</td>
      <td>A/5 21171</td>
      <td>7.2500</td>
      <td>NaN</td>
      <td>S</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2</td>
      <td>1</td>
      <td>1</td>
      <td>Cumings, Mrs. John Bradley (Florence Briggs Th...</td>
      <td>female</td>
      <td>38.0</td>
      <td>1</td>
      <td>0</td>
      <td>PC 17599</td>
      <td>71.2833</td>
      <td>C85</td>
      <td>C</td>
    </tr>
    <tr>
      <th>2</th>
      <td>3</td>
      <td>1</td>
      <td>3</td>
      <td>Heikkinen, Miss. Laina</td>
      <td>female</td>
      <td>26.0</td>
      <td>0</td>
      <td>0</td>
      <td>STON/O2. 3101282</td>
      <td>7.9250</td>
      <td>NaN</td>
      <td>S</td>
    </tr>
    <tr>
      <th>3</th>
      <td>4</td>
      <td>1</td>
      <td>1</td>
      <td>Futrelle, Mrs. Jacques Heath (Lily May Peel)</td>
      <td>female</td>
      <td>35.0</td>
      <td>1</td>
      <td>0</td>
      <td>113803</td>
      <td>53.1000</td>
      <td>C123</td>
      <td>S</td>
    </tr>
    <tr>
      <th>4</th>
      <td>5</td>
      <td>0</td>
      <td>3</td>
      <td>Allen, Mr. William Henry</td>
      <td>male</td>
      <td>35.0</td>
      <td>0</td>
      <td>0</td>
      <td>373450</td>
      <td>8.0500</td>
      <td>NaN</td>
      <td>S</td>
    </tr>
  </tbody>
</table>
</div>


<ul>
<li>그 다음 확인해야 하는 것은 <code>수치형</code> 변수와 <code>범주형</code> 변수를 구분한다. <ul>
<li>먼저 <code>numerical_features</code>를 구분하자.</li>
</ul>
</li>
<li>데이터의 변수가 많아서, 일단 숫자형과 문자형으로 분리한 후, EDA를 하려고 한다.</li>
<li>아래 코드는 <code>train</code>데이터에서 숫자형 변수만 추출하는 코드이다.</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">numeric_features = df_train.select_dtypes(include = [np.number]) <span class="comment"># 수치형 데이터</span></span><br><span class="line">print(numeric_features.columns)</span><br><span class="line">print(<span class="string">&quot;The total number of include numeric features are: &quot;</span>, <span class="built_in">len</span>(numeric_features.columns))</span><br></pre></td></tr></table></figure>

<pre><code>Index([&#39;PassengerId&#39;, &#39;Survived&#39;, &#39;Pclass&#39;, &#39;Age&#39;, &#39;SibSp&#39;, &#39;Parch&#39;, &#39;Fare&#39;], dtype=&#39;object&#39;)
The total number of include numeric features are:  7</code></pre>
<ul>
<li><code>numeric_features</code>을 제외한 나머지 변수를 추출하자. (Categorical 등)</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">categorical_features = df_train.select_dtypes(exclude = [np.number]) <span class="comment"># 수치형이 아닌 데이터</span></span><br><span class="line">print(categorical_features.columns)</span><br><span class="line">print(<span class="string">&quot;The total number of exclude numeric features are: &quot;</span>, <span class="built_in">len</span>(categorical_features.columns))</span><br></pre></td></tr></table></figure>

<pre><code>Index([&#39;Name&#39;, &#39;Sex&#39;, &#39;Ticket&#39;, &#39;Cabin&#39;, &#39;Embarked&#39;], dtype=&#39;object&#39;)
The total number of exclude numeric features are:  5</code></pre>
<ul>
<li>우선 전체 데이터는 <code>891</code>개 변수는 <code>12</code>개로 확인했다. <ul>
<li>그 중 수치형 변수는 7개, 문자형 변수는 5개인 것으로 확인된다. </li>
</ul>
</li>
</ul>
<h1 id="타이타닉-분석-따라하기"><a href="#타이타닉-분석-따라하기" class="headerlink" title="타이타닉 분석 따라하기"></a>타이타닉 분석 따라하기</h1><ul>
<li><a target="_blank" rel="noopener" href="https://colab.research.google.com/drive/1cqv5yD9uLHHrVFL-TGM9NPSD1ZyF4AC1">colab, 전태균님의 타이타닉 분석</a>  </li>
<li>타이타닉에 탑승한 사람들의 신상정보를 활용하여, 승선한 사람들의 생존여부를 예측하는 모델을 생성할 것이다.</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> seaborn <span class="keyword">as</span> sns</span><br><span class="line"></span><br><span class="line"><span class="comment"># matplotlib 의 기본 scheme 말고 seaborn scheme 을 세팅하고,</span></span><br><span class="line"><span class="comment"># 일일이 graph 의 font size 를 지정할 필요 없이 seaborn 의 font_scale 을 사용하면 편하다.</span></span><br><span class="line">plt.style.use(<span class="string">&#x27;seaborn&#x27;</span>)</span><br><span class="line">sns.<span class="built_in">set</span>(font_scale = <span class="number">2.1</span>)</span><br><span class="line"><span class="keyword">import</span> missingno <span class="keyword">as</span> msno</span><br><span class="line"></span><br><span class="line"><span class="comment"># warnings 무시</span></span><br><span class="line"><span class="keyword">import</span> warnings</span><br><span class="line">warnings.filterwarnings(<span class="string">&#x27;ignore&#x27;</span>)</span><br><span class="line"></span><br><span class="line">%matplotlib inline</span><br></pre></td></tr></table></figure>

<h2 id="데이터셋-확인"><a href="#데이터셋-확인" class="headerlink" title="데이터셋 확인"></a>데이터셋 확인</h2><ul>
<li>대부분의 캐글 데이터들은 장 정제되어 있다. 하지만 가끔 null data가 존재한다. 이를 확인하고, 향후 수정한다.</li>
<li>pandas는 파이썬에서 테이블화 된 데이터를 다루는 데 가장 최적화되어 있으며, 많이 쓰이는 라이브러리이다.</li>
<li>pandas를 사용하여 Dataset의 간단한 통계적 분석부터, 복잡한 처리들을 간단한 메소드를 사용하여 해낼 수 있다.</li>
<li>pandas는 파이썬으로 데이터 분석을 한다고 하면 능숙해져야 할 라이브러리이다.</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df_train.head()</span><br></pre></td></tr></table></figure>




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

<pre><code>.dataframe tbody tr th &#123;
    vertical-align: top;
&#125;

.dataframe thead th &#123;
    text-align: right;
&#125;</code></pre>
<p></style></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>PassengerId</th>
      <th>Survived</th>
      <th>Pclass</th>
      <th>Name</th>
      <th>Sex</th>
      <th>Age</th>
      <th>SibSp</th>
      <th>Parch</th>
      <th>Ticket</th>
      <th>Fare</th>
      <th>Cabin</th>
      <th>Embarked</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1</td>
      <td>0</td>
      <td>3</td>
      <td>Braund, Mr. Owen Harris</td>
      <td>male</td>
      <td>22.0</td>
      <td>1</td>
      <td>0</td>
      <td>A/5 21171</td>
      <td>7.2500</td>
      <td>NaN</td>
      <td>S</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2</td>
      <td>1</td>
      <td>1</td>
      <td>Cumings, Mrs. John Bradley (Florence Briggs Th...</td>
      <td>female</td>
      <td>38.0</td>
      <td>1</td>
      <td>0</td>
      <td>PC 17599</td>
      <td>71.2833</td>
      <td>C85</td>
      <td>C</td>
    </tr>
    <tr>
      <th>2</th>
      <td>3</td>
      <td>1</td>
      <td>3</td>
      <td>Heikkinen, Miss. Laina</td>
      <td>female</td>
      <td>26.0</td>
      <td>0</td>
      <td>0</td>
      <td>STON/O2. 3101282</td>
      <td>7.9250</td>
      <td>NaN</td>
      <td>S</td>
    </tr>
    <tr>
      <th>3</th>
      <td>4</td>
      <td>1</td>
      <td>1</td>
      <td>Futrelle, Mrs. Jacques Heath (Lily May Peel)</td>
      <td>female</td>
      <td>35.0</td>
      <td>1</td>
      <td>0</td>
      <td>113803</td>
      <td>53.1000</td>
      <td>C123</td>
      <td>S</td>
    </tr>
    <tr>
      <th>4</th>
      <td>5</td>
      <td>0</td>
      <td>3</td>
      <td>Allen, Mr. William Henry</td>
      <td>male</td>
      <td>35.0</td>
      <td>0</td>
      <td>0</td>
      <td>373450</td>
      <td>8.0500</td>
      <td>NaN</td>
      <td>S</td>
    </tr>
  </tbody>
</table>
</div>



<ul>
<li>이 타이타닉에서 Feature는 Pclass(티켓의 클래스), Age(성별), SibSp(함께 탑승한 형제와 배우자의 수), Parch(함께 탑승한 부모, 아이의 수), Fare(탑승료) 이며, 예측하려는 target label은 Survived(생존여부) 이다.</li>
</ul>
<p><img src="data:image/png;base64,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"></p>
<ul>
<li>Feature Engineering은 머신러닝 알고리즘을 작동하기 위해 데이터에 대한 도메인 지식을 활용하여 특징(Feature)을 만들어내는 과정이다. <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Feature_engineering">출처</a></li>
<li>또는 머신러닝 모델을 위한 데이터 테이블의 컬럼(특징)을 생성하거나 선택하는 작업을 의미한다.</li>
<li>간단히 정리하면, 모델의 성능을 높이기 위해, 모델에 입력할 데이터를 만들기 위해 주어진 초기 데이터로부터 특징을 가공하고 생성하는 전체 과정을 의미한다.</li>
</ul>
<h3 id="Null-data-check"><a href="#Null-data-check" class="headerlink" title="Null data check"></a>Null data check</h3><p>describe() 메소드를 쓰면 각 feature가 가진 통계치들을 반환해준다.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df_train.describe()</span><br></pre></td></tr></table></figure>




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

<pre><code>.dataframe tbody tr th &#123;
    vertical-align: top;
&#125;

.dataframe thead th &#123;
    text-align: right;
&#125;</code></pre>
<p></style></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>PassengerId</th>
      <th>Survived</th>
      <th>Pclass</th>
      <th>Age</th>
      <th>SibSp</th>
      <th>Parch</th>
      <th>Fare</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>count</th>
      <td>891.000000</td>
      <td>891.000000</td>
      <td>891.000000</td>
      <td>714.000000</td>
      <td>891.000000</td>
      <td>891.000000</td>
      <td>891.000000</td>
    </tr>
    <tr>
      <th>mean</th>
      <td>446.000000</td>
      <td>0.383838</td>
      <td>2.308642</td>
      <td>29.699118</td>
      <td>0.523008</td>
      <td>0.381594</td>
      <td>32.204208</td>
    </tr>
    <tr>
      <th>std</th>
      <td>257.353842</td>
      <td>0.486592</td>
      <td>0.836071</td>
      <td>14.526497</td>
      <td>1.102743</td>
      <td>0.806057</td>
      <td>49.693429</td>
    </tr>
    <tr>
      <th>min</th>
      <td>1.000000</td>
      <td>0.000000</td>
      <td>1.000000</td>
      <td>0.420000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>25%</th>
      <td>223.500000</td>
      <td>0.000000</td>
      <td>2.000000</td>
      <td>20.125000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>7.910400</td>
    </tr>
    <tr>
      <th>50%</th>
      <td>446.000000</td>
      <td>0.000000</td>
      <td>3.000000</td>
      <td>28.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>14.454200</td>
    </tr>
    <tr>
      <th>75%</th>
      <td>668.500000</td>
      <td>1.000000</td>
      <td>3.000000</td>
      <td>38.000000</td>
      <td>1.000000</td>
      <td>0.000000</td>
      <td>31.000000</td>
    </tr>
    <tr>
      <th>max</th>
      <td>891.000000</td>
      <td>1.000000</td>
      <td>3.000000</td>
      <td>80.000000</td>
      <td>8.000000</td>
      <td>6.000000</td>
      <td>512.329200</td>
    </tr>
  </tbody>
</table>
</div>




<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df_test.describe()</span><br></pre></td></tr></table></figure>




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

<pre><code>.dataframe tbody tr th &#123;
    vertical-align: top;
&#125;

.dataframe thead th &#123;
    text-align: right;
&#125;</code></pre>
<p></style></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>PassengerId</th>
      <th>Pclass</th>
      <th>Age</th>
      <th>SibSp</th>
      <th>Parch</th>
      <th>Fare</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>count</th>
      <td>418.000000</td>
      <td>418.000000</td>
      <td>332.000000</td>
      <td>418.000000</td>
      <td>418.000000</td>
      <td>417.000000</td>
    </tr>
    <tr>
      <th>mean</th>
      <td>1100.500000</td>
      <td>2.265550</td>
      <td>30.272590</td>
      <td>0.447368</td>
      <td>0.392344</td>
      <td>35.627188</td>
    </tr>
    <tr>
      <th>std</th>
      <td>120.810458</td>
      <td>0.841838</td>
      <td>14.181209</td>
      <td>0.896760</td>
      <td>0.981429</td>
      <td>55.907576</td>
    </tr>
    <tr>
      <th>min</th>
      <td>892.000000</td>
      <td>1.000000</td>
      <td>0.170000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>25%</th>
      <td>996.250000</td>
      <td>1.000000</td>
      <td>21.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>7.895800</td>
    </tr>
    <tr>
      <th>50%</th>
      <td>1100.500000</td>
      <td>3.000000</td>
      <td>27.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>14.454200</td>
    </tr>
    <tr>
      <th>75%</th>
      <td>1204.750000</td>
      <td>3.000000</td>
      <td>39.000000</td>
      <td>1.000000</td>
      <td>0.000000</td>
      <td>31.500000</td>
    </tr>
    <tr>
      <th>max</th>
      <td>1309.000000</td>
      <td>3.000000</td>
      <td>76.000000</td>
      <td>8.000000</td>
      <td>9.000000</td>
      <td>512.329200</td>
    </tr>
  </tbody>
</table>
</div>



<ul>
<li>이 테이블을 보면 PassengerId 숫자와 다른, null data가 존재하는 열(feature)이 있는 것 같다고 하는데 공부가 필요하다.</li>
<li>이를 좀 더 보기 편하도록 그래프로 시각화해서 살펴본다.</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> col <span class="keyword">in</span> df_train.columns:</span><br><span class="line">  msg = <span class="string">&#x27;column: &#123;:&gt;10&#125;\t Percent of NaN value: &#123;:.2f&#125;%&#x27;</span>.<span class="built_in">format</span>(col, <span class="number">100</span> * (df_train[col].isnull().<span class="built_in">sum</span>() / df_train[col].shape[<span class="number">0</span>]))</span><br><span class="line">  print(msg)</span><br></pre></td></tr></table></figure>

<pre><code>column: PassengerId     Percent of NaN value: 0.00%
column:   Survived     Percent of NaN value: 0.00%
column:     Pclass     Percent of NaN value: 0.00%
column:       Name     Percent of NaN value: 0.00%
column:        Sex     Percent of NaN value: 0.00%
column:        Age     Percent of NaN value: 19.87%
column:      SibSp     Percent of NaN value: 0.00%
column:      Parch     Percent of NaN value: 0.00%
column:     Ticket     Percent of NaN value: 0.00%
column:       Fare     Percent of NaN value: 0.00%
column:      Cabin     Percent of NaN value: 77.10%
column:   Embarked     Percent of NaN value: 0.22%</code></pre>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> col <span class="keyword">in</span> df_test.columns:</span><br><span class="line">    msg = <span class="string">&#x27;column: &#123;:&gt;10&#125;\t Percent of NaN value: &#123;:.2f&#125;%&#x27;</span>.<span class="built_in">format</span>(col, <span class="number">100</span> * (df_test[col].isnull().<span class="built_in">sum</span>() / df_test[col].shape[<span class="number">0</span>]))</span><br><span class="line">    print(msg)</span><br></pre></td></tr></table></figure>

<pre><code>column: PassengerId     Percent of NaN value: 0.00%
column:     Pclass     Percent of NaN value: 0.00%
column:       Name     Percent of NaN value: 0.00%
column:        Sex     Percent of NaN value: 0.00%
column:        Age     Percent of NaN value: 20.57%
column:      SibSp     Percent of NaN value: 0.00%
column:      Parch     Percent of NaN value: 0.00%
column:     Ticket     Percent of NaN value: 0.00%
column:       Fare     Percent of NaN value: 0.24%
column:      Cabin     Percent of NaN value: 78.23%
column:   Embarked     Percent of NaN value: 0.00%</code></pre>
<ul>
<li>Train, Test 데이터셋에서 Age(둘 다 약 20%), Cabin(둘 다 약 80%), Embarked(Train만 0.22%) null data가 존재하는 것을 볼 수 있다.</li>
<li>missingno(MSNO)라는 라이브러리를 사용하면 null data의 존재를 더 쉽게 볼 수 있다.</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">msno.matrix(df = df_train.iloc[:, :], figsize = (<span class="number">8</span>, <span class="number">8</span>), color = (<span class="number">0.8</span>, <span class="number">0.5</span>, <span class="number">0.2</span>))</span><br></pre></td></tr></table></figure>




<pre><code>&lt;matplotlib.axes._subplots.AxesSubplot at 0x7f0543ec17b8&gt;</code></pre>
<p><img src="/images/kaggle_titanic/output_56_1.png" alt="png"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">msno.bar(df = df_train.iloc[:, :], figsize = (<span class="number">8</span>, <span class="number">8</span>), color = (<span class="number">0.8</span>, <span class="number">0.5</span>, <span class="number">0.2</span>))</span><br></pre></td></tr></table></figure>




<pre><code>&lt;matplotlib.axes._subplots.AxesSubplot at 0x7f0541623eb8&gt;</code></pre>
<p><img src="/images/kaggle_titanic/output_57_1.png" alt="png"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">msno.bar(df = df_test.iloc[:, :], figsize = (<span class="number">8</span>, <span class="number">8</span>), color = (<span class="number">0.8</span>, <span class="number">0.5</span>, <span class="number">0.2</span>))</span><br></pre></td></tr></table></figure>




<pre><code>&lt;matplotlib.axes._subplots.AxesSubplot at 0x7f053fdb0c50&gt;</code></pre>
<p><img src="/images/kaggle_titanic/output_58_1.png" alt="png"></p>
<h3 id="Target-label-확인"><a href="#Target-label-확인" class="headerlink" title="Target label 확인"></a>Target label 확인</h3><ul>
<li>target label이 어떤 분포(distribution)를 가지고 있는 지 확인해봐야 한다.</li>
<li>binary classification 문제의 경우에서, 1과 0의 분포가 어떠냐에 따라 모델의 평가 방법이 달라질 수 있다.</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">f, ax = plt.subplots(<span class="number">1</span>, <span class="number">2</span>, figsize = (<span class="number">18</span>, <span class="number">8</span>))</span><br><span class="line"></span><br><span class="line">df_train[<span class="string">&#x27;Survived&#x27;</span>].value_counts().plot.pie(explode = [<span class="number">0</span>, <span class="number">0.1</span>], autopct = <span class="string">&#x27;%1.1f%%&#x27;</span>, ax = ax[<span class="number">0</span>], shadow = <span class="literal">True</span>)</span><br><span class="line">ax[<span class="number">0</span>].set_title(<span class="string">&#x27;Pie plot - Survived&#x27;</span>)</span><br><span class="line">ax[<span class="number">0</span>].set_ylabel(<span class="string">&#x27;&#x27;</span>)</span><br><span class="line">sns.countplot(<span class="string">&#x27;Survived&#x27;</span>, data = df_train, ax = ax[<span class="number">1</span>])</span><br><span class="line">ax[<span class="number">1</span>].set_title(<span class="string">&#x27;Count plot - Survived&#x27;</span>)</span><br><span class="line"></span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>


<p><img src="/images/kaggle_titanic/output_61_0.png" alt="png"></p>
<ul>
<li>38.4%가 살아남았다는 걸 알 수 있다.</li>
<li>target label의 분포가 제법 균일(balanced)하다.</li>
<li>불균일한 경우, 예를 들어 100 중 1이 99, 0이 1개인 경우에는 만약 모델이 모든 것을 1이라 해도 정확도가 99%가 나오게 된다. 0을 찾는 문제라면 이 모델은 원하는 결과를 줄 수 없게 된다.</li>
</ul>
<h2 id="EDA-탐색적-데이터-분석"><a href="#EDA-탐색적-데이터-분석" class="headerlink" title="EDA 탐색적 데이터 분석"></a>EDA 탐색적 데이터 분석</h2><ul>
<li>Exploratory Data Analysis. 많은 데이터 안의 숨겨진 사실을 찾기 위해서는 적절한 시각화가 필요하다.</li>
<li>시각화 라이브러리는 matplotlib, seaborn, plotly 등이 있다. 특정 목적에 맞는 소스코드를 정리해서 필요할 때마다 참고하면 편하다.</li>
</ul>
<h3 id="Pclass"><a href="#Pclass" class="headerlink" title="Pclass"></a>Pclass</h3><ul>
<li><p>Pclass는 서수형 데이터(ordinal)이다. 카테고리이면서, 순서가 있는 데이터 타입이다.</p>
</li>
<li><p>Pclass에 따른 생존률의 차이를 살펴보겠다. 엑셀의 피벗 차트와 유사한 작업을 하게 되는데, pandas dataframe엣는 groupby를 사용하면 쉽게 할 수 있다. 또한 pivot이라는 메소드도 있다.</p>
</li>
<li><p>‘Pclass’, “Survived’를 가져온 후, Pclass로 묶는다. 그러고 나면 각 Pclass마다 0과 1이 count가 되는데, 이를 평균 내면 각 Pclass별 생존률이 나온다.</p>
</li>
<li><p>아래와 같이 count()를 하면, 각 Pclass에 몇 명이 있는 지 확인할 수 있다.</p>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df_train[[<span class="string">&#x27;Pclass&#x27;</span>, <span class="string">&#x27;Survived&#x27;</span>]].groupby([<span class="string">&#x27;Pclass&#x27;</span>], as_index = <span class="literal">True</span>).count()</span><br></pre></td></tr></table></figure>




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

<pre><code>.dataframe tbody tr th &#123;
    vertical-align: top;
&#125;

.dataframe thead th &#123;
    text-align: right;
&#125;</code></pre>
<p></style></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Survived</th>
    </tr>
    <tr>
      <th>Pclass</th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>1</th>
      <td>216</td>
    </tr>
    <tr>
      <th>2</th>
      <td>184</td>
    </tr>
    <tr>
      <th>3</th>
      <td>491</td>
    </tr>
  </tbody>
</table>
</div>



<p>아래와 같이 sum()을 하면, 216명 중 생존한(Survived = 1) 사람의 총합을 주게 된다.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df_train[[<span class="string">&#x27;Pclass&#x27;</span>, <span class="string">&#x27;Survived&#x27;</span>]].groupby([<span class="string">&#x27;Pclass&#x27;</span>], as_index = <span class="literal">True</span>).<span class="built_in">sum</span>()</span><br></pre></td></tr></table></figure>




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

<pre><code>.dataframe tbody tr th &#123;
    vertical-align: top;
&#125;

.dataframe thead th &#123;
    text-align: right;
&#125;</code></pre>
<p></style></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Survived</th>
    </tr>
    <tr>
      <th>Pclass</th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>1</th>
      <td>136</td>
    </tr>
    <tr>
      <th>2</th>
      <td>87</td>
    </tr>
    <tr>
      <th>3</th>
      <td>119</td>
    </tr>
  </tbody>
</table>
</div>



<ul>
<li>pandas의 <a target="_blank" rel="noopener" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.crosstab.html">crosstab</a>을 사용하면 위 과정을 좀 더 수월하게 볼 수 있다.</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pd.crosstab(df_train[<span class="string">&#x27;Pclass&#x27;</span>], df_train[<span class="string">&#x27;Survived&#x27;</span>], margins = <span class="literal">True</span>).style.background_gradient(cmap = <span class="string">&#x27;summer_r&#x27;</span>)</span><br></pre></td></tr></table></figure>

<p><img src="data:image/png;base64,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"></p>
<ul>
<li>그룹화된 객체에 mean()을 하게 되면, 각 클래스별 생존률을 얻을 수 있다.</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df_train[[<span class="string">&#x27;Pclass&#x27;</span>, <span class="string">&#x27;Survived&#x27;</span>]].groupby([<span class="string">&#x27;Pclass&#x27;</span>], as_index = <span class="literal">True</span>).mean().sort_values(by = <span class="string">&#x27;Survived&#x27;</span>, ascending = <span class="literal">False</span>).plot.bar()</span><br></pre></td></tr></table></figure>




<pre><code>&lt;matplotlib.axes._subplots.AxesSubplot at 0x7f053fbfbe80&gt;</code></pre>
<p><img src="/images/kaggle_titanic/output_75_1.png" alt="png"></p>
<ul>
<li>Pclass가 좋을 수록(1st) 생존률이 높은 것을 확인할 수 있다.</li>
<li>seaborn의 countplot을 이용하면 특정 label에 따른 개수를 확인해볼 수 있다.</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">y_position = <span class="number">1.02</span></span><br><span class="line">f, ax = plt.subplots(<span class="number">1</span>, <span class="number">2</span>, figsize = (<span class="number">18</span>, <span class="number">8</span>))</span><br><span class="line">df_train[<span class="string">&#x27;Pclass&#x27;</span>].value_counts().plot.bar(color = [<span class="string">&#x27;#CD7F32&#x27;</span>,<span class="string">&#x27;#FFDF00&#x27;</span>,<span class="string">&#x27;#D3D3D3&#x27;</span>], ax = ax[<span class="number">0</span>])</span><br><span class="line">ax[<span class="number">0</span>].set_title(<span class="string">&#x27;Number of Passengers By Pclass&#x27;</span>, y = y_position)</span><br><span class="line">ax[<span class="number">0</span>].set_ylabel(<span class="string">&#x27;Count&#x27;</span>)</span><br><span class="line">sns.countplot(<span class="string">&#x27;Pclass&#x27;</span>, hue = <span class="string">&#x27;Survived&#x27;</span>, data = df_train, ax = ax[<span class="number">1</span>])</span><br><span class="line">ax[<span class="number">1</span>].set_title(<span class="string">&#x27;Pclass: Survived vs Dead&#x27;</span>, y = y_position)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>


<p><img src="/images/kaggle_titanic/output_77_0.png" alt="png"></p>
<ul>
<li>Pclass가 높을 수록, 생존 확률이 높은 걸 확인할 수 있다? Pclass 1, 2, 3 순서대로 63%, 48%, 25% 이다.</li>
<li>생존에 Pclass가 큰 영향을 미친다고 생각해볼 수 있으며, 나중에 모델을 세울 때 이 feature를 사용하는 것이 좋을 것이라 판단할 수 있다.</li>
</ul>
<h3 id="Sex"><a href="#Sex" class="headerlink" title="Sex"></a>Sex</h3><ul>
<li>성별로 생존률이 어떻게 달라지는 지 확인해보겠다.</li>
<li>마찬가지로 pandas groupby와 seaborn countplot을 사용해서 시각화해본다.</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">f, ax = plt.subplots(<span class="number">1</span>, <span class="number">2</span>, figsize = (<span class="number">18</span>, <span class="number">8</span>))</span><br><span class="line">df_train[[<span class="string">&#x27;Sex&#x27;</span>, <span class="string">&#x27;Survived&#x27;</span>]].groupby([<span class="string">&#x27;Sex&#x27;</span>], as_index = <span class="literal">True</span>).mean().plot.bar(ax = ax[<span class="number">0</span>])</span><br><span class="line">ax[<span class="number">0</span>].set_title(<span class="string">&#x27;Survived vs Sex&#x27;</span>)</span><br><span class="line">sns.countplot(<span class="string">&#x27;Sex&#x27;</span>, hue = <span class="string">&#x27;Survived&#x27;</span>, data = df_train, ax = ax[<span class="number">1</span>])</span><br><span class="line">ax[<span class="number">1</span>].set_title(<span class="string">&#x27;Sex: Survived vs Dead&#x27;</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>


<p><img src="/images/kaggle_titanic/output_81_0.png" alt="png"></p>
<ul>
<li>여자가 생존할 확률이 높은 걸 확인할 수 있다.</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df_train[[<span class="string">&#x27;Sex&#x27;</span>, <span class="string">&quot;Survived&quot;</span>]].groupby([<span class="string">&#x27;Sex&#x27;</span>], as_index = <span class="literal">False</span>).mean().sort_values(by = <span class="string">&quot;Survived&quot;</span>, ascending = <span class="literal">False</span>)</span><br></pre></td></tr></table></figure>




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

<pre><code>.dataframe tbody tr th &#123;
    vertical-align: top;
&#125;

.dataframe thead th &#123;
    text-align: right;
&#125;</code></pre>
<p></style></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Sex</th>
      <th>Survived</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>female</td>
      <td>0.742038</td>
    </tr>
    <tr>
      <th>1</th>
      <td>male</td>
      <td>0.188908</td>
    </tr>
  </tbody>
</table>
</div>




<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pd.crosstab(df_train[<span class="string">&#x27;Sex&#x27;</span>], df_train[<span class="string">&#x27;Survived&#x27;</span>], margins = <span class="literal">True</span>).style.background_gradient(cmap = <span class="string">&#x27;summer_r&#x27;</span>)</span><br></pre></td></tr></table></figure>

<p><img src="data:image/png;base64,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"></p>
<ul>
<li>Pclass와 마찬가지로, Sex도 예측 모델에 쓰일 중요한 feature 임을 알 수 있다.</li>
</ul>
<h3 id="Both-Sex-and-Pclass"><a href="#Both-Sex-and-Pclass" class="headerlink" title="Both Sex and Pclass"></a>Both Sex and Pclass</h3><ul>
<li>Sex, Pclass 2가지에 관하여 생존이 어떻게 달라지는 지 확인해 본다.</li>
<li>seaborn의 factorplot을 이용하면, 손쉽게 3개의 차원으로 이루어진 그래프를 그릴 수 있다.</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sns.factorplot(<span class="string">&#x27;Pclass&#x27;</span>, <span class="string">&#x27;Survived&#x27;</span>, hue = <span class="string">&#x27;Sex&#x27;</span>, data = df_train,</span><br><span class="line">               size = <span class="number">6</span>, aspect = <span class="number">1.5</span>)</span><br></pre></td></tr></table></figure>




<pre><code>&lt;seaborn.axisgrid.FacetGrid at 0x7f053fd72208&gt;</code></pre>
<p><img src="/images/kaggle_titanic/output_89_1.png" alt="png"></p>
<ul>
<li>모든 클래스에서 여자가 살 확률이 남자보다 높은 걸 알 수 있다.</li>
<li>또한 남자, 여자 상관없이 클래스가 높을 수록 살 확률이 높다.</li>
<li>hue = ‘Sex’ 대신 col = ‘Pclass’로 하면 아래와 같아진다. (column)</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sns.factorplot(x = <span class="string">&#x27;Sex&#x27;</span>, y = <span class="string">&quot;Survived&quot;</span>, col = <span class="string">&#x27;Pclass&#x27;</span>,</span><br><span class="line">               data = df_train, satureation = <span class="number">5</span>,</span><br><span class="line">               size = <span class="number">9</span>, aspect = <span class="number">1</span>)</span><br></pre></td></tr></table></figure>




<pre><code>&lt;seaborn.axisgrid.FacetGrid at 0x7f053fda8da0&gt;</code></pre>
<p><img src="/images/kaggle_titanic/output_91_1.png" alt="png"></p>
<h3 id="Age"><a href="#Age" class="headerlink" title="Age"></a>Age</h3><ul>
<li>Age Feature를 살펴보자.</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">print(<span class="string">&#x27;제일 나이 많은 탑승객 : &#123;:.1f&#125; Years&#x27;</span>.<span class="built_in">format</span>(df_train[<span class="string">&#x27;Age&#x27;</span>].<span class="built_in">max</span>()))</span><br><span class="line">print(<span class="string">&#x27;제일 어린 탑승객 : &#123;:.1f&#125; Years&#x27;</span>.<span class="built_in">format</span>(df_train[<span class="string">&#x27;Age&#x27;</span>].<span class="built_in">min</span>()))</span><br><span class="line">print(<span class="string">&#x27;탑승객 평균 나이 : &#123;:.1f&#125; Years&#x27;</span>.<span class="built_in">format</span>(df_train[<span class="string">&#x27;Age&#x27;</span>].mean()))</span><br></pre></td></tr></table></figure>

<pre><code>제일 나이 많은 탑승객 : 80.0 Years
제일 어린 탑승객 : 0.4 Years
탑승객 평균 나이 : 29.7 Years</code></pre>
<ul>
<li>생존에 따른 Age의 히스토그램을 그려보겠다.</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">fig, ax = plt.subplots(<span class="number">1</span>, <span class="number">1</span>, figsize = (<span class="number">9</span>, <span class="number">5</span>))</span><br><span class="line">sns.kdeplot(df_train[df_train[<span class="string">&#x27;Survived&#x27;</span>] == <span class="number">1</span>][<span class="string">&#x27;Age&#x27;</span>], ax = ax)</span><br><span class="line">sns.kdeplot(df_train[df_train[<span class="string">&#x27;Survived&#x27;</span>] == <span class="number">0</span>][<span class="string">&#x27;Age&#x27;</span>], ax = ax)</span><br><span class="line">plt.legend([<span class="string">&#x27;Survived == 1&#x27;</span>, <span class="string">&#x27;Survived == 0&#x27;</span>])</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>


<p><img src="/images/kaggle_titanic/output_96_0.png" alt="png"></p>
<ul>
<li>생존자 중 나이가 어린 경우가 많음을 볼 수 있다.</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Age distribution withing classes</span></span><br><span class="line">plt.figure(figsize = (<span class="number">8</span>, <span class="number">6</span>))</span><br><span class="line">df_train[<span class="string">&#x27;Age&#x27;</span>][df_train[<span class="string">&#x27;Pclass&#x27;</span>] == <span class="number">1</span>].plot(kind = <span class="string">&#x27;kde&#x27;</span>)</span><br><span class="line">df_train[<span class="string">&#x27;Age&#x27;</span>][df_train[<span class="string">&#x27;Pclass&#x27;</span>] == <span class="number">2</span>].plot(kind = <span class="string">&#x27;kde&#x27;</span>)</span><br><span class="line">df_train[<span class="string">&#x27;Age&#x27;</span>][df_train[<span class="string">&#x27;Pclass&#x27;</span>] == <span class="number">3</span>].plot(kind = <span class="string">&#x27;kde&#x27;</span>)</span><br><span class="line"></span><br><span class="line">plt.xlabel(<span class="string">&#x27;Age&#x27;</span>)</span><br><span class="line">plt.title(<span class="string">&#x27;Age Distribution within classes&#x27;</span>)</span><br><span class="line">plt.legend([<span class="string">&#x27;1st Class&#x27;</span>, <span class="string">&#x27;2nd Class&#x27;</span>, <span class="string">&#x27;3rd Class&#x27;</span>])</span><br></pre></td></tr></table></figure>




<pre><code>&lt;matplotlib.legend.Legend at 0x7f053f7dd6a0&gt;</code></pre>
<p><img src="/images/kaggle_titanic/output_98_1.png" alt="png"></p>
<ul>
<li><p>Pclass가 높을 수록 나이 많은 사람의 비중이 커진다.</p>
</li>
<li><p>나이대가 변하면서 생존률이 어떻게 되는 지 보려고 한다.</p>
</li>
<li><p>나이 범위를 점점 넓혀가며, 생존률이 어떻게 되는 지 한 번 보자.</p>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">cummulate_survival_ratio = []</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, <span class="number">80</span>):</span><br><span class="line">  cummulate_survival_ratio.append(df_train[df_train[<span class="string">&#x27;Age&#x27;</span>] &lt; i][<span class="string">&#x27;Survived&#x27;</span>].<span class="built_in">sum</span>() / <span class="built_in">len</span>(df_train[df_train[<span class="string">&#x27;Age&#x27;</span>] &lt; i][<span class="string">&#x27;Survived&#x27;</span>]))</span><br><span class="line"></span><br><span class="line">plt.figure(figsize = (<span class="number">7</span>, <span class="number">7</span>))</span><br><span class="line">plt.plot(cummulate_survival_ratio)</span><br><span class="line">plt.title(<span class="string">&#x27;Survival rate change depending on range of Age&#x27;</span>, y = <span class="number">1.02</span>)</span><br><span class="line">plt.ylabel(<span class="string">&#x27;Survival rate&#x27;</span>)</span><br><span class="line">plt.xlabel(<span class="string">&#x27;Range of Age(0~x)&#x27;</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>


<p><img src="/images/kaggle_titanic/output_101_0.png" alt="png"></p>
<ul>
<li>나이가 어릴 수록 생존률이 확실히 높은 것을 확인할 수 있다.</li>
<li>Age는 중요한 Feature로 쓰일 수 있음을 확인했다.</li>
</ul>
<h3 id="Pclass-Sex-Age"><a href="#Pclass-Sex-Age" class="headerlink" title="Pclass, Sex, Age"></a>Pclass, Sex, Age</h3><ul>
<li>Sex, Pclass, Age, Sruvived 모두에 대해서 보고 싶다면, 이를 쉽게 그려주는 seaborn의 biolinplot을 사용한다.</li>
<li>x축은 우리가 나눠서 보고 싶어하는 case(Pclass, Sex)를 나타내고, y축은 보고 싶어하는 distribution(Age)이다.</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">f, ax = plt.subplots(<span class="number">1</span>, <span class="number">2</span>, figsize = (<span class="number">18</span>,<span class="number">8</span>))</span><br><span class="line">sns.violinplot(<span class="string">&quot;Pclass&quot;</span>, <span class="string">&quot;Age&quot;</span>, hue = <span class="string">&quot;Survived&quot;</span>, data = df_train, scale = <span class="string">&#x27;count&#x27;</span>, split = <span class="literal">True</span>, ax = ax[<span class="number">0</span>])</span><br><span class="line">ax[<span class="number">0</span>].set_title(<span class="string">&#x27;Pclass and Age vs Survived&#x27;</span>)</span><br><span class="line">ax[<span class="number">0</span>].set_yticks(<span class="built_in">range</span>(<span class="number">0</span>, <span class="number">110</span>, <span class="number">10</span>))</span><br><span class="line">sns.violinplot(<span class="string">&quot;Sex&quot;</span>, <span class="string">&quot;Age&quot;</span>, hue = <span class="string">&quot;Survived&quot;</span>, data = df_train, scale = <span class="string">&#x27;count&#x27;</span>, split = <span class="literal">True</span>, ax = ax[<span class="number">1</span>])</span><br><span class="line">ax[<span class="number">1</span>].set_title(<span class="string">&#x27;Sex and Age vs Survived&#x27;</span>)</span><br><span class="line">ax[<span class="number">1</span>].set_yticks(<span class="built_in">range</span>(<span class="number">0</span>, <span class="number">110</span>, <span class="number">10</span>))</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>


<p><img src="/images/kaggle_titanic/output_105_0.png" alt="png"></p>
<ul>
<li>왼쪽 그림은 Pclass별로 Age의 분포가 어떻게 다른 지, 거기에 생존여부에 따라 구분한 그래프이다.</li>
<li>오른쪽 그림은 Sex, Survived에 따른 분포가 어떻게 다른 지 보여주는 그래프이다.</li>
<li>Survived만 봤을 때, 모든 클래스에서 나이가 어릴 수록 생존을 많이 한 것을 볼 수 있다.</li>
<li>오른쪽 그림에서, 명확히 여자가 생존을 많이 한 것을 볼 수 있다.</li>
<li>여성과 아이를 먼저 챙겼다고 분석해볼 수 있다.</li>
</ul>
<h3 id="Embarked"><a href="#Embarked" class="headerlink" title="Embarked"></a>Embarked</h3><h3 id="Family-SibSp-형제-자매-Parch-부모-자녀"><a href="#Family-SibSp-형제-자매-Parch-부모-자녀" class="headerlink" title="Family - SibSp(형제, 자매) + Parch(부모, 자녀)"></a>Family - SibSp(형제, 자매) + Parch(부모, 자녀)</h3><h3 id="Fare"><a href="#Fare" class="headerlink" title="Fare"></a>Fare</h3><h3 id="Cabin"><a href="#Cabin" class="headerlink" title="Cabin"></a>Cabin</h3><h3 id="Ticket"><a href="#Ticket" class="headerlink" title="Ticket"></a>Ticket</h3></div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2020-11-04T06:24:43.147Z" title="2020-11-04T06:24:43.147Z">2020-11-04</time></span><span class="level-item">Updated&nbsp;<time dateTime="2020-11-04T06:57:00.618Z" title="2020-11-04T06:57:00.618Z">2020-11-04</time></span><span class="level-item"><a class="link-muted" href="/categories/study/">study</a></span><span class="level-item">37 minutes read (About 5608 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2020/11/04/study/pandas_10minutes/">판다스 10분 완성</a></h1><div class="content"><p><a href="https://colab.research.google.com/github/idanjfhgkwl/myblog/blob/master/source/_posts/pandas_10minutes/pandas_10minutes.ipynb" target="_parent"><img src="https://colab.research.google.com/assets/colab-badge.svg" alt="Open In Colab"/></a></p>
<h1 id="판다스-10분-완성"><a href="#판다스-10분-완성" class="headerlink" title="판다스 10분 완성"></a>판다스 10분 완성</h1><p><a target="_blank" rel="noopener" href="https://dataitgirls2.github.io/10minutes2pandas/">데잇걸즈2</a><br><a target="_blank" rel="noopener" href="https://pandas.pydata.org/pandas-docs/stable/user_guide/10min.html">10 minutes to pandas</a><br><a target="_blank" rel="noopener" href="https://pandas.pydata.org/Pandas_Cheat_Sheet.pdf">Pandas Cheat Sheet</a><br><a target="_blank" rel="noopener" href="https://pandas.pydata.org/pandas-docs/stable/user_guide/cookbook.html">Cookbook</a></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br></pre></td></tr></table></figure>

<h2 id="1-객체-생성-Object-Creation"><a href="#1-객체-생성-Object-Creation" class="headerlink" title="1) 객체 생성 (Object Creation)"></a>1) 객체 생성 (Object Creation)</h2><p><a target="_blank" rel="noopener" href="https://pandas.pydata.org/pandas-docs/stable/user_guide/dsintro.html">데이터 구조 소개 섹션 (Intro to data structures)</a></p>
<p><strong>pandas.Series()</strong><br>값을 가지고 있는 리스트를 통해 <a target="_blank" rel="noopener" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Series.html">Series</a>를 만들고, 정수로 만들어진 인덱스를 기본값으로 불러온다.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">s = pd.Series([<span class="number">1</span>,<span class="number">3</span>,<span class="number">5</span>,np.nan,<span class="number">6</span>,<span class="number">8</span>])</span><br><span class="line">s</span><br></pre></td></tr></table></figure>




<pre><code>0    1.0
1    3.0
2    5.0
3    NaN
4    6.0
5    8.0
dtype: float64</code></pre>
<p><strong>pandas.date_range()</strong><br>DatetimeIndex 데이터프레임을 만든다.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">dates = pd.date_range(<span class="string">&#x27;20130101&#x27;</span>, periods=<span class="number">6</span>)</span><br><span class="line">dates</span><br></pre></td></tr></table></figure>




<pre><code>DatetimeIndex([&#39;2013-01-01&#39;, &#39;2013-01-02&#39;, &#39;2013-01-03&#39;, &#39;2013-01-04&#39;,
               &#39;2013-01-05&#39;, &#39;2013-01-06&#39;],
              dtype=&#39;datetime64[ns]&#39;, freq=&#39;D&#39;)</code></pre>
<p><strong>pandas.DataFrame()</strong><br>레이블이 있는 열을 가지고 있는 numpy 배열을 전달하여 데이터프레임을 만든다.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">df = pd.DataFrame(np.random.randn(<span class="number">6</span>,<span class="number">4</span>), index=dates, columns=<span class="built_in">list</span>(<span class="string">&#x27;ABCD&#x27;</span>))</span><br><span class="line">df</span><br></pre></td></tr></table></figure>




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

<pre><code>.dataframe tbody tr th &#123;
    vertical-align: top;
&#125;

.dataframe thead th &#123;
    text-align: right;
&#125;</code></pre>
<p></style></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>A</th>
      <th>B</th>
      <th>C</th>
      <th>D</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2013-01-01</th>
      <td>0.682032</td>
      <td>-1.905166</td>
      <td>-0.545421</td>
      <td>0.238074</td>
    </tr>
    <tr>
      <th>2013-01-02</th>
      <td>0.120775</td>
      <td>-0.572338</td>
      <td>-2.020728</td>
      <td>-0.542485</td>
    </tr>
    <tr>
      <th>2013-01-03</th>
      <td>-0.575200</td>
      <td>-0.442130</td>
      <td>-0.154726</td>
      <td>-1.433836</td>
    </tr>
    <tr>
      <th>2013-01-04</th>
      <td>0.509850</td>
      <td>0.801045</td>
      <td>0.015410</td>
      <td>-0.671559</td>
    </tr>
    <tr>
      <th>2013-01-05</th>
      <td>1.403769</td>
      <td>1.191673</td>
      <td>-1.332947</td>
      <td>0.663252</td>
    </tr>
    <tr>
      <th>2013-01-06</th>
      <td>0.825406</td>
      <td>1.283820</td>
      <td>0.421918</td>
      <td>-0.115307</td>
    </tr>
  </tbody>
</table>
</div>



<p>Series와 같은 것으로 변환될 수 있는 객체들의 딕셔너리로 구성된 데이터프레임을 만든다.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">df2 = pd.DataFrame(&#123;<span class="string">&#x27;A&#x27;</span> : <span class="number">1.</span>,</span><br><span class="line">                    <span class="string">&#x27;B&#x27;</span> : pd.Timestamp(<span class="string">&#x27;20130102&#x27;</span>),</span><br><span class="line">                    <span class="string">&#x27;C&#x27;</span> : pd.Series(<span class="number">1</span>,index=<span class="built_in">list</span>(<span class="built_in">range</span>(<span class="number">4</span>)),dtype=<span class="string">&#x27;float32&#x27;</span>),</span><br><span class="line">                    <span class="string">&#x27;D&#x27;</span> : np.array([<span class="number">3</span>] * <span class="number">4</span>,dtype=<span class="string">&#x27;int32&#x27;</span>),</span><br><span class="line">                    <span class="string">&#x27;E&#x27;</span> : pd.Categorical([<span class="string">&quot;test&quot;</span>,<span class="string">&quot;train&quot;</span>,<span class="string">&quot;test&quot;</span>,<span class="string">&quot;train&quot;</span>]),</span><br><span class="line">                    <span class="string">&#x27;F&#x27;</span> : <span class="string">&#x27;foo&#x27;</span> &#125;)</span><br><span class="line">df2</span><br></pre></td></tr></table></figure>




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

<pre><code>.dataframe tbody tr th &#123;
    vertical-align: top;
&#125;

.dataframe thead th &#123;
    text-align: right;
&#125;</code></pre>
<p></style></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>A</th>
      <th>B</th>
      <th>C</th>
      <th>D</th>
      <th>E</th>
      <th>F</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1.0</td>
      <td>2013-01-02</td>
      <td>1.0</td>
      <td>3</td>
      <td>test</td>
      <td>foo</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1.0</td>
      <td>2013-01-02</td>
      <td>1.0</td>
      <td>3</td>
      <td>train</td>
      <td>foo</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1.0</td>
      <td>2013-01-02</td>
      <td>1.0</td>
      <td>3</td>
      <td>test</td>
      <td>foo</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1.0</td>
      <td>2013-01-02</td>
      <td>1.0</td>
      <td>3</td>
      <td>train</td>
      <td>foo</td>
    </tr>
  </tbody>
</table>
</div>



<p><strong>.dtypes</strong><br>데이터프레임 결과물의 열은 다양한 데이터 타입으로 구성된다.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df2.dtypes</span><br></pre></td></tr></table></figure>




<pre><code>A           float64
B    datetime64[ns]
C           float32
D             int32
E          category
F            object
dtype: object</code></pre>
<h2 id="2-데이터-확인하기-Viewing-Data"><a href="#2-데이터-확인하기-Viewing-Data" class="headerlink" title="2) 데이터 확인하기 (Viewing Data)"></a>2) 데이터 확인하기 (Viewing Data)</h2><p><a target="_blank" rel="noopener" href="https://pandas.pydata.org/pandas-docs/stable/user_guide/basics.html#essential-basic-functionality">Basic Section (Essential basic functionality)</a></p>
<p><strong>.head(), .tail()</strong><br>괄호() 안에 숫자가 들어간다면 처음/마지막 줄의 특정 줄을 불러올 수 있다. 숫자가 들어가지 않으면 기본값인 5줄로 처리된다.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df.head() <span class="comment"># 시작에서 처음 5줄 불러온다.</span></span><br></pre></td></tr></table></figure>




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

<pre><code>.dataframe tbody tr th &#123;
    vertical-align: top;
&#125;

.dataframe thead th &#123;
    text-align: right;
&#125;</code></pre>
<p></style></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>A</th>
      <th>B</th>
      <th>C</th>
      <th>D</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2013-01-01</th>
      <td>0.682032</td>
      <td>-1.905166</td>
      <td>-0.545421</td>
      <td>0.238074</td>
    </tr>
    <tr>
      <th>2013-01-02</th>
      <td>0.120775</td>
      <td>-0.572338</td>
      <td>-2.020728</td>
      <td>-0.542485</td>
    </tr>
    <tr>
      <th>2013-01-03</th>
      <td>-0.575200</td>
      <td>-0.442130</td>
      <td>-0.154726</td>
      <td>-1.433836</td>
    </tr>
    <tr>
      <th>2013-01-04</th>
      <td>0.509850</td>
      <td>0.801045</td>
      <td>0.015410</td>
      <td>-0.671559</td>
    </tr>
    <tr>
      <th>2013-01-05</th>
      <td>1.403769</td>
      <td>1.191673</td>
      <td>-1.332947</td>
      <td>0.663252</td>
    </tr>
  </tbody>
</table>
</div>




<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df.tail(<span class="number">3</span>) <span class="comment"># 끝에서 마지막 3줄을 불러온다.</span></span><br></pre></td></tr></table></figure>




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

<pre><code>.dataframe tbody tr th &#123;
    vertical-align: top;
&#125;

.dataframe thead th &#123;
    text-align: right;
&#125;</code></pre>
<p></style></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>A</th>
      <th>B</th>
      <th>C</th>
      <th>D</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2013-01-04</th>
      <td>0.509850</td>
      <td>0.801045</td>
      <td>0.015410</td>
      <td>-0.671559</td>
    </tr>
    <tr>
      <th>2013-01-05</th>
      <td>1.403769</td>
      <td>1.191673</td>
      <td>-1.332947</td>
      <td>0.663252</td>
    </tr>
    <tr>
      <th>2013-01-06</th>
      <td>0.825406</td>
      <td>1.283820</td>
      <td>0.421918</td>
      <td>-0.115307</td>
    </tr>
  </tbody>
</table>
</div>



<p><strong>.index, .columns, .values</strong><br>인덱스, 열 그리고 numpy 데이터에 대한 세부 정보를 본다.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df.index</span><br></pre></td></tr></table></figure>




<pre><code>DatetimeIndex([&#39;2013-01-01&#39;, &#39;2013-01-02&#39;, &#39;2013-01-03&#39;, &#39;2013-01-04&#39;,
               &#39;2013-01-05&#39;, &#39;2013-01-06&#39;],
              dtype=&#39;datetime64[ns]&#39;, freq=&#39;D&#39;)</code></pre>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df.columns</span><br></pre></td></tr></table></figure>




<pre><code>Index([&#39;A&#39;, &#39;B&#39;, &#39;C&#39;, &#39;D&#39;], dtype=&#39;object&#39;)</code></pre>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df.values</span><br></pre></td></tr></table></figure>




<pre><code>array([[ 0.68203244, -1.90516572, -0.54542119,  0.23807417],
       [ 0.12077523, -0.57233779, -2.02072777, -0.5424847 ],
       [-0.57519992, -0.44213025, -0.15472648, -1.43383629],
       [ 0.5098502 ,  0.8010451 ,  0.01541041, -0.67155854],
       [ 1.40376854,  1.1916732 , -1.33294702,  0.66325193],
       [ 0.82540573,  1.28382005,  0.42191767, -0.11530747]])</code></pre>
<p><strong>.describe()</strong><br><a target="_blank" rel="noopener" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.describe.html">describe()</a>는 데이터의 대략적인 통계적 정보 요약을 보여준다.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df.describe()</span><br></pre></td></tr></table></figure>




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

<pre><code>.dataframe tbody tr th &#123;
    vertical-align: top;
&#125;

.dataframe thead th &#123;
    text-align: right;
&#125;</code></pre>
<p></style></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>A</th>
      <th>B</th>
      <th>C</th>
      <th>D</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>count</th>
      <td>6.000000</td>
      <td>6.000000</td>
      <td>6.000000</td>
      <td>6.000000</td>
    </tr>
    <tr>
      <th>mean</th>
      <td>0.494439</td>
      <td>0.059484</td>
      <td>-0.602749</td>
      <td>-0.310310</td>
    </tr>
    <tr>
      <th>std</th>
      <td>0.671655</td>
      <td>1.252312</td>
      <td>0.914322</td>
      <td>0.739363</td>
    </tr>
    <tr>
      <th>min</th>
      <td>-0.575200</td>
      <td>-1.905166</td>
      <td>-2.020728</td>
      <td>-1.433836</td>
    </tr>
    <tr>
      <th>25%</th>
      <td>0.218044</td>
      <td>-0.539786</td>
      <td>-1.136066</td>
      <td>-0.639290</td>
    </tr>
    <tr>
      <th>50%</th>
      <td>0.595941</td>
      <td>0.179457</td>
      <td>-0.350074</td>
      <td>-0.328896</td>
    </tr>
    <tr>
      <th>75%</th>
      <td>0.789562</td>
      <td>1.094016</td>
      <td>-0.027124</td>
      <td>0.149729</td>
    </tr>
    <tr>
      <th>max</th>
      <td>1.403769</td>
      <td>1.283820</td>
      <td>0.421918</td>
      <td>0.663252</td>
    </tr>
  </tbody>
</table>
</div>



<p><strong>.T</strong><br>데이터를 전치한다.<br>전치 행렬은 행과 열을 교환하여 얻는 행렬이다. 주대각선을 축으로 하는 반사 대칭을 가하여 얻는 행렬이다.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df.T</span><br></pre></td></tr></table></figure>




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

<pre><code>.dataframe tbody tr th &#123;
    vertical-align: top;
&#125;

.dataframe thead th &#123;
    text-align: right;
&#125;</code></pre>
<p></style></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>2013-01-01</th>
      <th>2013-01-02</th>
      <th>2013-01-03</th>
      <th>2013-01-04</th>
      <th>2013-01-05</th>
      <th>2013-01-06</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>A</th>
      <td>0.682032</td>
      <td>0.120775</td>
      <td>-0.575200</td>
      <td>0.509850</td>
      <td>1.403769</td>
      <td>0.825406</td>
    </tr>
    <tr>
      <th>B</th>
      <td>-1.905166</td>
      <td>-0.572338</td>
      <td>-0.442130</td>
      <td>0.801045</td>
      <td>1.191673</td>
      <td>1.283820</td>
    </tr>
    <tr>
      <th>C</th>
      <td>-0.545421</td>
      <td>-2.020728</td>
      <td>-0.154726</td>
      <td>0.015410</td>
      <td>-1.332947</td>
      <td>0.421918</td>
    </tr>
    <tr>
      <th>D</th>
      <td>0.238074</td>
      <td>-0.542485</td>
      <td>-1.433836</td>
      <td>-0.671559</td>
      <td>0.663252</td>
      <td>-0.115307</td>
    </tr>
  </tbody>
</table>
</div>



<p><strong>.sort_index()</strong><br>축 별로 정렬한다.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df.sort_index(axis=<span class="number">1</span>, ascending=<span class="literal">False</span>)</span><br></pre></td></tr></table></figure>




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

<pre><code>.dataframe tbody tr th &#123;
    vertical-align: top;
&#125;

.dataframe thead th &#123;
    text-align: right;
&#125;</code></pre>
<p></style></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>D</th>
      <th>C</th>
      <th>B</th>
      <th>A</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2013-01-01</th>
      <td>0.238074</td>
      <td>-0.545421</td>
      <td>-1.905166</td>
      <td>0.682032</td>
    </tr>
    <tr>
      <th>2013-01-02</th>
      <td>-0.542485</td>
      <td>-2.020728</td>
      <td>-0.572338</td>
      <td>0.120775</td>
    </tr>
    <tr>
      <th>2013-01-03</th>
      <td>-1.433836</td>
      <td>-0.154726</td>
      <td>-0.442130</td>
      <td>-0.575200</td>
    </tr>
    <tr>
      <th>2013-01-04</th>
      <td>-0.671559</td>
      <td>0.015410</td>
      <td>0.801045</td>
      <td>0.509850</td>
    </tr>
    <tr>
      <th>2013-01-05</th>
      <td>0.663252</td>
      <td>-1.332947</td>
      <td>1.191673</td>
      <td>1.403769</td>
    </tr>
    <tr>
      <th>2013-01-06</th>
      <td>-0.115307</td>
      <td>0.421918</td>
      <td>1.283820</td>
      <td>0.825406</td>
    </tr>
  </tbody>
</table>
</div>



<p><strong>.sort_values()</strong><br>값 별로 정렬한다.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df.sort_values(by=<span class="string">&#x27;B&#x27;</span>)</span><br></pre></td></tr></table></figure>




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

<pre><code>.dataframe tbody tr th &#123;
    vertical-align: top;
&#125;

.dataframe thead th &#123;
    text-align: right;
&#125;</code></pre>
<p></style></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>A</th>
      <th>B</th>
      <th>C</th>
      <th>D</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2013-01-01</th>
      <td>0.682032</td>
      <td>-1.905166</td>
      <td>-0.545421</td>
      <td>0.238074</td>
    </tr>
    <tr>
      <th>2013-01-02</th>
      <td>0.120775</td>
      <td>-0.572338</td>
      <td>-2.020728</td>
      <td>-0.542485</td>
    </tr>
    <tr>
      <th>2013-01-03</th>
      <td>-0.575200</td>
      <td>-0.442130</td>
      <td>-0.154726</td>
      <td>-1.433836</td>
    </tr>
    <tr>
      <th>2013-01-04</th>
      <td>0.509850</td>
      <td>0.801045</td>
      <td>0.015410</td>
      <td>-0.671559</td>
    </tr>
    <tr>
      <th>2013-01-05</th>
      <td>1.403769</td>
      <td>1.191673</td>
      <td>-1.332947</td>
      <td>0.663252</td>
    </tr>
    <tr>
      <th>2013-01-06</th>
      <td>0.825406</td>
      <td>1.283820</td>
      <td>0.421918</td>
      <td>-0.115307</td>
    </tr>
  </tbody>
</table>
</div>



<h2 id="3-선택-Selection"><a href="#3-선택-Selection" class="headerlink" title="3) 선택 (Selection)"></a>3) 선택 (Selection)</h2><p><a target="_blank" rel="noopener" href="https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html">데이터 인덱싱 및 선택 문서 (Indexing and selecting data)</a><br><a target="_blank" rel="noopener" href="https://pandas.pydata.org/pandas-docs/stable/user_guide/advanced.html">다중 인덱싱 / 심화 인덱싱 (MultiIndex / advanced indexing)</a></p>
<h3 id="3-1-데이터-얻기-Getting"><a href="#3-1-데이터-얻기-Getting" class="headerlink" title="3-1) 데이터 얻기 (Getting)"></a>3-1) 데이터 얻기 (Getting)</h3><p>df.A 와 동일한 Series를 생성하는 단일 열을 선택한다.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df[<span class="string">&#x27;A&#x27;</span>]</span><br></pre></td></tr></table></figure>




<pre><code>2013-01-01    0.682032
2013-01-02    0.120775
2013-01-03   -0.575200
2013-01-04    0.509850
2013-01-05    1.403769
2013-01-06    0.825406
Freq: D, Name: A, dtype: float64</code></pre>
<p>행을 분할하는 [ ]를 통해 선택한다.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df[<span class="number">0</span>:<span class="number">3</span>]</span><br></pre></td></tr></table></figure>




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

<pre><code>.dataframe tbody tr th &#123;
    vertical-align: top;
&#125;

.dataframe thead th &#123;
    text-align: right;
&#125;</code></pre>
<p></style></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>A</th>
      <th>B</th>
      <th>C</th>
      <th>D</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2013-01-01</th>
      <td>0.682032</td>
      <td>-1.905166</td>
      <td>-0.545421</td>
      <td>0.238074</td>
    </tr>
    <tr>
      <th>2013-01-02</th>
      <td>0.120775</td>
      <td>-0.572338</td>
      <td>-2.020728</td>
      <td>-0.542485</td>
    </tr>
    <tr>
      <th>2013-01-03</th>
      <td>-0.575200</td>
      <td>-0.442130</td>
      <td>-0.154726</td>
      <td>-1.433836</td>
    </tr>
  </tbody>
</table>
</div>




<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df[<span class="string">&#x27;20130102&#x27;</span>:<span class="string">&#x27;20130104&#x27;</span>]</span><br></pre></td></tr></table></figure>




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

<pre><code>.dataframe tbody tr th &#123;
    vertical-align: top;
&#125;

.dataframe thead th &#123;
    text-align: right;
&#125;</code></pre>
<p></style></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>A</th>
      <th>B</th>
      <th>C</th>
      <th>D</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2013-01-02</th>
      <td>0.120775</td>
      <td>-0.572338</td>
      <td>-2.020728</td>
      <td>-0.542485</td>
    </tr>
    <tr>
      <th>2013-01-03</th>
      <td>-0.575200</td>
      <td>-0.442130</td>
      <td>-0.154726</td>
      <td>-1.433836</td>
    </tr>
    <tr>
      <th>2013-01-04</th>
      <td>0.509850</td>
      <td>0.801045</td>
      <td>0.015410</td>
      <td>-0.671559</td>
    </tr>
  </tbody>
</table>
</div>



<h3 id="3-2-Label-을-통한-선택-Selection-by-Label"><a href="#3-2-Label-을-통한-선택-Selection-by-Label" class="headerlink" title="3-2) Label 을 통한 선택 (Selection by Label)"></a>3-2) Label 을 통한 선택 (Selection by Label)</h3><p><a target="_blank" rel="noopener" href="https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html">Label을 통한 선택 (Indexing and selecting data)</a><br>라벨을 사용하여 횡단면을 얻는다.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df.loc[dates[<span class="number">0</span>]] <span class="comment"># 2013-01-01 가로 데이터</span></span><br></pre></td></tr></table></figure>




<pre><code>A    0.682032
B   -1.905166
C   -0.545421
D    0.238074
Name: 2013-01-01 00:00:00, dtype: float64</code></pre>
<p>라벨을 사용하여 여러 축(의 데이터)을 얻는다.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df.loc[:,[<span class="string">&#x27;A&#x27;</span>,<span class="string">&#x27;B&#x27;</span>]] <span class="comment"># 맨 처음 &quot;:&quot;는 인덱스 범위인 것 같은데 아무것도 안 적으면 모든 데이터를 말하는 것 같다.</span></span><br></pre></td></tr></table></figure>




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

<pre><code>.dataframe tbody tr th &#123;
    vertical-align: top;
&#125;

.dataframe thead th &#123;
    text-align: right;
&#125;</code></pre>
<p></style></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>A</th>
      <th>B</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2013-01-01</th>
      <td>0.682032</td>
      <td>-1.905166</td>
    </tr>
    <tr>
      <th>2013-01-02</th>
      <td>0.120775</td>
      <td>-0.572338</td>
    </tr>
    <tr>
      <th>2013-01-03</th>
      <td>-0.575200</td>
      <td>-0.442130</td>
    </tr>
    <tr>
      <th>2013-01-04</th>
      <td>0.509850</td>
      <td>0.801045</td>
    </tr>
    <tr>
      <th>2013-01-05</th>
      <td>1.403769</td>
      <td>1.191673</td>
    </tr>
    <tr>
      <th>2013-01-06</th>
      <td>0.825406</td>
      <td>1.283820</td>
    </tr>
  </tbody>
</table>
</div>



<p>양쪽 종단점을 포함한 라벨 슬라이싱을 본다.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df.loc[<span class="string">&#x27;20130102&#x27;</span>:<span class="string">&#x27;20130104&#x27;</span>, [<span class="string">&#x27;A&#x27;</span>,<span class="string">&#x27;B&#x27;</span>]]</span><br></pre></td></tr></table></figure>




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

<pre><code>.dataframe tbody tr th &#123;
    vertical-align: top;
&#125;

.dataframe thead th &#123;
    text-align: right;
&#125;</code></pre>
<p></style></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>A</th>
      <th>B</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2013-01-02</th>
      <td>0.120775</td>
      <td>-0.572338</td>
    </tr>
    <tr>
      <th>2013-01-03</th>
      <td>-0.575200</td>
      <td>-0.442130</td>
    </tr>
    <tr>
      <th>2013-01-04</th>
      <td>0.509850</td>
      <td>0.801045</td>
    </tr>
  </tbody>
</table>
</div>



<p>반환되는 객체의 차원를 줄인다.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df.loc[<span class="string">&#x27;20130102&#x27;</span>,[<span class="string">&#x27;A&#x27;</span>,<span class="string">&#x27;B&#x27;</span>]]</span><br></pre></td></tr></table></figure>




<pre><code>A    0.120775
B   -0.572338
Name: 2013-01-02 00:00:00, dtype: float64</code></pre>
<p>스칼라 값을 얻는다.<br>스칼라란 선형대수학에서 선형공간을 정의 할 때, 선형공간의 원소와 스칼라 곱을 하는 체의 원소이다.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df.loc[dates[<span class="number">0</span>],<span class="string">&#x27;A&#x27;</span>]</span><br></pre></td></tr></table></figure>




<pre><code>0.6820324363584261</code></pre>
<p>스칼라 값을 더 빠르게 구하는 방법이다.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df.at[dates[<span class="number">0</span>],<span class="string">&#x27;A&#x27;</span>]</span><br></pre></td></tr></table></figure>




<pre><code>0.6820324363584261</code></pre>
<h3 id="3-3-위치로-선택하기-Selection-by-Position"><a href="#3-3-위치로-선택하기-Selection-by-Position" class="headerlink" title="3-3) 위치로 선택하기 (Selection by Position)"></a>3-3) 위치로 선택하기 (Selection by Position)</h3><p><a target="_blank" rel="noopener" href="https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html">위치로 선택하기 (Indexing and selecting data)</a><br>넘겨받은 정수의 위치를 기준으로 선택한다.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df.iloc[<span class="number">3</span>] <span class="comment"># 2013-01-04 데이터</span></span><br></pre></td></tr></table></figure>




<pre><code>A    0.509850
B    0.801045
C    0.015410
D   -0.671559
Name: 2013-01-04 00:00:00, dtype: float64</code></pre>
<p>정수로 표기된 슬라이스들을 통해, numpy / python과 유사하게 작동한다.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df.iloc[<span class="number">3</span>:<span class="number">5</span>,<span class="number">0</span>:<span class="number">2</span>] <span class="comment"># 3:5 -&gt; 3 이상 5 미만?</span></span><br></pre></td></tr></table></figure>




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

<pre><code>.dataframe tbody tr th &#123;
    vertical-align: top;
&#125;

.dataframe thead th &#123;
    text-align: right;
&#125;</code></pre>
<p></style></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>A</th>
      <th>B</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2013-01-04</th>
      <td>0.509850</td>
      <td>0.801045</td>
    </tr>
    <tr>
      <th>2013-01-05</th>
      <td>1.403769</td>
      <td>1.191673</td>
    </tr>
  </tbody>
</table>
</div>



<p>정수로 표기된 위치값의 리스트들을 통해, numpy / python의 스타일과 유사해진다.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df.iloc[[<span class="number">1</span>,<span class="number">2</span>,<span class="number">4</span>],[<span class="number">0</span>,<span class="number">2</span>]]</span><br></pre></td></tr></table></figure>




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

<pre><code>.dataframe tbody tr th &#123;
    vertical-align: top;
&#125;

.dataframe thead th &#123;
    text-align: right;
&#125;</code></pre>
<p></style></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>A</th>
      <th>C</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2013-01-02</th>
      <td>0.120775</td>
      <td>-2.020728</td>
    </tr>
    <tr>
      <th>2013-01-03</th>
      <td>-0.575200</td>
      <td>-0.154726</td>
    </tr>
    <tr>
      <th>2013-01-05</th>
      <td>1.403769</td>
      <td>-1.332947</td>
    </tr>
  </tbody>
</table>
</div>



<p>명시적으로 행을 나누고자 하는 경우이다.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df.iloc[<span class="number">1</span>:<span class="number">3</span>,:]</span><br></pre></td></tr></table></figure>




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

<pre><code>.dataframe tbody tr th &#123;
    vertical-align: top;
&#125;

.dataframe thead th &#123;
    text-align: right;
&#125;</code></pre>
<p></style></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>A</th>
      <th>B</th>
      <th>C</th>
      <th>D</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2013-01-02</th>
      <td>0.120775</td>
      <td>-0.572338</td>
      <td>-2.020728</td>
      <td>-0.542485</td>
    </tr>
    <tr>
      <th>2013-01-03</th>
      <td>-0.575200</td>
      <td>-0.442130</td>
      <td>-0.154726</td>
      <td>-1.433836</td>
    </tr>
  </tbody>
</table>
</div>



<p>명시적으로 열을 나누고자 하는 경우이다.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df.iloc[:,<span class="number">1</span>:<span class="number">3</span>]</span><br></pre></td></tr></table></figure>




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

<pre><code>.dataframe tbody tr th &#123;
    vertical-align: top;
&#125;

.dataframe thead th &#123;
    text-align: right;
&#125;</code></pre>
<p></style></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>B</th>
      <th>C</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2013-01-01</th>
      <td>-1.905166</td>
      <td>-0.545421</td>
    </tr>
    <tr>
      <th>2013-01-02</th>
      <td>-0.572338</td>
      <td>-2.020728</td>
    </tr>
    <tr>
      <th>2013-01-03</th>
      <td>-0.442130</td>
      <td>-0.154726</td>
    </tr>
    <tr>
      <th>2013-01-04</th>
      <td>0.801045</td>
      <td>0.015410</td>
    </tr>
    <tr>
      <th>2013-01-05</th>
      <td>1.191673</td>
      <td>-1.332947</td>
    </tr>
    <tr>
      <th>2013-01-06</th>
      <td>1.283820</td>
      <td>0.421918</td>
    </tr>
  </tbody>
</table>
</div>



<p>명시적으로 (특정한) 값을 얻고자 하는 경우이다.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df.iloc[<span class="number">1</span>,<span class="number">1</span>] <span class="comment"># 2013-01-02의 B 데이터</span></span><br></pre></td></tr></table></figure>




<pre><code>-0.5723377908969021</code></pre>
<p>스칼라 값을 빠르게 얻는 방법이다.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df.iat[<span class="number">1</span>,<span class="number">1</span>]</span><br></pre></td></tr></table></figure>




<pre><code>-0.5723377908969021</code></pre>
<h3 id="3-4-Boolean-Indexing"><a href="#3-4-Boolean-Indexing" class="headerlink" title="3-4) Boolean Indexing"></a>3-4) Boolean Indexing</h3><p>데이터를 선택하기 위해 단일 열의 값을 사용한다.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df[df.A &gt; <span class="number">0</span>] <span class="comment"># A값 음수인 2013-01-03 데이터 빠진다.</span></span><br></pre></td></tr></table></figure>




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

<pre><code>.dataframe tbody tr th &#123;
    vertical-align: top;
&#125;

.dataframe thead th &#123;
    text-align: right;
&#125;</code></pre>
<p></style></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>A</th>
      <th>B</th>
      <th>C</th>
      <th>D</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2013-01-01</th>
      <td>0.682032</td>
      <td>-1.905166</td>
      <td>-0.545421</td>
      <td>0.238074</td>
    </tr>
    <tr>
      <th>2013-01-02</th>
      <td>0.120775</td>
      <td>-0.572338</td>
      <td>-2.020728</td>
      <td>-0.542485</td>
    </tr>
    <tr>
      <th>2013-01-04</th>
      <td>0.509850</td>
      <td>0.801045</td>
      <td>0.015410</td>
      <td>-0.671559</td>
    </tr>
    <tr>
      <th>2013-01-05</th>
      <td>1.403769</td>
      <td>1.191673</td>
      <td>-1.332947</td>
      <td>0.663252</td>
    </tr>
    <tr>
      <th>2013-01-06</th>
      <td>0.825406</td>
      <td>1.283820</td>
      <td>0.421918</td>
      <td>-0.115307</td>
    </tr>
  </tbody>
</table>
</div>



<p>Boolean 조건을 충족하는 데이터프레임에서 값을 선택한다.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df[df &gt; <span class="number">0</span>] <span class="comment"># 음수는 NaN 처리된다.</span></span><br></pre></td></tr></table></figure>




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

<pre><code>.dataframe tbody tr th &#123;
    vertical-align: top;
&#125;

.dataframe thead th &#123;
    text-align: right;
&#125;</code></pre>
<p></style></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>A</th>
      <th>B</th>
      <th>C</th>
      <th>D</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2013-01-01</th>
      <td>0.682032</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>0.238074</td>
    </tr>
    <tr>
      <th>2013-01-02</th>
      <td>0.120775</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>2013-01-03</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>2013-01-04</th>
      <td>0.509850</td>
      <td>0.801045</td>
      <td>0.015410</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>2013-01-05</th>
      <td>1.403769</td>
      <td>1.191673</td>
      <td>NaN</td>
      <td>0.663252</td>
    </tr>
    <tr>
      <th>2013-01-06</th>
      <td>0.825406</td>
      <td>1.283820</td>
      <td>0.421918</td>
      <td>NaN</td>
    </tr>
  </tbody>
</table>
</div>



<p>필터링을 위한 메소드 <a target="_blank" rel="noopener" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Series.isin.html">isin()</a>을 사용한다.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">df2 = df.copy()</span><br><span class="line">df2[<span class="string">&#x27;E&#x27;</span>] = [<span class="string">&#x27;one&#x27;</span>, <span class="string">&#x27;one&#x27;</span>, <span class="string">&#x27;two&#x27;</span>, <span class="string">&#x27;three&#x27;</span>, <span class="string">&#x27;four&#x27;</span>, <span class="string">&#x27;three&#x27;</span>]</span><br><span class="line">df2</span><br></pre></td></tr></table></figure>




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

<pre><code>.dataframe tbody tr th &#123;
    vertical-align: top;
&#125;

.dataframe thead th &#123;
    text-align: right;
&#125;</code></pre>
<p></style></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>A</th>
      <th>B</th>
      <th>C</th>
      <th>D</th>
      <th>E</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2013-01-01</th>
      <td>0.682032</td>
      <td>-1.905166</td>
      <td>-0.545421</td>
      <td>0.238074</td>
      <td>one</td>
    </tr>
    <tr>
      <th>2013-01-02</th>
      <td>0.120775</td>
      <td>-0.572338</td>
      <td>-2.020728</td>
      <td>-0.542485</td>
      <td>one</td>
    </tr>
    <tr>
      <th>2013-01-03</th>
      <td>-0.575200</td>
      <td>-0.442130</td>
      <td>-0.154726</td>
      <td>-1.433836</td>
      <td>two</td>
    </tr>
    <tr>
      <th>2013-01-04</th>
      <td>0.509850</td>
      <td>0.801045</td>
      <td>0.015410</td>
      <td>-0.671559</td>
      <td>three</td>
    </tr>
    <tr>
      <th>2013-01-05</th>
      <td>1.403769</td>
      <td>1.191673</td>
      <td>-1.332947</td>
      <td>0.663252</td>
      <td>four</td>
    </tr>
    <tr>
      <th>2013-01-06</th>
      <td>0.825406</td>
      <td>1.283820</td>
      <td>0.421918</td>
      <td>-0.115307</td>
      <td>three</td>
    </tr>
  </tbody>
</table>
</div>




<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df2[df2[<span class="string">&#x27;E&#x27;</span>].isin([<span class="string">&#x27;two&#x27;</span>,<span class="string">&#x27;four&#x27;</span>])]</span><br></pre></td></tr></table></figure>




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

<pre><code>.dataframe tbody tr th &#123;
    vertical-align: top;
&#125;

.dataframe thead th &#123;
    text-align: right;
&#125;</code></pre>
<p></style></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>A</th>
      <th>B</th>
      <th>C</th>
      <th>D</th>
      <th>E</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2013-01-03</th>
      <td>-0.575200</td>
      <td>-0.442130</td>
      <td>-0.154726</td>
      <td>-1.433836</td>
      <td>two</td>
    </tr>
    <tr>
      <th>2013-01-05</th>
      <td>1.403769</td>
      <td>1.191673</td>
      <td>-1.332947</td>
      <td>0.663252</td>
      <td>four</td>
    </tr>
  </tbody>
</table>
</div>



<h3 id="3-5-설정-Setting"><a href="#3-5-설정-Setting" class="headerlink" title="3-5) 설정 (Setting)"></a>3-5) 설정 (Setting)</h3><p>새 열을 설정하면 데이터가 인덱스 별로 자동 정렬된다.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">s1 = pd.Series([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>], index=pd.date_range(<span class="string">&#x27;20130102&#x27;</span>, periods=<span class="number">6</span>))</span><br><span class="line">s1</span><br></pre></td></tr></table></figure>




<pre><code>2013-01-02    1
2013-01-03    2
2013-01-04    3
2013-01-05    4
2013-01-06    5
2013-01-07    6
Freq: D, dtype: int64</code></pre>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">df[<span class="string">&#x27;F&#x27;</span>] = s1</span><br><span class="line"></span><br><span class="line"><span class="comment"># 라벨에 의해 값을 설정한다.</span></span><br><span class="line">df.at[dates[<span class="number">0</span>],<span class="string">&#x27;A&#x27;</span>] = <span class="number">0</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 위치에 의해 값을 설정한다.</span></span><br><span class="line">df.iat[<span class="number">0</span>,<span class="number">1</span>] = <span class="number">0</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Numpy 배열을 사용한 할당에 의해 값을 설정한다.</span></span><br><span class="line">df.loc[:,<span class="string">&#x27;D&#x27;</span>] = np.array([<span class="number">5</span>] * <span class="built_in">len</span>(df))</span><br><span class="line"></span><br><span class="line">df</span><br></pre></td></tr></table></figure>




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

<pre><code>.dataframe tbody tr th &#123;
    vertical-align: top;
&#125;

.dataframe thead th &#123;
    text-align: right;
&#125;</code></pre>
<p></style></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>A</th>
      <th>B</th>
      <th>C</th>
      <th>D</th>
      <th>F</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2013-01-01</th>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>-0.545421</td>
      <td>5</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>2013-01-02</th>
      <td>0.120775</td>
      <td>-0.572338</td>
      <td>-2.020728</td>
      <td>5</td>
      <td>1.0</td>
    </tr>
    <tr>
      <th>2013-01-03</th>
      <td>-0.575200</td>
      <td>-0.442130</td>
      <td>-0.154726</td>
      <td>5</td>
      <td>2.0</td>
    </tr>
    <tr>
      <th>2013-01-04</th>
      <td>0.509850</td>
      <td>0.801045</td>
      <td>0.015410</td>
      <td>5</td>
      <td>3.0</td>
    </tr>
    <tr>
      <th>2013-01-05</th>
      <td>1.403769</td>
      <td>1.191673</td>
      <td>-1.332947</td>
      <td>5</td>
      <td>4.0</td>
    </tr>
    <tr>
      <th>2013-01-06</th>
      <td>0.825406</td>
      <td>1.283820</td>
      <td>0.421918</td>
      <td>5</td>
      <td>5.0</td>
    </tr>
  </tbody>
</table>
</div>



<p>where 연산을 설정한다.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">df2 = df.copy()</span><br><span class="line">df2[df2 &gt; <span class="number">0</span>] = -df2</span><br><span class="line">df2</span><br></pre></td></tr></table></figure>




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

<pre><code>.dataframe tbody tr th &#123;
    vertical-align: top;
&#125;

.dataframe thead th &#123;
    text-align: right;
&#125;</code></pre>
<p></style></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>A</th>
      <th>B</th>
      <th>C</th>
      <th>D</th>
      <th>F</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2013-01-01</th>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>-0.545421</td>
      <td>-5</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>2013-01-02</th>
      <td>-0.120775</td>
      <td>-0.572338</td>
      <td>-2.020728</td>
      <td>-5</td>
      <td>-1.0</td>
    </tr>
    <tr>
      <th>2013-01-03</th>
      <td>-0.575200</td>
      <td>-0.442130</td>
      <td>-0.154726</td>
      <td>-5</td>
      <td>-2.0</td>
    </tr>
    <tr>
      <th>2013-01-04</th>
      <td>-0.509850</td>
      <td>-0.801045</td>
      <td>-0.015410</td>
      <td>-5</td>
      <td>-3.0</td>
    </tr>
    <tr>
      <th>2013-01-05</th>
      <td>-1.403769</td>
      <td>-1.191673</td>
      <td>-1.332947</td>
      <td>-5</td>
      <td>-4.0</td>
    </tr>
    <tr>
      <th>2013-01-06</th>
      <td>-0.825406</td>
      <td>-1.283820</td>
      <td>-0.421918</td>
      <td>-5</td>
      <td>-5.0</td>
    </tr>
  </tbody>
</table>
</div>



<h2 id="4-결측치-Missing-Data"><a href="#4-결측치-Missing-Data" class="headerlink" title="4) 결측치 (Missing Data)"></a>4) 결측치 (Missing Data)</h2><p><a target="_blank" rel="noopener" href="https://pandas.pydata.org/pandas-docs/stable/user_guide/missing_data.html">Missing data section (Working with missing data)</a><br>Pandas는 결측치를 표현하기 위해 주로 np.nan 값을 사용한다.<br>Reindexing으로 지정된 축 상의 인덱스를 변경/추가/삭제할 수 있다.<br>Reindexing은 데이터의 복사본을 반환한다.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">df1 = df.reindex(index=dates[<span class="number">0</span>:<span class="number">4</span>], columns=<span class="built_in">list</span>(df.columns) + [<span class="string">&#x27;E&#x27;</span>])</span><br><span class="line">df1.loc[dates[<span class="number">0</span>]:dates[<span class="number">1</span>],<span class="string">&#x27;E&#x27;</span>] = <span class="number">1</span></span><br><span class="line">df1</span><br></pre></td></tr></table></figure>




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

<pre><code>.dataframe tbody tr th &#123;
    vertical-align: top;
&#125;

.dataframe thead th &#123;
    text-align: right;
&#125;</code></pre>
<p></style></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>A</th>
      <th>B</th>
      <th>C</th>
      <th>D</th>
      <th>F</th>
      <th>E</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2013-01-01</th>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>-0.545421</td>
      <td>5</td>
      <td>NaN</td>
      <td>1.0</td>
    </tr>
    <tr>
      <th>2013-01-02</th>
      <td>0.120775</td>
      <td>-0.572338</td>
      <td>-2.020728</td>
      <td>5</td>
      <td>1.0</td>
      <td>1.0</td>
    </tr>
    <tr>
      <th>2013-01-03</th>
      <td>-0.575200</td>
      <td>-0.442130</td>
      <td>-0.154726</td>
      <td>5</td>
      <td>2.0</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>2013-01-04</th>
      <td>0.509850</td>
      <td>0.801045</td>
      <td>0.015410</td>
      <td>5</td>
      <td>3.0</td>
      <td>NaN</td>
    </tr>
  </tbody>
</table>
</div>



<p>결측치를 가지고 있는 행들을 지운다.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df1.dropna(how=<span class="string">&#x27;any&#x27;</span>)</span><br></pre></td></tr></table></figure>




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

<pre><code>.dataframe tbody tr th &#123;
    vertical-align: top;
&#125;

.dataframe thead th &#123;
    text-align: right;
&#125;</code></pre>
<p></style></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>A</th>
      <th>B</th>
      <th>C</th>
      <th>D</th>
      <th>F</th>
      <th>E</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2013-01-02</th>
      <td>0.120775</td>
      <td>-0.572338</td>
      <td>-2.020728</td>
      <td>5</td>
      <td>1.0</td>
      <td>1.0</td>
    </tr>
  </tbody>
</table>
</div>



<p>결측치를 채워 넣는다.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df1.fillna(value=<span class="number">5</span>)</span><br></pre></td></tr></table></figure>




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

<pre><code>.dataframe tbody tr th &#123;
    vertical-align: top;
&#125;

.dataframe thead th &#123;
    text-align: right;
&#125;</code></pre>
<p></style></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>A</th>
      <th>B</th>
      <th>C</th>
      <th>D</th>
      <th>F</th>
      <th>E</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2013-01-01</th>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>-0.545421</td>
      <td>5</td>
      <td>5.0</td>
      <td>1.0</td>
    </tr>
    <tr>
      <th>2013-01-02</th>
      <td>0.120775</td>
      <td>-0.572338</td>
      <td>-2.020728</td>
      <td>5</td>
      <td>1.0</td>
      <td>1.0</td>
    </tr>
    <tr>
      <th>2013-01-03</th>
      <td>-0.575200</td>
      <td>-0.442130</td>
      <td>-0.154726</td>
      <td>5</td>
      <td>2.0</td>
      <td>5.0</td>
    </tr>
    <tr>
      <th>2013-01-04</th>
      <td>0.509850</td>
      <td>0.801045</td>
      <td>0.015410</td>
      <td>5</td>
      <td>3.0</td>
      <td>5.0</td>
    </tr>
  </tbody>
</table>
</div>



<p>nan인 값에 boolean을 통한 표식을 얻는다.<br>데이터프레임의 모든 값이 boolean 형태로 표시되도록 하며, nan인 값에만 True가 표시되게 하는 함수이다.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pd.isna(df1)</span><br></pre></td></tr></table></figure>




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

<pre><code>.dataframe tbody tr th &#123;
    vertical-align: top;
&#125;

.dataframe thead th &#123;
    text-align: right;
&#125;</code></pre>
<p></style></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>A</th>
      <th>B</th>
      <th>C</th>
      <th>D</th>
      <th>F</th>
      <th>E</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2013-01-01</th>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>True</td>
      <td>False</td>
    </tr>
    <tr>
      <th>2013-01-02</th>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>2013-01-03</th>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>True</td>
    </tr>
    <tr>
      <th>2013-01-04</th>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>True</td>
    </tr>
  </tbody>
</table>
</div>



<h2 id="5-연산-Operation"><a href="#5-연산-Operation" class="headerlink" title="5) 연산 (Operation)"></a>5) 연산 (Operation)</h2><p><a target="_blank" rel="noopener" href="https://pandas.pydata.org/pandas-docs/stable/user_guide/basics.html#flexible-binary-operations">이진 (Binary) 연산의 기본 섹션 (Flexible binary operations)</a></p>
<h3 id="5-1-통계-Stats"><a href="#5-1-통계-Stats" class="headerlink" title="5-1) 통계 (Stats)"></a>5-1) 통계 (Stats)</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">일반적으로 결측치를 제외한 후 연산된다.</span><br><span class="line">기술통계를 수행한다.</span><br></pre></td></tr></table></figure>


<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df.mean()</span><br></pre></td></tr></table></figure>




<pre><code>A    0.380767
B    0.377012
C   -0.602749
D    5.000000
F    3.000000
dtype: float64</code></pre>
<p>다른 축에서 동일한 연산을 수행한다.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df.mean(<span class="number">1</span>)</span><br></pre></td></tr></table></figure>




<pre><code>2013-01-01    1.113645
2013-01-02    0.705542
2013-01-03    1.165589
2013-01-04    1.865261
2013-01-05    2.052499
2013-01-06    2.506229
Freq: D, dtype: float64</code></pre>
<p>정렬이 필요하며, 차원이 다른 객체로 연산해보겠다.<br>pandas는 지정된 차원을 따라 자동으로 브로드 캐스팅된다.<br>broadcast란 numpy에서 유래한 용어로, n차원이나 스칼라 값으로 연산을 수행할 때 도출되는 결과의 규칙을 설명하는 것을 의미합니다.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">s = pd.Series([<span class="number">1</span>,<span class="number">3</span>,<span class="number">5</span>,np.nan,<span class="number">6</span>,<span class="number">8</span>], index=dates).shift(<span class="number">2</span>)</span><br><span class="line">s</span><br></pre></td></tr></table></figure>




<pre><code>2013-01-01    NaN
2013-01-02    NaN
2013-01-03    1.0
2013-01-04    3.0
2013-01-05    5.0
2013-01-06    NaN
Freq: D, dtype: float64</code></pre>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df.sub(s, axis=<span class="string">&#x27;index&#x27;</span>)</span><br></pre></td></tr></table></figure>




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

<pre><code>.dataframe tbody tr th &#123;
    vertical-align: top;
&#125;

.dataframe thead th &#123;
    text-align: right;
&#125;</code></pre>
<p></style></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>A</th>
      <th>B</th>
      <th>C</th>
      <th>D</th>
      <th>F</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2013-01-01</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>2013-01-02</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>2013-01-03</th>
      <td>-1.575200</td>
      <td>-1.442130</td>
      <td>-1.154726</td>
      <td>4.0</td>
      <td>1.0</td>
    </tr>
    <tr>
      <th>2013-01-04</th>
      <td>-2.490150</td>
      <td>-2.198955</td>
      <td>-2.984590</td>
      <td>2.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>2013-01-05</th>
      <td>-3.596231</td>
      <td>-3.808327</td>
      <td>-6.332947</td>
      <td>0.0</td>
      <td>-1.0</td>
    </tr>
    <tr>
      <th>2013-01-06</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
  </tbody>
</table>
</div>



<h3 id="5-2-적용-Apply"><a href="#5-2-적용-Apply" class="headerlink" title="5-2) 적용 (Apply)"></a>5-2) 적용 (Apply)</h3><p>데이터에 함수를 적용한다.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df.apply(np.cumsum)</span><br></pre></td></tr></table></figure>




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

<pre><code>.dataframe tbody tr th &#123;
    vertical-align: top;
&#125;

.dataframe thead th &#123;
    text-align: right;
&#125;</code></pre>
<p></style></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>A</th>
      <th>B</th>
      <th>C</th>
      <th>D</th>
      <th>F</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2013-01-01</th>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>-0.545421</td>
      <td>5</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>2013-01-02</th>
      <td>0.120775</td>
      <td>-0.572338</td>
      <td>-2.566149</td>
      <td>10</td>
      <td>1.0</td>
    </tr>
    <tr>
      <th>2013-01-03</th>
      <td>-0.454425</td>
      <td>-1.014468</td>
      <td>-2.720875</td>
      <td>15</td>
      <td>3.0</td>
    </tr>
    <tr>
      <th>2013-01-04</th>
      <td>0.055426</td>
      <td>-0.213423</td>
      <td>-2.705465</td>
      <td>20</td>
      <td>6.0</td>
    </tr>
    <tr>
      <th>2013-01-05</th>
      <td>1.459194</td>
      <td>0.978250</td>
      <td>-4.038412</td>
      <td>25</td>
      <td>10.0</td>
    </tr>
    <tr>
      <th>2013-01-06</th>
      <td>2.284600</td>
      <td>2.262070</td>
      <td>-3.616494</td>
      <td>30</td>
      <td>15.0</td>
    </tr>
  </tbody>
</table>
</div>




<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df.apply(<span class="keyword">lambda</span> x: x.<span class="built_in">max</span>() - x.<span class="built_in">min</span>())</span><br></pre></td></tr></table></figure>




<pre><code>A    1.978968
B    1.856158
C    2.442645
D    0.000000
F    4.000000
dtype: float64</code></pre>
<h3 id="5-3-히스토그래밍-Histogramming"><a href="#5-3-히스토그래밍-Histogramming" class="headerlink" title="5-3) 히스토그래밍 (Histogramming)"></a>5-3) 히스토그래밍 (Histogramming)</h3><p><a target="_blank" rel="noopener" href="https://pandas.pydata.org/pandas-docs/stable/user_guide/basics.html#value-counts-histogramming-mode">히스토그래밍과 이산화 (Value counts (histogramming) / mode)</a></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">s = pd.Series(np.random.randint(<span class="number">0</span>, <span class="number">7</span>, size=<span class="number">10</span>))</span><br><span class="line">s</span><br></pre></td></tr></table></figure>




<pre><code>0    3
1    1
2    1
3    1
4    2
5    1
6    2
7    6
8    3
9    0
dtype: int64</code></pre>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">s.value_counts()</span><br></pre></td></tr></table></figure>




<pre><code>1    4
3    2
2    2
6    1
0    1
dtype: int64</code></pre>
<h3 id="5-4-문자열-메소드-String-Methods"><a href="#5-4-문자열-메소드-String-Methods" class="headerlink" title="5-4) 문자열 메소드 (String Methods)"></a>5-4) 문자열 메소드 (String Methods)</h3><p><a target="_blank" rel="noopener" href="https://pandas.pydata.org/pandas-docs/stable/user_guide/text.html#string-methods">벡터화된 문자열 메소드 (String methods)</a>  </p>
<p>Series는 다음의 코드와 같이 문자열 처리 메소드 모음 (set)을 가지고 있다.<br>이 모음은 배열의 각 요소를 쉽게 조작할 수 있도록 만들어주는 문자열의 속성에 포함되어 있다.  </p>
<p>문자열의 패턴 일치 확인은 기본적으로 정규 표현식을 사용하며, 몇몇 경우에는 항상 정규 표현식을 사용함에 유의한다.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">s = pd.Series([<span class="string">&#x27;A&#x27;</span>, <span class="string">&#x27;B&#x27;</span>, <span class="string">&#x27;C&#x27;</span>, <span class="string">&#x27;Aaba&#x27;</span>, <span class="string">&#x27;Baca&#x27;</span>, np.nan, <span class="string">&#x27;CABA&#x27;</span>, <span class="string">&#x27;dog&#x27;</span>, <span class="string">&#x27;cat&#x27;</span>])</span><br><span class="line">s.<span class="built_in">str</span>.lower()</span><br></pre></td></tr></table></figure>




<pre><code>0       a
1       b
2       c
3    aaba
4    baca
5     NaN
6    caba
7     dog
8     cat
dtype: object</code></pre>
<h2 id="6-병합-Merge"><a href="#6-병합-Merge" class="headerlink" title="6) 병합 (Merge)"></a>6) 병합 (Merge)</h2><h3 id="6-1-연결-Concat"><a href="#6-1-연결-Concat" class="headerlink" title="6-1) 연결 (Concat)"></a>6-1) 연결 (Concat)</h3><p><a target="_blank" rel="noopener" href="https://pandas.pydata.org/pandas-docs/stable/user_guide/merging.html#database-style-dataframe-or-named-series-joining-merging">데이터베이스 스타일 결합 (Database-style DataFrame or named Series joining/merging)</a><br>결합 (join) / 병합 (merge) 형태의 연산에 대한 인덱스, 관계 대수 기능을 위한 다양한 형태의 논리를 포함한 Series, 데이터프레임, Panel 객체를 손쉽게 결합할 수 있도록 하는 다양한 기능을 pandas 에서 제공한다.<br><a target="_blank" rel="noopener" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.concat.html">concat()</a>으로 pandas 객체를 연결한다.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">df = pd.DataFrame(np.random.randn(<span class="number">10</span>, <span class="number">4</span>))</span><br><span class="line">df</span><br></pre></td></tr></table></figure>




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

<pre><code>.dataframe tbody tr th &#123;
    vertical-align: top;
&#125;

.dataframe thead th &#123;
    text-align: right;
&#125;</code></pre>
<p></style></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>0</th>
      <th>1</th>
      <th>2</th>
      <th>3</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1.279807</td>
      <td>-1.153900</td>
      <td>-0.582429</td>
      <td>2.259070</td>
    </tr>
    <tr>
      <th>1</th>
      <td>0.532136</td>
      <td>-0.575209</td>
      <td>-0.042748</td>
      <td>0.484629</td>
    </tr>
    <tr>
      <th>2</th>
      <td>0.531710</td>
      <td>-0.147753</td>
      <td>0.678086</td>
      <td>0.120756</td>
    </tr>
    <tr>
      <th>3</th>
      <td>-0.533762</td>
      <td>-0.226234</td>
      <td>-0.250227</td>
      <td>1.775457</td>
    </tr>
    <tr>
      <th>4</th>
      <td>2.162538</td>
      <td>-0.116354</td>
      <td>-0.521884</td>
      <td>0.673141</td>
    </tr>
    <tr>
      <th>5</th>
      <td>-0.057809</td>
      <td>-0.355782</td>
      <td>1.148990</td>
      <td>0.041617</td>
    </tr>
    <tr>
      <th>6</th>
      <td>0.765778</td>
      <td>-0.145401</td>
      <td>-0.604436</td>
      <td>-1.779851</td>
    </tr>
    <tr>
      <th>7</th>
      <td>0.512580</td>
      <td>0.055678</td>
      <td>-0.070639</td>
      <td>0.009846</td>
    </tr>
    <tr>
      <th>8</th>
      <td>-0.360689</td>
      <td>1.153401</td>
      <td>-0.377757</td>
      <td>0.762205</td>
    </tr>
    <tr>
      <th>9</th>
      <td>1.038979</td>
      <td>-0.550957</td>
      <td>-0.740130</td>
      <td>-0.839612</td>
    </tr>
  </tbody>
</table>
</div>




<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">pieces = [df[:<span class="number">3</span>], df[<span class="number">3</span>:<span class="number">7</span>], df[<span class="number">7</span>:]]</span><br><span class="line">pd.concat(pieces)</span><br></pre></td></tr></table></figure>




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

<pre><code>.dataframe tbody tr th &#123;
    vertical-align: top;
&#125;

.dataframe thead th &#123;
    text-align: right;
&#125;</code></pre>
<p></style></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>0</th>
      <th>1</th>
      <th>2</th>
      <th>3</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1.279807</td>
      <td>-1.153900</td>
      <td>-0.582429</td>
      <td>2.259070</td>
    </tr>
    <tr>
      <th>1</th>
      <td>0.532136</td>
      <td>-0.575209</td>
      <td>-0.042748</td>
      <td>0.484629</td>
    </tr>
    <tr>
      <th>2</th>
      <td>0.531710</td>
      <td>-0.147753</td>
      <td>0.678086</td>
      <td>0.120756</td>
    </tr>
    <tr>
      <th>3</th>
      <td>-0.533762</td>
      <td>-0.226234</td>
      <td>-0.250227</td>
      <td>1.775457</td>
    </tr>
    <tr>
      <th>4</th>
      <td>2.162538</td>
      <td>-0.116354</td>
      <td>-0.521884</td>
      <td>0.673141</td>
    </tr>
    <tr>
      <th>5</th>
      <td>-0.057809</td>
      <td>-0.355782</td>
      <td>1.148990</td>
      <td>0.041617</td>
    </tr>
    <tr>
      <th>6</th>
      <td>0.765778</td>
      <td>-0.145401</td>
      <td>-0.604436</td>
      <td>-1.779851</td>
    </tr>
    <tr>
      <th>7</th>
      <td>0.512580</td>
      <td>0.055678</td>
      <td>-0.070639</td>
      <td>0.009846</td>
    </tr>
    <tr>
      <th>8</th>
      <td>-0.360689</td>
      <td>1.153401</td>
      <td>-0.377757</td>
      <td>0.762205</td>
    </tr>
    <tr>
      <th>9</th>
      <td>1.038979</td>
      <td>-0.550957</td>
      <td>-0.740130</td>
      <td>-0.839612</td>
    </tr>
  </tbody>
</table>
</div>



<h3 id="6-2-결합-Join"><a href="#6-2-결합-Join" class="headerlink" title="6-2) 결합 (Join)"></a>6-2) 결합 (Join)</h3><p>SQL 방식으로 병합한다.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">left = pd.DataFrame(&#123;<span class="string">&#x27;key&#x27;</span>: [<span class="string">&#x27;foo&#x27;</span>, <span class="string">&#x27;foo&#x27;</span>], <span class="string">&#x27;lval&#x27;</span>: [<span class="number">1</span>, <span class="number">2</span>]&#125;)</span><br><span class="line">left</span><br></pre></td></tr></table></figure>




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

<pre><code>.dataframe tbody tr th &#123;
    vertical-align: top;
&#125;

.dataframe thead th &#123;
    text-align: right;
&#125;</code></pre>
<p></style></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>key</th>
      <th>lval</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>foo</td>
      <td>1</td>
    </tr>
    <tr>
      <th>1</th>
      <td>foo</td>
      <td>2</td>
    </tr>
  </tbody>
</table>
</div>




<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">right = pd.DataFrame(&#123;<span class="string">&#x27;key&#x27;</span>: [<span class="string">&#x27;foo&#x27;</span>, <span class="string">&#x27;foo&#x27;</span>], <span class="string">&#x27;rval&#x27;</span>: [<span class="number">4</span>, <span class="number">5</span>]&#125;)</span><br><span class="line">right</span><br></pre></td></tr></table></figure>




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

<pre><code>.dataframe tbody tr th &#123;
    vertical-align: top;
&#125;

.dataframe thead th &#123;
    text-align: right;
&#125;</code></pre>
<p></style></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>key</th>
      <th>rval</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>foo</td>
      <td>4</td>
    </tr>
    <tr>
      <th>1</th>
      <td>foo</td>
      <td>5</td>
    </tr>
  </tbody>
</table>
</div>




<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pd.merge(left, right, on= <span class="string">&#x27;key&#x27;</span>)</span><br></pre></td></tr></table></figure>




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

<pre><code>.dataframe tbody tr th &#123;
    vertical-align: top;
&#125;

.dataframe thead th &#123;
    text-align: right;
&#125;</code></pre>
<p></style></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>key</th>
      <th>lval</th>
      <th>rval</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>foo</td>
      <td>1</td>
      <td>4</td>
    </tr>
    <tr>
      <th>1</th>
      <td>foo</td>
      <td>1</td>
      <td>5</td>
    </tr>
    <tr>
      <th>2</th>
      <td>foo</td>
      <td>2</td>
      <td>4</td>
    </tr>
    <tr>
      <th>3</th>
      <td>foo</td>
      <td>2</td>
      <td>5</td>
    </tr>
  </tbody>
</table>
</div>



<p>다른 예시이다.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">left = pd.DataFrame(&#123;<span class="string">&#x27;key&#x27;</span> : [<span class="string">&#x27;foo&#x27;</span>, <span class="string">&#x27;bar&#x27;</span>], <span class="string">&#x27;lval&#x27;</span> : [<span class="number">1</span>, <span class="number">2</span>]&#125;)</span><br><span class="line">left</span><br></pre></td></tr></table></figure>




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

<pre><code>.dataframe tbody tr th &#123;
    vertical-align: top;
&#125;

.dataframe thead th &#123;
    text-align: right;
&#125;</code></pre>
<p></style></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>key</th>
      <th>lval</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>foo</td>
      <td>1</td>
    </tr>
    <tr>
      <th>1</th>
      <td>bar</td>
      <td>2</td>
    </tr>
  </tbody>
</table>
</div>




<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">right = pd.DataFrame(&#123;<span class="string">&#x27;key&#x27;</span>: [<span class="string">&#x27;foo&#x27;</span>, <span class="string">&#x27;bar&#x27;</span>], <span class="string">&#x27;rval&#x27;</span>: [<span class="number">4</span>, <span class="number">5</span>]&#125;)</span><br><span class="line">right</span><br></pre></td></tr></table></figure>




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

<pre><code>.dataframe tbody tr th &#123;
    vertical-align: top;
&#125;

.dataframe thead th &#123;
    text-align: right;
&#125;</code></pre>
<p></style></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>key</th>
      <th>rval</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>foo</td>
      <td>4</td>
    </tr>
    <tr>
      <th>1</th>
      <td>bar</td>
      <td>5</td>
    </tr>
  </tbody>
</table>
</div>




<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pd.merge(left, right, on= <span class="string">&#x27;key&#x27;</span>)</span><br></pre></td></tr></table></figure>




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

<pre><code>.dataframe tbody tr th &#123;
    vertical-align: top;
&#125;

.dataframe thead th &#123;
    text-align: right;
&#125;</code></pre>
<p></style></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>key</th>
      <th>lval</th>
      <th>rval</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>foo</td>
      <td>1</td>
      <td>4</td>
    </tr>
    <tr>
      <th>1</th>
      <td>bar</td>
      <td>2</td>
      <td>5</td>
    </tr>
  </tbody>
</table>
</div>



<h3 id="6-3-추가-Append"><a href="#6-3-추가-Append" class="headerlink" title="6-3) 추가 (Append)"></a>6-3) 추가 (Append)</h3><p><a target="_blank" rel="noopener" href="https://pandas.pydata.org/pandas-docs/stable/user_guide/merging.html#appending-rows-to-a-dataframe">Appending rows to a DataFrame</a><br>데이터프레임에 행을 추가한다.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">df = pd.DataFrame(np.random.randn(<span class="number">8</span>, <span class="number">4</span>), columns=[<span class="string">&#x27;A&#x27;</span>, <span class="string">&#x27;B&#x27;</span>, <span class="string">&#x27;C&#x27;</span>, <span class="string">&#x27;D&#x27;</span>])</span><br><span class="line">df</span><br></pre></td></tr></table></figure>




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

<pre><code>.dataframe tbody tr th &#123;
    vertical-align: top;
&#125;

.dataframe thead th &#123;
    text-align: right;
&#125;</code></pre>
<p></style></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>A</th>
      <th>B</th>
      <th>C</th>
      <th>D</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>0.061291</td>
      <td>1.294748</td>
      <td>1.034918</td>
      <td>1.133735</td>
    </tr>
    <tr>
      <th>1</th>
      <td>0.350266</td>
      <td>0.612054</td>
      <td>-0.184834</td>
      <td>-0.349107</td>
    </tr>
    <tr>
      <th>2</th>
      <td>0.161551</td>
      <td>1.173609</td>
      <td>1.759626</td>
      <td>-0.416150</td>
    </tr>
    <tr>
      <th>3</th>
      <td>0.208048</td>
      <td>2.164734</td>
      <td>-0.798397</td>
      <td>1.449171</td>
    </tr>
    <tr>
      <th>4</th>
      <td>-0.777391</td>
      <td>-1.097352</td>
      <td>1.458079</td>
      <td>2.725382</td>
    </tr>
    <tr>
      <th>5</th>
      <td>-1.336344</td>
      <td>1.087275</td>
      <td>0.883582</td>
      <td>-0.455446</td>
    </tr>
    <tr>
      <th>6</th>
      <td>0.937276</td>
      <td>-1.917829</td>
      <td>0.637797</td>
      <td>-1.077501</td>
    </tr>
    <tr>
      <th>7</th>
      <td>0.721358</td>
      <td>2.959415</td>
      <td>0.398118</td>
      <td>-0.245919</td>
    </tr>
  </tbody>
</table>
</div>




<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">s = df.iloc[<span class="number">3</span>]</span><br><span class="line">df.append(s, ignore_index=<span class="literal">True</span>)</span><br></pre></td></tr></table></figure>




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

<pre><code>.dataframe tbody tr th &#123;
    vertical-align: top;
&#125;

.dataframe thead th &#123;
    text-align: right;
&#125;</code></pre>
<p></style></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>A</th>
      <th>B</th>
      <th>C</th>
      <th>D</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>0.061291</td>
      <td>1.294748</td>
      <td>1.034918</td>
      <td>1.133735</td>
    </tr>
    <tr>
      <th>1</th>
      <td>0.350266</td>
      <td>0.612054</td>
      <td>-0.184834</td>
      <td>-0.349107</td>
    </tr>
    <tr>
      <th>2</th>
      <td>0.161551</td>
      <td>1.173609</td>
      <td>1.759626</td>
      <td>-0.416150</td>
    </tr>
    <tr>
      <th>3</th>
      <td>0.208048</td>
      <td>2.164734</td>
      <td>-0.798397</td>
      <td>1.449171</td>
    </tr>
    <tr>
      <th>4</th>
      <td>-0.777391</td>
      <td>-1.097352</td>
      <td>1.458079</td>
      <td>2.725382</td>
    </tr>
    <tr>
      <th>5</th>
      <td>-1.336344</td>
      <td>1.087275</td>
      <td>0.883582</td>
      <td>-0.455446</td>
    </tr>
    <tr>
      <th>6</th>
      <td>0.937276</td>
      <td>-1.917829</td>
      <td>0.637797</td>
      <td>-1.077501</td>
    </tr>
    <tr>
      <th>7</th>
      <td>0.721358</td>
      <td>2.959415</td>
      <td>0.398118</td>
      <td>-0.245919</td>
    </tr>
    <tr>
      <th>8</th>
      <td>0.208048</td>
      <td>2.164734</td>
      <td>-0.798397</td>
      <td>1.449171</td>
    </tr>
  </tbody>
</table>
</div>



<h2 id="7-그룹화-Grouping"><a href="#7-그룹화-Grouping" class="headerlink" title="7) 그룹화 (Grouping)"></a>7) 그룹화 (Grouping)</h2><p><a target="_blank" rel="noopener" href="https://pandas.pydata.org/pandas-docs/stable/user_guide/groupby.html">그룹화(Group by: split-apply-combine)</a>는 다음 단계 중 하나 이상을 포함하는 과정을 가리킨다.</p>
<ul>
<li>몇몇 기준에 따라 여러 그룹으로 데이터를 분할 (splitting)  </li>
<li>각 그룹에 독립적으로 함수를 적용 (applying)  </li>
<li>결과물들을 하나의 데이터 구조로 결합 (combining)</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">df = pd.DataFrame(</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="string">&#x27;A&#x27;</span> : [<span class="string">&#x27;foo&#x27;</span>, <span class="string">&#x27;bar&#x27;</span>, <span class="string">&#x27;foo&#x27;</span>, <span class="string">&#x27;bar&#x27;</span>, <span class="string">&#x27;foo&#x27;</span>, <span class="string">&#x27;bar&#x27;</span>, <span class="string">&#x27;foo&#x27;</span>, <span class="string">&#x27;foo&#x27;</span>],</span><br><span class="line">        <span class="string">&#x27;B&#x27;</span> : [<span class="string">&#x27;one&#x27;</span>, <span class="string">&#x27;one&#x27;</span>, <span class="string">&#x27;two&#x27;</span>, <span class="string">&#x27;three&#x27;</span>, <span class="string">&#x27;two&#x27;</span>, <span class="string">&#x27;two&#x27;</span>, <span class="string">&#x27;one&#x27;</span>, <span class="string">&#x27;three&#x27;</span>],</span><br><span class="line">        <span class="string">&#x27;C&#x27;</span> : np.random.randn(<span class="number">8</span>),</span><br><span class="line">        <span class="string">&#x27;D&#x27;</span> : np.random.randn(<span class="number">8</span>)</span><br><span class="line">    &#125;)</span><br><span class="line">df</span><br></pre></td></tr></table></figure>




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

<pre><code>.dataframe tbody tr th &#123;
    vertical-align: top;
&#125;

.dataframe thead th &#123;
    text-align: right;
&#125;</code></pre>
<p></style></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>A</th>
      <th>B</th>
      <th>C</th>
      <th>D</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>foo</td>
      <td>one</td>
      <td>-0.531629</td>
      <td>-0.841219</td>
    </tr>
    <tr>
      <th>1</th>
      <td>bar</td>
      <td>one</td>
      <td>0.847370</td>
      <td>-0.702148</td>
    </tr>
    <tr>
      <th>2</th>
      <td>foo</td>
      <td>two</td>
      <td>-3.025496</td>
      <td>-0.458174</td>
    </tr>
    <tr>
      <th>3</th>
      <td>bar</td>
      <td>three</td>
      <td>-0.317416</td>
      <td>-1.938912</td>
    </tr>
    <tr>
      <th>4</th>
      <td>foo</td>
      <td>two</td>
      <td>-0.128090</td>
      <td>-0.880979</td>
    </tr>
    <tr>
      <th>5</th>
      <td>bar</td>
      <td>two</td>
      <td>-1.918498</td>
      <td>0.091863</td>
    </tr>
    <tr>
      <th>6</th>
      <td>foo</td>
      <td>one</td>
      <td>-1.142854</td>
      <td>0.159617</td>
    </tr>
    <tr>
      <th>7</th>
      <td>foo</td>
      <td>three</td>
      <td>-1.046234</td>
      <td>0.334159</td>
    </tr>
  </tbody>
</table>
</div>



<p>생성된 데이터프레임을 그룹화한 후 각 그룹에 sum() 함수를 적용한다.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df.groupby(<span class="string">&#x27;A&#x27;</span>).<span class="built_in">sum</span>()</span><br></pre></td></tr></table></figure>




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

<pre><code>.dataframe tbody tr th &#123;
    vertical-align: top;
&#125;

.dataframe thead th &#123;
    text-align: right;
&#125;</code></pre>
<p></style></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>C</th>
      <th>D</th>
    </tr>
    <tr>
      <th>A</th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>bar</th>
      <td>-1.388545</td>
      <td>-2.549197</td>
    </tr>
    <tr>
      <th>foo</th>
      <td>-5.874302</td>
      <td>-1.686597</td>
    </tr>
  </tbody>
</table>
</div>



<p>여러 열을 기준으로 그룹화하면 계층적 인덱스가 형성된다.<br>여기에도 sum 함수를 적용할 수 있다.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df.groupby([<span class="string">&#x27;A&#x27;</span>,<span class="string">&#x27;B&#x27;</span>]).<span class="built_in">sum</span>()</span><br></pre></td></tr></table></figure>




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

<pre><code>.dataframe tbody tr th &#123;
    vertical-align: top;
&#125;

.dataframe thead th &#123;
    text-align: right;
&#125;</code></pre>
<p></style></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th></th>
      <th>C</th>
      <th>D</th>
    </tr>
    <tr>
      <th>A</th>
      <th>B</th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th rowspan="3" valign="top">bar</th>
      <th>one</th>
      <td>0.847370</td>
      <td>-0.702148</td>
    </tr>
    <tr>
      <th>three</th>
      <td>-0.317416</td>
      <td>-1.938912</td>
    </tr>
    <tr>
      <th>two</th>
      <td>-1.918498</td>
      <td>0.091863</td>
    </tr>
    <tr>
      <th rowspan="3" valign="top">foo</th>
      <th>one</th>
      <td>-1.674483</td>
      <td>-0.681602</td>
    </tr>
    <tr>
      <th>three</th>
      <td>-1.046234</td>
      <td>0.334159</td>
    </tr>
    <tr>
      <th>two</th>
      <td>-3.153585</td>
      <td>-1.339153</td>
    </tr>
  </tbody>
</table>
</div>



<h2 id="8-변형-Reshaping"><a href="#8-변형-Reshaping" class="headerlink" title="8) 변형 (Reshaping)"></a>8) 변형 (Reshaping)</h2><p><a target="_blank" rel="noopener" href="https://pandas.pydata.org/pandas-docs/stable/user_guide/advanced.html#advanced-indexing-with-hierarchical-index">계층적 인덱싱 (Advanced indexing with hierarchical index)</a><br><a target="_blank" rel="noopener" href="https://pandas.pydata.org/pandas-docs/stable/user_guide/reshaping.html#reshaping-by-stacking-and-unstacking">변형 (Reshaping by stacking and unstacking)</a></p>
<h3 id="8-1-스택-Stack"><a href="#8-1-스택-Stack" class="headerlink" title="8-1) 스택 (Stack)"></a>8-1) 스택 (Stack)</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">tuples = <span class="built_in">list</span>(<span class="built_in">zip</span>(*[[<span class="string">&#x27;bar&#x27;</span>, <span class="string">&#x27;bar&#x27;</span>, <span class="string">&#x27;baz&#x27;</span>, <span class="string">&#x27;baz&#x27;</span>,</span><br><span class="line">                     <span class="string">&#x27;foo&#x27;</span>, <span class="string">&#x27;foo&#x27;</span>, <span class="string">&#x27;qux&#x27;</span>, <span class="string">&#x27;qux&#x27;</span>],</span><br><span class="line">                    [<span class="string">&#x27;one&#x27;</span>, <span class="string">&#x27;two&#x27;</span>, <span class="string">&#x27;one&#x27;</span>, <span class="string">&#x27;two&#x27;</span>,</span><br><span class="line">                     <span class="string">&#x27;one&#x27;</span>, <span class="string">&#x27;two&#x27;</span>, <span class="string">&#x27;one&#x27;</span>, <span class="string">&#x27;two&#x27;</span>]]))</span><br><span class="line">index = pd.MultiIndex.from_tuples(tuples, names=[<span class="string">&#x27;first&#x27;</span>, <span class="string">&#x27;second&#x27;</span>])</span><br><span class="line">df = pd.DataFrame(np.random.randn(<span class="number">8</span>, <span class="number">2</span>), index=index, columns=[<span class="string">&#x27;A&#x27;</span>, <span class="string">&#x27;B&#x27;</span>])</span><br><span class="line">df2  =  df[:<span class="number">4</span>]</span><br><span class="line">df2</span><br></pre></td></tr></table></figure>




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

<pre><code>.dataframe tbody tr th &#123;
    vertical-align: top;
&#125;

.dataframe thead th &#123;
    text-align: right;
&#125;</code></pre>
<p></style></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th></th>
      <th>A</th>
      <th>B</th>
    </tr>
    <tr>
      <th>first</th>
      <th>second</th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th rowspan="2" valign="top">bar</th>
      <th>one</th>
      <td>0.779699</td>
      <td>-0.960938</td>
    </tr>
    <tr>
      <th>two</th>
      <td>1.442232</td>
      <td>-0.931635</td>
    </tr>
    <tr>
      <th rowspan="2" valign="top">baz</th>
      <th>one</th>
      <td>-0.185774</td>
      <td>-0.529952</td>
    </tr>
    <tr>
      <th>two</th>
      <td>-0.794478</td>
      <td>0.736231</td>
    </tr>
  </tbody>
</table>
</div>



<p><a target="_blank" rel="noopener" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.stack.html">stack()</a> 메소드는 데이터프레임 열들의 계층을 “압축”한다.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">stacked = df2.stack()</span><br><span class="line">stacked</span><br></pre></td></tr></table></figure>




<pre><code>first  second   
bar    one     A    0.779699
               B   -0.960938
       two     A    1.442232
               B   -0.931635
baz    one     A   -0.185774
               B   -0.529952
       two     A   -0.794478
               B    0.736231
dtype: float64</code></pre>
<p>“Stack된” 데이터프레임 또는 (MultiIndex를 인덱스로 사용하는) Series인 경우, stack()의 역 연산은 <a target="_blank" rel="noopener" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.unstack.html">unstack()</a>이며, 기본적으로 마지막 계층을 unstack합니다.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">stacked.unstack()</span><br></pre></td></tr></table></figure>




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

<pre><code>.dataframe tbody tr th &#123;
    vertical-align: top;
&#125;

.dataframe thead th &#123;
    text-align: right;
&#125;</code></pre>
<p></style></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th></th>
      <th>A</th>
      <th>B</th>
    </tr>
    <tr>
      <th>first</th>
      <th>second</th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th rowspan="2" valign="top">bar</th>
      <th>one</th>
      <td>0.779699</td>
      <td>-0.960938</td>
    </tr>
    <tr>
      <th>two</th>
      <td>1.442232</td>
      <td>-0.931635</td>
    </tr>
    <tr>
      <th rowspan="2" valign="top">baz</th>
      <th>one</th>
      <td>-0.185774</td>
      <td>-0.529952</td>
    </tr>
    <tr>
      <th>two</th>
      <td>-0.794478</td>
      <td>0.736231</td>
    </tr>
  </tbody>
</table>
</div>




<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">stacked.unstack(<span class="number">1</span>)</span><br></pre></td></tr></table></figure>




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

<pre><code>.dataframe tbody tr th &#123;
    vertical-align: top;
&#125;

.dataframe thead th &#123;
    text-align: right;
&#125;</code></pre>
<p></style></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>second</th>
      <th>one</th>
      <th>two</th>
    </tr>
    <tr>
      <th>first</th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th rowspan="2" valign="top">bar</th>
      <th>A</th>
      <td>0.779699</td>
      <td>1.442232</td>
    </tr>
    <tr>
      <th>B</th>
      <td>-0.960938</td>
      <td>-0.931635</td>
    </tr>
    <tr>
      <th rowspan="2" valign="top">baz</th>
      <th>A</th>
      <td>-0.185774</td>
      <td>-0.794478</td>
    </tr>
    <tr>
      <th>B</th>
      <td>-0.529952</td>
      <td>0.736231</td>
    </tr>
  </tbody>
</table>
</div>




<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">stacked.unstack(<span class="number">0</span>)</span><br></pre></td></tr></table></figure>




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

<pre><code>.dataframe tbody tr th &#123;
    vertical-align: top;
&#125;

.dataframe thead th &#123;
    text-align: right;
&#125;</code></pre>
<p></style></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>first</th>
      <th>bar</th>
      <th>baz</th>
    </tr>
    <tr>
      <th>second</th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th rowspan="2" valign="top">one</th>
      <th>A</th>
      <td>0.779699</td>
      <td>-0.185774</td>
    </tr>
    <tr>
      <th>B</th>
      <td>-0.960938</td>
      <td>-0.529952</td>
    </tr>
    <tr>
      <th rowspan="2" valign="top">two</th>
      <th>A</th>
      <td>1.442232</td>
      <td>-0.794478</td>
    </tr>
    <tr>
      <th>B</th>
      <td>-0.931635</td>
      <td>0.736231</td>
    </tr>
  </tbody>
</table>
</div>



<h3 id="8-2-피벗-테이블-Pivot-Tables"><a href="#8-2-피벗-테이블-Pivot-Tables" class="headerlink" title="8-2) 피벗 테이블 (Pivot Tables)"></a>8-2) 피벗 테이블 (Pivot Tables)</h3><p><a target="_blank" rel="noopener" href="https://pandas.pydata.org/pandas-docs/stable/user_guide/reshaping.html#reshaping-by-pivoting-dataframe-objects">Reshaping by pivoting DataFrame objects</a></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">df = pd.DataFrame(&#123;<span class="string">&#x27;A&#x27;</span> : [<span class="string">&#x27;one&#x27;</span>, <span class="string">&#x27;one&#x27;</span>, <span class="string">&#x27;two&#x27;</span>, <span class="string">&#x27;three&#x27;</span>] * <span class="number">3</span>,</span><br><span class="line">                   <span class="string">&#x27;B&#x27;</span> : [<span class="string">&#x27;A&#x27;</span>, <span class="string">&#x27;B&#x27;</span>, <span class="string">&#x27;C&#x27;</span>] * <span class="number">4</span>,</span><br><span class="line">                   <span class="string">&#x27;C&#x27;</span> : [<span class="string">&#x27;foo&#x27;</span>, <span class="string">&#x27;foo&#x27;</span>, <span class="string">&#x27;foo&#x27;</span>, <span class="string">&#x27;bar&#x27;</span>, <span class="string">&#x27;bar&#x27;</span>, <span class="string">&#x27;bar&#x27;</span>] * <span class="number">2</span>,</span><br><span class="line">                   <span class="string">&#x27;D&#x27;</span> : np.random.randn(<span class="number">12</span>),</span><br><span class="line">                   <span class="string">&#x27;E&#x27;</span> : np.random.randn(<span class="number">12</span>)&#125;)</span><br><span class="line">df</span><br></pre></td></tr></table></figure>




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

<pre><code>.dataframe tbody tr th &#123;
    vertical-align: top;
&#125;

.dataframe thead th &#123;
    text-align: right;
&#125;</code></pre>
<p></style></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>A</th>
      <th>B</th>
      <th>C</th>
      <th>D</th>
      <th>E</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>one</td>
      <td>A</td>
      <td>foo</td>
      <td>-0.388590</td>
      <td>-0.092924</td>
    </tr>
    <tr>
      <th>1</th>
      <td>one</td>
      <td>B</td>
      <td>foo</td>
      <td>0.096758</td>
      <td>-1.404417</td>
    </tr>
    <tr>
      <th>2</th>
      <td>two</td>
      <td>C</td>
      <td>foo</td>
      <td>0.235439</td>
      <td>-1.441384</td>
    </tr>
    <tr>
      <th>3</th>
      <td>three</td>
      <td>A</td>
      <td>bar</td>
      <td>1.644634</td>
      <td>-1.404461</td>
    </tr>
    <tr>
      <th>4</th>
      <td>one</td>
      <td>B</td>
      <td>bar</td>
      <td>-0.137766</td>
      <td>-0.732040</td>
    </tr>
    <tr>
      <th>5</th>
      <td>one</td>
      <td>C</td>
      <td>bar</td>
      <td>-0.385584</td>
      <td>0.876041</td>
    </tr>
    <tr>
      <th>6</th>
      <td>two</td>
      <td>A</td>
      <td>foo</td>
      <td>-1.144518</td>
      <td>1.714938</td>
    </tr>
    <tr>
      <th>7</th>
      <td>three</td>
      <td>B</td>
      <td>foo</td>
      <td>-0.287536</td>
      <td>0.984071</td>
    </tr>
    <tr>
      <th>8</th>
      <td>one</td>
      <td>C</td>
      <td>foo</td>
      <td>0.670096</td>
      <td>-0.093942</td>
    </tr>
    <tr>
      <th>9</th>
      <td>one</td>
      <td>A</td>
      <td>bar</td>
      <td>-0.540043</td>
      <td>-0.589907</td>
    </tr>
    <tr>
      <th>10</th>
      <td>two</td>
      <td>B</td>
      <td>bar</td>
      <td>1.116471</td>
      <td>1.360887</td>
    </tr>
    <tr>
      <th>11</th>
      <td>three</td>
      <td>C</td>
      <td>bar</td>
      <td>-0.751042</td>
      <td>0.641450</td>
    </tr>
  </tbody>
</table>
</div>




<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pd.pivot_table(df, values=<span class="string">&#x27;D&#x27;</span>, index=[<span class="string">&#x27;A&#x27;</span>, <span class="string">&#x27;B&#x27;</span>], columns=[<span class="string">&#x27;C&#x27;</span>])</span><br></pre></td></tr></table></figure>




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

<pre><code>.dataframe tbody tr th &#123;
    vertical-align: top;
&#125;

.dataframe thead th &#123;
    text-align: right;
&#125;</code></pre>
<p></style></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>C</th>
      <th>bar</th>
      <th>foo</th>
    </tr>
    <tr>
      <th>A</th>
      <th>B</th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th rowspan="3" valign="top">one</th>
      <th>A</th>
      <td>-0.540043</td>
      <td>-0.388590</td>
    </tr>
    <tr>
      <th>B</th>
      <td>-0.137766</td>
      <td>0.096758</td>
    </tr>
    <tr>
      <th>C</th>
      <td>-0.385584</td>
      <td>0.670096</td>
    </tr>
    <tr>
      <th rowspan="3" valign="top">three</th>
      <th>A</th>
      <td>1.644634</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>B</th>
      <td>NaN</td>
      <td>-0.287536</td>
    </tr>
    <tr>
      <th>C</th>
      <td>-0.751042</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th rowspan="3" valign="top">two</th>
      <th>A</th>
      <td>NaN</td>
      <td>-1.144518</td>
    </tr>
    <tr>
      <th>B</th>
      <td>1.116471</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>C</th>
      <td>NaN</td>
      <td>0.235439</td>
    </tr>
  </tbody>
</table>
</div>



<h2 id="9-시계열-Time-Series"><a href="#9-시계열-Time-Series" class="headerlink" title="9) 시계열 (Time Series)"></a>9) 시계열 (Time Series)</h2><p><a target="_blank" rel="noopener" href="https://pandas.pydata.org/pandas-docs/stable/user_guide/timeseries.html">시계열 (Time series / date functionality)</a><br>Pandas는 자주 일어나는 변환 (예시 : 5분마다 일어나는 데이터에 대한 2차 데이터 변환) 사이에 수행하는 리샘플링 연산을 위한 간단하고, 강력하며, 효율적인 함수를 제공한다. 이는 재무 (금융) 응용에서 매우 일반적이지만 이에 국한되지는 않는다.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">rng = pd.date_range(<span class="string">&#x27;1/1/2012&#x27;</span>, periods=<span class="number">100</span>, freq=<span class="string">&#x27;S&#x27;</span>)</span><br><span class="line">ts = pd.Series(np.random.randint(<span class="number">0</span>, <span class="number">500</span>, <span class="built_in">len</span>(rng)), index=rng)</span><br><span class="line">ts.resample(<span class="string">&#x27;5Min&#x27;</span>).<span class="built_in">sum</span>()</span><br></pre></td></tr></table></figure>




<pre><code>2012-01-01    27558
Freq: 5T, dtype: int64</code></pre>
<p>시간대를 표현한다.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">rng = pd.date_range(<span class="string">&#x27;3/6/2012 00:00&#x27;</span>, periods=<span class="number">5</span>, freq=<span class="string">&#x27;D&#x27;</span>)</span><br><span class="line">ts = pd.Series(np.random.randn(<span class="built_in">len</span>(rng)), rng)</span><br><span class="line">ts</span><br></pre></td></tr></table></figure>




<pre><code>2012-03-06    1.212536
2012-03-07    0.751280
2012-03-08    1.779794
2012-03-09   -0.981566
2012-03-10    0.161867
Freq: D, dtype: float64</code></pre>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ts_utc = ts.tz_localize(<span class="string">&#x27;UTC&#x27;</span>)</span><br><span class="line">ts_utc</span><br></pre></td></tr></table></figure>




<pre><code>2012-03-06 00:00:00+00:00    1.212536
2012-03-07 00:00:00+00:00    0.751280
2012-03-08 00:00:00+00:00    1.779794
2012-03-09 00:00:00+00:00   -0.981566
2012-03-10 00:00:00+00:00    0.161867
Freq: D, dtype: float64</code></pre>
<p>다른 시간대로 변환한다.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ts_utc.tz_convert(<span class="string">&#x27;US/Eastern&#x27;</span>)</span><br></pre></td></tr></table></figure>




<pre><code>2012-03-05 19:00:00-05:00    1.212536
2012-03-06 19:00:00-05:00    0.751280
2012-03-07 19:00:00-05:00    1.779794
2012-03-08 19:00:00-05:00   -0.981566
2012-03-09 19:00:00-05:00    0.161867
Freq: D, dtype: float64</code></pre>
<p>시간 표현 ↔ 기간 표현으로 변환한다.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">rng = pd.date_range(<span class="string">&#x27;1/1/2012&#x27;</span>, periods=<span class="number">5</span>, freq=<span class="string">&#x27;M&#x27;</span>)</span><br><span class="line">ts = pd.Series(np.random.randn(<span class="built_in">len</span>(rng)), index=rng)</span><br><span class="line">ts</span><br></pre></td></tr></table></figure>




<pre><code>2012-01-31   -1.147594
2012-02-29    2.187776
2012-03-31   -0.567851
2012-04-30    1.944352
2012-05-31   -0.638937
Freq: M, dtype: float64</code></pre>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ps = ts.to_period()</span><br><span class="line">ps</span><br></pre></td></tr></table></figure>




<pre><code>2012-01   -1.147594
2012-02    2.187776
2012-03   -0.567851
2012-04    1.944352
2012-05   -0.638937
Freq: M, dtype: float64</code></pre>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ps.to_timestamp()</span><br></pre></td></tr></table></figure>




<pre><code>2012-01-01   -1.147594
2012-02-01    2.187776
2012-03-01   -0.567851
2012-04-01    1.944352
2012-05-01   -0.638937
Freq: MS, dtype: float64</code></pre>
<p>기간 ↔ 시간 변환은 편리한 산술 기능들을 사용할 수 있도록 만들어준다. 다음 예제에서, 우리는 11월에 끝나는 연말 결산의 분기별 빈도를 분기말 익월의 월말일 오전 9시로 변환한다.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">prng = pd.period_range(<span class="string">&#x27;1990Q1&#x27;</span>, <span class="string">&#x27;2000Q4&#x27;</span>, freq=<span class="string">&#x27;Q-NOV&#x27;</span>)</span><br><span class="line">ts = pd.Series(np.random.randn(<span class="built_in">len</span>(prng)), prng)</span><br><span class="line">ts.index = (prng.asfreq(<span class="string">&#x27;M&#x27;</span>, <span class="string">&#x27;e&#x27;</span>) + <span class="number">1</span>).asfreq(<span class="string">&#x27;H&#x27;</span>, <span class="string">&#x27;s&#x27;</span>) + <span class="number">9</span></span><br><span class="line">ts.head()</span><br></pre></td></tr></table></figure>




<pre><code>1990-03-01 09:00    0.079946
1990-06-01 09:00   -0.277186
1990-09-01 09:00   -0.848088
1990-12-01 09:00   -0.181953
1991-03-01 09:00   -1.110753
Freq: H, dtype: float64</code></pre>
<h2 id="10-범주화-Categoricals"><a href="#10-범주화-Categoricals" class="headerlink" title="10) 범주화 (Categoricals)"></a>10) 범주화 (Categoricals)</h2><p><a target="_blank" rel="noopener" href="https://pandas.pydata.org/pandas-docs/stable/user_guide/categorical.html">범주형 소개 (Categorical data)</a><br><a target="_blank" rel="noopener" href="https://pandas.pydata.org/pandas-docs/stable/reference/index.html">API 문서 (API reference)</a><br>Pandas는 데이터프레임 내에 범주형 데이터를 포함할 수 있다.</p>
<p>가공하지 않은 성적을 범주형 데이터로 변환한다.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">df = pd.DataFrame(&#123;<span class="string">&quot;id&quot;</span>:[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>], <span class="string">&quot;raw_grade&quot;</span>:[<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;e&#x27;</span>]&#125;)</span><br><span class="line">df[<span class="string">&quot;grade&quot;</span>] = df[<span class="string">&quot;raw_grade&quot;</span>].astype(<span class="string">&quot;category&quot;</span>)</span><br><span class="line">df[<span class="string">&quot;grade&quot;</span>]</span><br></pre></td></tr></table></figure>




<pre><code>0    a
1    b
2    b
3    a
4    a
5    e
Name: grade, dtype: category
Categories (3, object): [&#39;a&#39;, &#39;b&#39;, &#39;e&#39;]</code></pre>
<p>범주에 더 의미 있는 이름을 붙여준다. (Series.cat.categories로 할당하는 것이 적합하다).</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df[<span class="string">&quot;grade&quot;</span>].cat.categories = [<span class="string">&quot;very good&quot;</span>, <span class="string">&quot;good&quot;</span>, <span class="string">&quot;very bad&quot;</span>]</span><br></pre></td></tr></table></figure>

<p>범주의 순서를 바꾸고 동시에 누락된 범주를 추가한다. (Series.cat에 속하는 메소드는 기본적으로 새로운 Series를 반환한다).</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">df[<span class="string">&quot;grade&quot;</span>] = df[<span class="string">&quot;grade&quot;</span>].cat.set_categories([<span class="string">&quot;very bad&quot;</span>, <span class="string">&quot;bad&quot;</span>, <span class="string">&quot;medium&quot;</span>, <span class="string">&quot;good&quot;</span>, <span class="string">&quot;very good&quot;</span>])</span><br><span class="line">df[<span class="string">&quot;grade&quot;</span>]</span><br></pre></td></tr></table></figure>




<pre><code>0    very good
1         good
2         good
3    very good
4    very good
5     very bad
Name: grade, dtype: category
Categories (5, object): [&#39;very bad&#39;, &#39;bad&#39;, &#39;medium&#39;, &#39;good&#39;, &#39;very good&#39;]</code></pre>
<p>정렬은 사전 순서가 아닌, 해당 범주에서 지정된 순서대로 배열한다.<br>(very bad, bad, medium, good, very good 의 순서로 기재되어 있기 때문에 정렬 결과도 해당 순서대로 배열된다.)</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df.sort_values(by=<span class="string">&quot;grade&quot;</span>)</span><br></pre></td></tr></table></figure>




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

<pre><code>.dataframe tbody tr th &#123;
    vertical-align: top;
&#125;

.dataframe thead th &#123;
    text-align: right;
&#125;</code></pre>
<p></style></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>id</th>
      <th>raw_grade</th>
      <th>grade</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>5</th>
      <td>6</td>
      <td>e</td>
      <td>very bad</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2</td>
      <td>b</td>
      <td>good</td>
    </tr>
    <tr>
      <th>2</th>
      <td>3</td>
      <td>b</td>
      <td>good</td>
    </tr>
    <tr>
      <th>0</th>
      <td>1</td>
      <td>a</td>
      <td>very good</td>
    </tr>
    <tr>
      <th>3</th>
      <td>4</td>
      <td>a</td>
      <td>very good</td>
    </tr>
    <tr>
      <th>4</th>
      <td>5</td>
      <td>a</td>
      <td>very good</td>
    </tr>
  </tbody>
</table>
</div>



<p>범주의 열을 기준으로 그룹화하면 빈 범주도 표시된다.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df.groupby(<span class="string">&quot;grade&quot;</span>).size()</span><br></pre></td></tr></table></figure>




<pre><code>grade
very bad     1
bad          0
medium       0
good         2
very good    3
dtype: int64</code></pre>
<h2 id="11-그래프-Plotting"><a href="#11-그래프-Plotting" class="headerlink" title="11) 그래프 (Plotting)"></a>11) 그래프 (Plotting)</h2><p><a target="_blank" rel="noopener" href="https://pandas.pydata.org/pandas-docs/stable/user_guide/visualization.html">Visualization</a></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ts = pd.Series(np.random.randn(<span class="number">1000</span>), index=pd.date_range(<span class="string">&#x27;1/1/2000&#x27;</span>, periods=<span class="number">1000</span>))</span><br><span class="line">ts = ts.cumsum()</span><br><span class="line">ts.plot()</span><br></pre></td></tr></table></figure>




<pre><code>&lt;matplotlib.axes._subplots.AxesSubplot at 0x7f2486b26fd0&gt;</code></pre>
<p><img src="/images/pandas_10minutes/output_179_1.png" alt="png"></p>
<p>데이터프레임에서 <a target="_blank" rel="noopener" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.plot.html">plot()</a> 메소드는 라벨이 존재하는 모든 열을 그릴 때 편리하다.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">df = pd.DataFrame(np.random.randn(<span class="number">1000</span>, <span class="number">4</span>), index=ts.index,</span><br><span class="line">                  columns=[<span class="string">&#x27;A&#x27;</span>, <span class="string">&#x27;B&#x27;</span>, <span class="string">&#x27;C&#x27;</span>, <span class="string">&#x27;D&#x27;</span>])  </span><br><span class="line">df = df.cumsum()</span><br><span class="line">plt.figure(); df.plot(); plt.legend(loc=<span class="string">&#x27;best&#x27;</span>)</span><br></pre></td></tr></table></figure>




<pre><code>&lt;matplotlib.legend.Legend at 0x7f24869c8b38&gt;




&lt;Figure size 432x288 with 0 Axes&gt;</code></pre>
<p><img src="/images/pandas_10minutes/output_181_2.png" alt="png"></p>
<h2 id="12-데이터-입-출력-Getting-Data-In-Out"><a href="#12-데이터-입-출력-Getting-Data-In-Out" class="headerlink" title="12) 데이터 입/출력 (Getting Data In/Out)"></a>12) 데이터 입/출력 (Getting Data In/Out)</h2><h3 id="12-1-CSV"><a href="#12-1-CSV" class="headerlink" title="12-1) CSV"></a>12-1) CSV</h3><p><a target="_blank" rel="noopener" href="https://pandas.pydata.org/pandas-docs/stable/user_guide/io.html#io-store-in-csv">csv 파일에 쓴다.</a></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df.to_csv(<span class="string">&#x27;foo.csv&#x27;</span>)</span><br></pre></td></tr></table></figure>

<p><a target="_blank" rel="noopener" href="https://pandas.pydata.org/pandas-docs/stable/user_guide/io.html#io-read-csv-table">csv 파일을 읽는다.</a></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pd.read_csv(<span class="string">&#x27;foo.csv&#x27;</span>)</span><br></pre></td></tr></table></figure>




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

<pre><code>.dataframe tbody tr th &#123;
    vertical-align: top;
&#125;

.dataframe thead th &#123;
    text-align: right;
&#125;</code></pre>
<p></style></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Unnamed: 0</th>
      <th>A</th>
      <th>B</th>
      <th>C</th>
      <th>D</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>2000-01-01</td>
      <td>0.360804</td>
      <td>1.476213</td>
      <td>-1.265585</td>
      <td>-0.240420</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2000-01-02</td>
      <td>0.152304</td>
      <td>2.910805</td>
      <td>-0.935624</td>
      <td>0.640792</td>
    </tr>
    <tr>
      <th>2</th>
      <td>2000-01-03</td>
      <td>0.149786</td>
      <td>3.056196</td>
      <td>-0.101461</td>
      <td>0.915478</td>
    </tr>
    <tr>
      <th>3</th>
      <td>2000-01-04</td>
      <td>0.448929</td>
      <td>1.637972</td>
      <td>-0.117874</td>
      <td>-0.625844</td>
    </tr>
    <tr>
      <th>4</th>
      <td>2000-01-05</td>
      <td>0.942632</td>
      <td>1.786469</td>
      <td>-0.512949</td>
      <td>-2.706819</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>995</th>
      <td>2002-09-22</td>
      <td>-8.745917</td>
      <td>28.871050</td>
      <td>5.372952</td>
      <td>-34.693096</td>
    </tr>
    <tr>
      <th>996</th>
      <td>2002-09-23</td>
      <td>-8.355598</td>
      <td>28.768257</td>
      <td>5.388912</td>
      <td>-33.545690</td>
    </tr>
    <tr>
      <th>997</th>
      <td>2002-09-24</td>
      <td>-9.838548</td>
      <td>28.876310</td>
      <td>7.481758</td>
      <td>-33.658828</td>
    </tr>
    <tr>
      <th>998</th>
      <td>2002-09-25</td>
      <td>-10.267756</td>
      <td>29.122170</td>
      <td>7.903836</td>
      <td>-33.454289</td>
    </tr>
    <tr>
      <th>999</th>
      <td>2002-09-26</td>
      <td>-9.947559</td>
      <td>28.628743</td>
      <td>6.611331</td>
      <td>-32.886421</td>
    </tr>
  </tbody>
</table>
<p>1000 rows × 5 columns</p>
</div>



<h3 id="12-2-HDF5"><a href="#12-2-HDF5" class="headerlink" title="12-2) HDF5"></a>12-2) HDF5</h3><p><a target="_blank" rel="noopener" href="https://pandas.pydata.org/pandas-docs/stable/user_guide/io.html#hdf5-pytables">HDF5 Store에 쓰고 읽어온다.</a></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">df.to_hdf(<span class="string">&#x27;foo.h5&#x27;</span>,<span class="string">&#x27;df&#x27;</span>)</span><br><span class="line">pd.read_hdf(<span class="string">&#x27;foo.h5&#x27;</span>,<span class="string">&#x27;df&#x27;</span>)</span><br></pre></td></tr></table></figure>




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

<pre><code>.dataframe tbody tr th &#123;
    vertical-align: top;
&#125;

.dataframe thead th &#123;
    text-align: right;
&#125;</code></pre>
<p></style></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>A</th>
      <th>B</th>
      <th>C</th>
      <th>D</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2000-01-01</th>
      <td>0.360804</td>
      <td>1.476213</td>
      <td>-1.265585</td>
      <td>-0.240420</td>
    </tr>
    <tr>
      <th>2000-01-02</th>
      <td>0.152304</td>
      <td>2.910805</td>
      <td>-0.935624</td>
      <td>0.640792</td>
    </tr>
    <tr>
      <th>2000-01-03</th>
      <td>0.149786</td>
      <td>3.056196</td>
      <td>-0.101461</td>
      <td>0.915478</td>
    </tr>
    <tr>
      <th>2000-01-04</th>
      <td>0.448929</td>
      <td>1.637972</td>
      <td>-0.117874</td>
      <td>-0.625844</td>
    </tr>
    <tr>
      <th>2000-01-05</th>
      <td>0.942632</td>
      <td>1.786469</td>
      <td>-0.512949</td>
      <td>-2.706819</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>2002-09-22</th>
      <td>-8.745917</td>
      <td>28.871050</td>
      <td>5.372952</td>
      <td>-34.693096</td>
    </tr>
    <tr>
      <th>2002-09-23</th>
      <td>-8.355598</td>
      <td>28.768257</td>
      <td>5.388912</td>
      <td>-33.545690</td>
    </tr>
    <tr>
      <th>2002-09-24</th>
      <td>-9.838548</td>
      <td>28.876310</td>
      <td>7.481758</td>
      <td>-33.658828</td>
    </tr>
    <tr>
      <th>2002-09-25</th>
      <td>-10.267756</td>
      <td>29.122170</td>
      <td>7.903836</td>
      <td>-33.454289</td>
    </tr>
    <tr>
      <th>2002-09-26</th>
      <td>-9.947559</td>
      <td>28.628743</td>
      <td>6.611331</td>
      <td>-32.886421</td>
    </tr>
  </tbody>
</table>
<p>1000 rows × 4 columns</p>
</div>



<h3 id="12-3-Excel"><a href="#12-3-Excel" class="headerlink" title="12-3) Excel"></a>12-3) Excel</h3><p><a target="_blank" rel="noopener" href="https://pandas.pydata.org/pandas-docs/stable/user_guide/io.html#writing-excel-files">엑셀 파일(MS Excel)에 쓴다.</a> </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df.to_excel(<span class="string">&#x27;foo.xlsx&#x27;</span>, sheet_name=<span class="string">&#x27;Sheet1&#x27;</span>)</span><br></pre></td></tr></table></figure>

<p><a target="_blank" rel="noopener" href="https://pandas.pydata.org/pandas-docs/stable/user_guide/io.html#reading-excel-files">엑셀 파일(MS Excel)을 읽어온다.</a> </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pd.read_excel(<span class="string">&#x27;foo.xlsx&#x27;</span>, <span class="string">&#x27;Sheet1&#x27;</span>, index_col=<span class="literal">None</span>, na_values=[<span class="string">&#x27;NA&#x27;</span>])</span><br></pre></td></tr></table></figure>




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

<pre><code>.dataframe tbody tr th &#123;
    vertical-align: top;
&#125;

.dataframe thead th &#123;
    text-align: right;
&#125;</code></pre>
<p></style></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Unnamed: 0</th>
      <th>A</th>
      <th>B</th>
      <th>C</th>
      <th>D</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>2000-01-01</td>
      <td>0.360804</td>
      <td>1.476213</td>
      <td>-1.265585</td>
      <td>-0.240420</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2000-01-02</td>
      <td>0.152304</td>
      <td>2.910805</td>
      <td>-0.935624</td>
      <td>0.640792</td>
    </tr>
    <tr>
      <th>2</th>
      <td>2000-01-03</td>
      <td>0.149786</td>
      <td>3.056196</td>
      <td>-0.101461</td>
      <td>0.915478</td>
    </tr>
    <tr>
      <th>3</th>
      <td>2000-01-04</td>
      <td>0.448929</td>
      <td>1.637972</td>
      <td>-0.117874</td>
      <td>-0.625844</td>
    </tr>
    <tr>
      <th>4</th>
      <td>2000-01-05</td>
      <td>0.942632</td>
      <td>1.786469</td>
      <td>-0.512949</td>
      <td>-2.706819</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>995</th>
      <td>2002-09-22</td>
      <td>-8.745917</td>
      <td>28.871050</td>
      <td>5.372952</td>
      <td>-34.693096</td>
    </tr>
    <tr>
      <th>996</th>
      <td>2002-09-23</td>
      <td>-8.355598</td>
      <td>28.768257</td>
      <td>5.388912</td>
      <td>-33.545690</td>
    </tr>
    <tr>
      <th>997</th>
      <td>2002-09-24</td>
      <td>-9.838548</td>
      <td>28.876310</td>
      <td>7.481758</td>
      <td>-33.658828</td>
    </tr>
    <tr>
      <th>998</th>
      <td>2002-09-25</td>
      <td>-10.267756</td>
      <td>29.122170</td>
      <td>7.903836</td>
      <td>-33.454289</td>
    </tr>
    <tr>
      <th>999</th>
      <td>2002-09-26</td>
      <td>-9.947559</td>
      <td>28.628743</td>
      <td>6.611331</td>
      <td>-32.886421</td>
    </tr>
  </tbody>
</table>
<p>1000 rows × 5 columns</p>
</div>



<h2 id="13-잡았다-Gotchas"><a href="#13-잡았다-Gotchas" class="headerlink" title="13) 잡았다! (Gotchas)"></a>13) 잡았다! (Gotchas)</h2><p>연산 수행 시 다음과 같은 예외 상황을 볼 수도 있다.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> pd.Series([<span class="literal">False</span>, <span class="literal">True</span>, <span class="literal">False</span>]):</span><br><span class="line">    print(<span class="string">&quot;I was true&quot;</span>)</span><br></pre></td></tr></table></figure>


<pre><code>---------------------------------------------------------------------------

ValueError                                Traceback (most recent call last)

&lt;ipython-input-135-5c782b38cd2f&gt; in &lt;module&gt;()
----&gt; 1 if pd.Series([False, True, False]):
      2     print(&quot;I was true&quot;)


/usr/local/lib/python3.6/dist-packages/pandas/core/generic.py in __nonzero__(self)
   1328     def __nonzero__(self):
   1329         raise ValueError(
-&gt; 1330             f&quot;The truth value of a &#123;type(self).__name__&#125; is ambiguous. &quot;
   1331             &quot;Use a.empty, a.bool(), a.item(), a.any() or a.all().&quot;
   1332         )


ValueError: The truth value of a Series is ambiguous. Use a.empty, a.bool(), a.item(), a.any() or a.all().</code></pre>
<p>이러한 경우에는 any(), all(), empty 등을 사용해서 무엇을 원하는지를 선택 (반영)해주어야 한다.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> pd.Series([<span class="literal">False</span>, <span class="literal">True</span>, <span class="literal">False</span>])<span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">None</span>:</span><br><span class="line">      print(<span class="string">&quot;I was not None&quot;</span>)</span><br></pre></td></tr></table></figure>

<pre><code>I was not None</code></pre>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2020-11-02T02:47:22.284Z" title="2020-11-02T02:47:22.284Z">2020-11-02</time></span><span class="level-item">Updated&nbsp;<time dateTime="2020-11-04T06:55:23.975Z" title="2020-11-04T06:55:23.975Z">2020-11-04</time></span><span class="level-item"><a class="link-muted" href="/categories/study/">study</a></span><span class="level-item">5 minutes read (About 824 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2020/11/02/study/kaggle_edu_Chapter_1_2_Python_visualisation_seaborn/">Chapter_1_2_Python_visualisation_seaborn</a></h1><div class="content"><h2 id="1-Matplotlib-amp-Seaborn"><a href="#1-Matplotlib-amp-Seaborn" class="headerlink" title="1. Matplotlib &amp; Seaborn"></a>1. Matplotlib &amp; Seaborn</h2><h3 id="1-1-기본-개요"><a href="#1-1-기본-개요" class="headerlink" title="1-1. 기본 개요"></a>1-1. 기본 개요</h3><p><code>Matplotlib</code>: 파이썬 표준 시각화 도구. 파이썬 그래프의 기본 토대. 객체지향 프로그래밍을 지원하므로 세세하게 꾸밀 수 있다. </p>
<p><code>Seaborn</code>: 파이썬 시각화 도구의 고급 버전. <code>Matplotlib</code>에 비해 비교적 단순한 인터페이스를 제공하기 때문에 초보자도 어렵지 않게 배울 수 있다. </p>
<h3 id="1-2-matplotlib-amp-Seabon-설치"><a href="#1-2-matplotlib-amp-Seabon-설치" class="headerlink" title="1-2. matplotlib &amp; Seabon 설치"></a>1-2. matplotlib &amp; Seabon 설치</h3><p>설치방법은 윈도우 명령 프롬프트, MacOS, Linux 터미널에서 <code>pip install matplotlib</code>입력하면 되지만, 간혹 여러 환경에 따라 달라질 수 있으니 관련 싸이트에서 확인하기를 바란다. </p>
<ul>
<li>matplotlib 설치 방법: <a target="_blank" rel="noopener" href="https://matplotlib.org/users/installing.html">https://matplotlib.org/users/installing.html</a></li>
<li>seaborn 설치 방법: <a target="_blank" rel="noopener" href="https://seaborn.pydata.org/installing.html">https://seaborn.pydata.org/installing.html</a></li>
</ul>
<h2 id="2-기본적인-시각화-문법"><a href="#2-기본적인-시각화-문법" class="headerlink" title="2. 기본적인 시각화 문법"></a>2. 기본적인 시각화 문법</h2><ul>
<li>시각화 문법은 아래와 같다. </li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> seaborn <span class="keyword">as</span> sns</span><br><span class="line">sns.name_of_graph(x, y, dataset, options)</span><br></pre></td></tr></table></figure>

<p>우선 Sample 데이터를 불러와서 데이터를 확인해보자.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> seaborn <span class="keyword">as</span> sns</span><br><span class="line"><span class="keyword">from</span> tabulate <span class="keyword">import</span> tabulate</span><br><span class="line"></span><br><span class="line">sns.<span class="built_in">set</span>()</span><br><span class="line">tips = sns.load_dataset(<span class="string">&quot;tips&quot;</span>)</span><br><span class="line">print(tabulate(tips.head(), tablefmt=<span class="string">&quot;pipe&quot;</span>, headers=<span class="string">&quot;keys&quot;</span>)) <span class="comment"># Hugo 블로그 전용</span></span><br></pre></td></tr></table></figure>

<p><img src="https://user-images.githubusercontent.com/72365720/97825407-e6d7b080-1d01-11eb-9a03-eec23ec6f457.png"></p>
<p>위 데이터는 매우 간단한 테이블일 수 있지만, 다변량의 그래프를 하나의 이미지 안에서 어떤 형태로 그래프를 작성할 것인지 선택하는 것은 쉽지 않다.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sns.relplot(x=<span class="string">&quot;total_bill&quot;</span>, y=<span class="string">&quot;tip&quot;</span>, col=<span class="string">&quot;time&quot;</span>,</span><br><span class="line">            hue=<span class="string">&quot;sex&quot;</span>, style=<span class="string">&quot;smoker&quot;</span>, size=<span class="string">&quot;size&quot;</span>,</span><br><span class="line">            data=tips);</span><br></pre></td></tr></table></figure>

<p><img src="https://user-images.githubusercontent.com/72365720/97827219-f9a0b400-1d06-11eb-9188-7702f30cd9df.png"></p>
<ul>
<li>소스코드에 대한 설명을 간단히 하면 아래와 같다. <ul>
<li><code>relplot</code>은 다변량의 그래프를 작성할 때 사용한다. </li>
<li><code>col</code> 대신 <code>row</code>를 사용해도 된다. 여기에는 <code>categorical(=범주형)</code> 자료가 온다. (만약 값이 많으면..?)</li>
<li><code>hue</code>는 그래프에 표현되는 색상을 의미한다.  </li>
<li><code>style</code>은 범주형 자료를 다르게 표현할 때 사용한다. (예: 동그라미, 별표 등) 대개 범주형 데이터를 지정한다. </li>
<li><code>size</code> 자료의 크기를 의미한다.</li>
</ul>
</li>
</ul>
<h2 id="3-Grouped-barplots"><a href="#3-Grouped-barplots" class="headerlink" title="3. Grouped barplots"></a>3. Grouped barplots</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> seaborn <span class="keyword">as</span> sns</span><br><span class="line">sns.set_theme(style=<span class="string">&quot;whitegrid&quot;</span>) <span class="comment"># 축의 색상</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 온라인 저장소에서 예제 데이터 세트를 로드한다.</span></span><br><span class="line">penguins = sns.load_dataset(<span class="string">&quot;penguins&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Draw a nested barplot by species and sex</span></span><br><span class="line">g = sns.catplot(</span><br><span class="line">    data=penguins, kind=<span class="string">&quot;bar&quot;</span>,</span><br><span class="line">    x=<span class="string">&quot;species&quot;</span>, y=<span class="string">&quot;body_mass_g&quot;</span>, hue=<span class="string">&quot;sex&quot;</span>,</span><br><span class="line">    ci=<span class="string">&quot;sd&quot;</span>, palette=<span class="string">&quot;dark&quot;</span>, alpha=<span class="number">.6</span>, height=<span class="number">6</span></span><br><span class="line">)</span><br><span class="line">g.despine(left=<span class="literal">True</span>)</span><br><span class="line">g.set_axis_labels(<span class="string">&quot;&quot;</span>, <span class="string">&quot;Body mass (g)&quot;</span>)</span><br><span class="line">g.legend.set_title(<span class="string">&quot;&quot;</span>)</span><br></pre></td></tr></table></figure>

<p><img src="https://user-images.githubusercontent.com/72365720/97826790-e6d9af80-1d05-11eb-9681-40ccb05055aa.png"></p>
<ul>
<li>소스코드에 대한 설명을 간단히 하면 아래와 같다. <ul>
<li><code>seaborn.catplot</code>: 하나의 수치형 변수와 하나 이상의 범주형 변수 간의 관계를 보여주는 그래프</li>
<li><code>kind</code>: 그릴 플롯의 종류는 범주 형 좌표축 수준 플로팅 함수의 이름에 해당합니다.</li>
<li><code>x, y, hue</code>: 긴 형식의 데이터를 그리기위한 입력입니다.</li>
<li><code>ci</code>: 추정값 주위를 그리는 신뢰 구간의 크기입니다. “sd”인 경우 부트 스트랩을 건너 뛰고 관측 값의 표준 편차를 그립니다.</li>
<li><code>palette</code>: 다양한 수준의 hue변수 에 사용할 색상 입니다.</li>
<li><code>alpha</code>: ?? (그래프 투명도? 숫자가 작으면 연해진다.)</li>
<li><code>height</code>: 전체 플롯 세로 높이 (가로도 자동으로 조정된다?)</li>
</ul>
</li>
</ul>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2020-11-02T00:24:20.726Z" title="2020-11-02T00:24:20.726Z">2020-11-02</time></span><span class="level-item">Updated&nbsp;<time dateTime="2020-11-04T06:55:49.202Z" title="2020-11-04T06:55:49.202Z">2020-11-04</time></span><span class="level-item"><a class="link-muted" href="/categories/study/">study</a></span><span class="level-item">a few seconds read (About 106 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2020/11/02/study/sql_10minutes_ch08_basic_command_language/">8장 기본 명령어</a></h1><div class="content"><h2 id="8-1-SELECT"><a href="#8-1-SELECT" class="headerlink" title="8.1 SELECT"></a>8.1 SELECT</h2><h3 id="테이블-전체를-검색하려면"><a href="#테이블-전체를-검색하려면" class="headerlink" title="테이블 전체를 검색하려면 *"></a>테이블 전체를 검색하려면 *</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> *</span><br><span class="line"><span class="keyword">FROM</span>   TB_CUSTOMER;</span><br></pre></td></tr></table></figure>

<h3 id="필드가-많은-테이블에서-필요한-내용만-검색하려면"><a href="#필드가-많은-테이블에서-필요한-내용만-검색하려면" class="headerlink" title="필드가 많은 테이블에서 필요한 내용만 검색하려면 ,"></a>필드가 많은 테이블에서 필요한 내용만 검색하려면 ,</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> CUSTOMER_CD,</span><br><span class="line">       CUSTOMER_NM,</span><br><span class="line">       PHONE_NUMBER,</span><br><span class="line">       EMAIL</span><br><span class="line"><span class="keyword">FROM</span>   TB_CUSTOMER;</span><br></pre></td></tr></table></figure>

<h3 id="필드-제목을-한글로-바꾸려면-AS-생략가능"><a href="#필드-제목을-한글로-바꾸려면-AS-생략가능" class="headerlink" title="필드 제목을 한글로 바꾸려면 AS (생략가능)"></a>필드 제목을 한글로 바꾸려면 AS (생략가능)</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> CUSTOMER_CD <span class="keyword">AS</span> 고객코드,</span><br><span class="line">       CUSTOMER_NM <span class="keyword">AS</span> 고객명,</span><br><span class="line">       PHONE_NUMBER <span class="keyword">AS</span> 전화번호,</span><br><span class="line">       EMAIL <span class="keyword">AS</span> 이메일</span><br><span class="line"><span class="keyword">FROM</span>   TB_CUSTOMER;</span><br></pre></td></tr></table></figure>

<p>수정한 게 안 올라간다</p>
</div></article></div></div><div class="column column-left is-4-tablet is-4-desktop is-4-widescreen  order-1"><div class="card widget" data-type="profile"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="avatar" src="/img/avatar.png" alt="Your name"></figure><p class="title is-size-4 is-block" style="line-height:inherit;">Your name</p><p class="is-size-6 is-block">Your title</p><p class="is-size-6 is-flex justify-content-center"><i class="fas fa-map-marker-alt mr-1"></i><span>Your location</span></p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">Posts</p><a href="/archives"><p class="title">7</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Category</p><a href="/categories"><p class="title">1</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Tags</p><a href="/tags"><p class="title">0</p></a></div></div></nav><div class="level"><a class="level-item button is-primary is-rounded" href="https://github.com/ppoffice" target="_blank" rel="noopener">Follow</a></div><div class="level is-mobile"><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Github" href="https://github.com/ppoffice"><i class="fab fa-github"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Facebook" href="https://facebook.com"><i class="fab fa-facebook"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Twitter" href="https://twitter.com"><i class="fab fa-twitter"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Dribbble" href="https://dribbble.com"><i class="fab fa-dribbble"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="RSS" href="/"><i class="fas fa-rss"></i></a></div></div></div><!--!--><div class="card widget" data-type="links"><div class="card-content"><div class="menu"><h3 class="menu-label">Links</h3><ul class="menu-list"><li><a class="level is-mobile" href="https://hexo.io" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">Hexo</span></span><span class="level-right"><span class="level-item tag">hexo.io</span></span></a></li><li><a class="level is-mobile" href="https://bulma.io" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">Bulma</span></span><span class="level-right"><span class="level-item tag">bulma.io</span></span></a></li></ul></div></div></div><div class="card widget" data-type="categories"><div class="card-content"><div class="menu"><h3 class="menu-label">Categories</h3><ul class="menu-list"><li><a class="level is-mobile" href="/categories/study/"><span class="level-start"><span class="level-item">study</span></span><span class="level-end"><span class="level-item tag">6</span></span></a></li></ul></div></div></div><div class="card widget" data-type="recent-posts"><div class="card-content"><h3 class="menu-label">Recents</h3><article class="media"><div class="media-content"><p class="date"><time dateTime="2020-11-05T06:48:07.094Z">2020-11-05</time></p><p class="title"><a href="/2020/11/05/study/seaborn_with_matplotlib/">Seaborn with Matplotlib</a></p><p class="categories"><a href="/categories/study/">study</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2020-11-05T06:47:33.422Z">2020-11-05</time></p><p class="title"><a href="/2020/11/05/study/kaggle_home_credit_default_risk/">캐글 Home Credit Default Risk 분석</a></p><p class="categories"><a href="/categories/study/">study</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2020-11-05T01:13:10.547Z">2020-11-05</time></p><p class="title"><a href="/2020/11/05/study/kaggle_titanic/">캐글 타이타닉 분석</a></p><p class="categories"><a href="/categories/study/">study</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2020-11-04T06:24:43.147Z">2020-11-04</time></p><p class="title"><a href="/2020/11/04/study/pandas_10minutes/">판다스 10분 완성</a></p><p class="categories"><a href="/categories/study/">study</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2020-11-02T02:47:22.284Z">2020-11-02</time></p><p class="title"><a href="/2020/11/02/study/kaggle_edu_Chapter_1_2_Python_visualisation_seaborn/">Chapter_1_2_Python_visualisation_seaborn</a></p><p class="categories"><a href="/categories/study/">study</a></p></div></article></div></div><div class="card widget" data-type="archives"><div class="card-content"><div class="menu"><h3 class="menu-label">Archives</h3><ul class="menu-list"><li><a class="level is-mobile" href="/archives/2020/11/"><span class="level-start"><span class="level-item">November 2020</span></span><span class="level-end"><span class="level-item tag">6</span></span></a></li><li><a class="level is-mobile" href="/archives/2020/10/"><span class="level-start"><span class="level-item">October 2020</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></div></div></div><!--!--><div class="card widget" data-type="subscribe-email"><div class="card-content"><div class="menu"><h3 class="menu-label">Subscribe for updates</h3><form action="https://feedburner.google.com/fb/a/mailverify" method="post" target="popupwindow" onsubmit="window.open(&#039;https://feedburner.google.com/fb/a/mailverify?uri=&#039;,&#039;popupwindow&#039;,&#039;scrollbars=yes,width=550,height=520&#039;);return true"><input type="hidden" value="" name="uri"><input type="hidden" name="loc" value="en_US"><div class="field has-addons"><div class="control has-icons-left is-expanded"><input class="input" name="email" type="email" placeholder="Email"><span class="icon is-small is-left"><i class="fas fa-envelope"></i></span></div><div class="control"><input class="button" type="submit" value="Subscribe"></div></div></form></div></div></div><div class="card widget"><div class="card-content"><div class="notification is-danger">You need to set <code>client_id</code> and <code>slot_id</code> to show this AD unit. Please set it in <code>_config.yml</code>.</div></div></div></div><!--!--></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="/img/logo.svg" alt="제목" height="28"></a><p class="is-size-7"><span>&copy; 2020 JustY</span>  Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a></p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/ppoffice/hexo-theme-icarus"><i class="fab fa-github"></i></a></p></div></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" async></script><script>moment.locale("en");</script><script>var IcarusThemeSettings = {
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="/js/column.js"></script><script src="/js/animation.js"></script><a id="back-to-top" title="Back to top" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><!--!--><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.js" defer></script><script>window.addEventListener("load", () => {
      window.cookieconsent.initialise({
        type: "info",
        theme: "edgeless",
        static: false,
        position: "bottom-left",
        content: {
          message: "This website uses cookies to improve your experience.",
          dismiss: "Got it!",
          allow: "Allow cookies",
          deny: "Decline",
          link: "Learn more",
          policy: "Cookie Policy",
          href: "https://www.cookiesandyou.com/",
        },
        palette: {
          popup: {
            background: "#edeff5",
            text: "#838391"
          },
          button: {
            background: "#4b81e8"
          },
        },
      });
    });</script><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><!--!--><!--!--><!--!--><script src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="Type something..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"Type something...","untitled":"(Untitled)","posts":"Posts","pages":"Pages","categories":"Categories","tags":"Tags"});
        });</script></body></html>